function cA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function uA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R_={exports:{}},Fu={},D_={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),dA=Symbol.for("react.portal"),hA=Symbol.for("react.fragment"),fA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),pA=Symbol.for("react.provider"),gA=Symbol.for("react.context"),yA=Symbol.for("react.forward_ref"),vA=Symbol.for("react.suspense"),xA=Symbol.for("react.memo"),wA=Symbol.for("react.lazy"),k0=Symbol.iterator;function _A(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var V_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L_=Object.assign,M_={};function so(t,e,n){this.props=t,this.context=e,this.refs=M_,this.updater=n||V_}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function O_(){}O_.prototype=so.prototype;function Km(t,e,n){this.props=t,this.context=e,this.refs=M_,this.updater=n||V_}var Gm=Km.prototype=new O_;Gm.constructor=Km;L_(Gm,so.prototype);Gm.isPureReactComponent=!0;var C0=Array.isArray,F_=Object.prototype.hasOwnProperty,Qm={current:null},U_={key:!0,ref:!0,__self:!0,__source:!0};function B_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)F_.call(e,r)&&!U_.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:sl,type:t,key:i,ref:o,props:s,_owner:Qm.current}}function bA(t,e){return{$$typeof:sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===sl}function TA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P0=/\/+/g;function eh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TA(""+t.key):e.toString(36)}function xc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sl:case dA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+eh(o,0):r,C0(s)?(n="",t!=null&&(n=t.replace(P0,"$&/")+"/"),xc(s,e,n,"",function(d){return d})):s!=null&&(Ym(s)&&(s=bA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(P0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",C0(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+eh(i,l);o+=xc(i,e,n,c,s)}else if(c=_A(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+eh(i,l++),o+=xc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wl(t,e,n){if(t==null)return t;var r=[],s=0;return xc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function EA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},wc={transition:null},IA={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:wc,ReactCurrentOwner:Qm};function z_(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:Wl,forEach:function(t,e,n){Wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wl(t,function(){e++}),e},toArray:function(t){return Wl(t,function(e){return e})||[]},only:function(t){if(!Ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ae.Component=so;ae.Fragment=hA;ae.Profiler=mA;ae.PureComponent=Km;ae.StrictMode=fA;ae.Suspense=vA;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA;ae.act=z_;ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=L_({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Qm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)F_.call(e,c)&&!U_.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:sl,type:t.type,key:s,ref:i,props:r,_owner:o}};ae.createContext=function(t){return t={$$typeof:gA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pA,_context:t},t.Consumer=t};ae.createElement=B_;ae.createFactory=function(t){var e=B_.bind(null,t);return e.type=t,e};ae.createRef=function(){return{current:null}};ae.forwardRef=function(t){return{$$typeof:yA,render:t}};ae.isValidElement=Ym;ae.lazy=function(t){return{$$typeof:wA,_payload:{_status:-1,_result:t},_init:EA}};ae.memo=function(t,e){return{$$typeof:xA,type:t,compare:e===void 0?null:e}};ae.startTransition=function(t){var e=wc.transition;wc.transition={};try{t()}finally{wc.transition=e}};ae.unstable_act=z_;ae.useCallback=function(t,e){return Ct.current.useCallback(t,e)};ae.useContext=function(t){return Ct.current.useContext(t)};ae.useDebugValue=function(){};ae.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};ae.useEffect=function(t,e){return Ct.current.useEffect(t,e)};ae.useId=function(){return Ct.current.useId()};ae.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};ae.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};ae.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};ae.useMemo=function(t,e){return Ct.current.useMemo(t,e)};ae.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};ae.useRef=function(t){return Ct.current.useRef(t)};ae.useState=function(t){return Ct.current.useState(t)};ae.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};ae.useTransition=function(){return Ct.current.useTransition()};ae.version="18.3.1";D_.exports=ae;var C=D_.exports;const SA=uA(C),NA=cA({__proto__:null,default:SA},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA=C,kA=Symbol.for("react.element"),CA=Symbol.for("react.fragment"),PA=Object.prototype.hasOwnProperty,jA=AA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RA={key:!0,ref:!0,__self:!0,__source:!0};function $_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)PA.call(e,r)&&!RA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:kA,type:t,key:i,ref:o,props:s,_owner:jA.current}}Fu.Fragment=CA;Fu.jsx=$_;Fu.jsxs=$_;R_.exports=Fu;var a=R_.exports,W_={exports:{}},Gt={},H_={exports:{}},q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var Y=U.length;U.push(K);e:for(;0<Y;){var le=Y-1>>>1,ge=U[le];if(0<s(ge,K))U[le]=K,U[Y]=ge,Y=le;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Y=U.pop();if(Y!==K){U[0]=Y;e:for(var le=0,ge=U.length,Fe=ge>>>1;le<Fe;){var Fn=2*(le+1)-1,Un=U[Fn],Bn=Fn+1,zn=U[Bn];if(0>s(Un,Y))Bn<ge&&0>s(zn,Un)?(U[le]=zn,U[Bn]=Y,le=Bn):(U[le]=Un,U[Fn]=Y,le=Fn);else if(Bn<ge&&0>s(zn,Y))U[le]=zn,U[Bn]=Y,le=Bn;else break e}}return K}function s(U,K){var Y=U.sortIndex-K.sortIndex;return Y!==0?Y:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,f=null,p=3,y=!1,b=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=U)r(d),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(d)}}function P(U){if(_=!1,x(U),!b)if(n(c)!==null)b=!0,W(V);else{var K=n(d);K!==null&&Q(P,K.startTime-U)}}function V(U,K){b=!1,_&&(_=!1,T(v),v=-1),y=!0;var Y=p;try{for(x(K),f=n(c);f!==null&&(!(f.expirationTime>K)||U&&!j());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var ge=le(f.expirationTime<=K);K=t.unstable_now(),typeof ge=="function"?f.callback=ge:f===n(c)&&r(c),x(K)}else r(c);f=n(c)}if(f!==null)var Fe=!0;else{var Fn=n(d);Fn!==null&&Q(P,Fn.startTime-K),Fe=!1}return Fe}finally{f=null,p=Y,y=!1}}var L=!1,S=null,v=-1,E=5,N=-1;function j(){return!(t.unstable_now()-N<E)}function R(){if(S!==null){var U=t.unstable_now();N=U;var K=!0;try{K=S(!0,U)}finally{K?k():(L=!1,S=null)}}else L=!1}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,O=oe.port2;oe.port1.onmessage=R,k=function(){O.postMessage(null)}}else k=function(){A(R,0)};function W(U){S=U,L||(L=!0,k())}function Q(U,K){v=A(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,W(V))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Y=p;p=K;try{return U()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=p;p=U;try{return K()}finally{p=Y}},t.unstable_scheduleCallback=function(U,K,Y){var le=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,U){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Y+ge,U={id:h++,callback:K,priorityLevel:U,startTime:Y,expirationTime:ge,sortIndex:-1},Y>le?(U.sortIndex=Y,e(d,U),n(c)===null&&U===n(d)&&(_?(T(v),v=-1):_=!0,Q(P,Y-le))):(U.sortIndex=ge,e(c,U),b||y||(b=!0,W(V))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var K=p;return function(){var Y=p;p=K;try{return U.apply(this,arguments)}finally{p=Y}}}})(q_);H_.exports=q_;var DA=H_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=C,qt=DA;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K_=new Set,Ta={};function Ws(t,e){Oi(t,e),Oi(t+"Capture",e)}function Oi(t,e){for(Ta[t]=e,t=0;t<e.length;t++)K_.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tf=Object.prototype.hasOwnProperty,LA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0={},R0={};function MA(t){return tf.call(R0,t)?!0:tf.call(j0,t)?!1:LA.test(t)?R0[t]=!0:(j0[t]=!0,!1)}function OA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FA(t,e,n,r){if(e===null||typeof e>"u"||OA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Pt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Pt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Pt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Pt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Pt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Pt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Pt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Pt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Pt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);ct[e]=new Pt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xm,Jm);ct[e]=new Pt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xm,Jm);ct[e]=new Pt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Pt(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Pt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zm(t,e,n,r){var s=ct.hasOwnProperty(e)?ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FA(e,n,s,r)&&(n=null),r||s===null?MA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fr=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),li=Symbol.for("react.portal"),ci=Symbol.for("react.fragment"),ep=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),G_=Symbol.for("react.provider"),Q_=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),rf=Symbol.for("react.suspense"),sf=Symbol.for("react.suspense_list"),np=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),Y_=Symbol.for("react.offscreen"),D0=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var Ce=Object.assign,th;function Ho(t){if(th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);th=e&&e[1]||""}return`
`+th+t}var nh=!1;function rh(t,e){if(!t||nh)return"";nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{nh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ho(t):""}function UA(t){switch(t.tag){case 5:return Ho(t.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return t=rh(t.type,!1),t;case 11:return t=rh(t.type.render,!1),t;case 1:return t=rh(t.type,!0),t;default:return""}}function of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ci:return"Fragment";case li:return"Portal";case nf:return"Profiler";case ep:return"StrictMode";case rf:return"Suspense";case sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q_:return(t.displayName||"Context")+".Consumer";case G_:return(t._context.displayName||"Context")+".Provider";case tp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case np:return e=t.displayName||null,e!==null?e:of(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return of(t(e))}catch{}}return null}function BA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return of(e);case 8:return e===ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zA(t){var e=X_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ql(t){t._valueTracker||(t._valueTracker=zA(t))}function J_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function af(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z_(t,e){e=e.checked,e!=null&&Zm(t,"checked",e,!1)}function lf(t,e){Z_(t,e);var n=qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cf(t,e.type,n):e.hasOwnProperty("defaultValue")&&cf(t,e.type,qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function L0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cf(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qo=Array.isArray;function Ni(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(qo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qr(n)}}function eb(t,e){var n=qr(e.value),r=qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function O0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function df(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kl,nb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$A=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(t){$A.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),na[e]=na[t]})});function rb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||na.hasOwnProperty(t)&&na[t]?(""+e).trim():e+"px"}function sb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var WA=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hf(t,e){if(e){if(WA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function ff(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mf=null;function rp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pf=null,Ai=null,ki=null;function F0(t){if(t=al(t)){if(typeof pf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Wu(e),pf(t.stateNode,t.type,e))}}function ib(t){Ai?ki?ki.push(t):ki=[t]:Ai=t}function ob(){if(Ai){var t=Ai,e=ki;if(ki=Ai=null,F0(t),e)for(t=0;t<e.length;t++)F0(e[t])}}function ab(t,e){return t(e)}function lb(){}var sh=!1;function cb(t,e,n){if(sh)return t(e,n);sh=!0;try{return ab(t,e,n)}finally{sh=!1,(Ai!==null||ki!==null)&&(lb(),ob())}}function Ia(t,e){var n=t.stateNode;if(n===null)return null;var r=Wu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var gf=!1;if(nr)try{var Do={};Object.defineProperty(Do,"passive",{get:function(){gf=!0}}),window.addEventListener("test",Do,Do),window.removeEventListener("test",Do,Do)}catch{gf=!1}function HA(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ra=!1,Hc=null,qc=!1,yf=null,qA={onError:function(t){ra=!0,Hc=t}};function KA(t,e,n,r,s,i,o,l,c){ra=!1,Hc=null,HA.apply(qA,arguments)}function GA(t,e,n,r,s,i,o,l,c){if(KA.apply(this,arguments),ra){if(ra){var d=Hc;ra=!1,Hc=null}else throw Error(z(198));qc||(qc=!0,yf=d)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ub(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U0(t){if(Hs(t)!==t)throw Error(z(188))}function QA(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return U0(s),t;if(i===r)return U0(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function db(t){return t=QA(t),t!==null?hb(t):null}function hb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hb(t);if(e!==null)return e;t=t.sibling}return null}var fb=qt.unstable_scheduleCallback,B0=qt.unstable_cancelCallback,YA=qt.unstable_shouldYield,XA=qt.unstable_requestPaint,ze=qt.unstable_now,JA=qt.unstable_getCurrentPriorityLevel,sp=qt.unstable_ImmediatePriority,mb=qt.unstable_UserBlockingPriority,Kc=qt.unstable_NormalPriority,ZA=qt.unstable_LowPriority,pb=qt.unstable_IdlePriority,Uu=null,Sn=null;function ek(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Uu,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:rk,tk=Math.log,nk=Math.LN2;function rk(t){return t>>>=0,t===0?32:31-(tk(t)/nk|0)|0}var Gl=64,Ql=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ko(l):(i&=o,i!==0&&(r=Ko(i)))}else o=n&~s,o!==0?r=Ko(o):i!==0&&(r=Ko(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),s=1<<n,r|=t[n],e&=~s;return r}function sk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ik(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-pn(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=sk(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function vf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gb(){var t=Gl;return Gl<<=1,!(Gl&4194240)&&(Gl=64),t}function ih(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function ok(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-pn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function yb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vb,op,xb,wb,_b,xf=!1,Yl=[],Dr=null,Vr=null,Lr=null,Sa=new Map,Na=new Map,Tr=[],ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function z0(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Sa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(e.pointerId)}}function Vo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=al(e),e!==null&&op(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lk(t,e,n,r,s){switch(e){case"focusin":return Dr=Vo(Dr,t,e,n,r,s),!0;case"dragenter":return Vr=Vo(Vr,t,e,n,r,s),!0;case"mouseover":return Lr=Vo(Lr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Sa.set(i,Vo(Sa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Na.set(i,Vo(Na.get(i)||null,t,e,n,r,s)),!0}return!1}function bb(t){var e=vs(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=ub(n),e!==null){t.blockedOn=e,_b(t.priority,function(){xb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mf=r,n.target.dispatchEvent(r),mf=null}else return e=al(n),e!==null&&op(e),t.blockedOn=n,!1;e.shift()}return!0}function $0(t,e,n){_c(t)&&n.delete(e)}function ck(){xf=!1,Dr!==null&&_c(Dr)&&(Dr=null),Vr!==null&&_c(Vr)&&(Vr=null),Lr!==null&&_c(Lr)&&(Lr=null),Sa.forEach($0),Na.forEach($0)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,xf||(xf=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,ck)))}function Aa(t){function e(s){return Lo(s,t)}if(0<Yl.length){Lo(Yl[0],t);for(var n=1;n<Yl.length;n++){var r=Yl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&Lo(Dr,t),Vr!==null&&Lo(Vr,t),Lr!==null&&Lo(Lr,t),Sa.forEach(e),Na.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)bb(n),n.blockedOn===null&&Tr.shift()}var Ci=fr.ReactCurrentBatchConfig,Qc=!0;function uk(t,e,n,r){var s=ye,i=Ci.transition;Ci.transition=null;try{ye=1,ap(t,e,n,r)}finally{ye=s,Ci.transition=i}}function dk(t,e,n,r){var s=ye,i=Ci.transition;Ci.transition=null;try{ye=4,ap(t,e,n,r)}finally{ye=s,Ci.transition=i}}function ap(t,e,n,r){if(Qc){var s=wf(t,e,n,r);if(s===null)ph(t,e,r,Yc,n),z0(t,r);else if(lk(s,t,e,n,r))r.stopPropagation();else if(z0(t,r),e&4&&-1<ak.indexOf(t)){for(;s!==null;){var i=al(s);if(i!==null&&vb(i),i=wf(t,e,n,r),i===null&&ph(t,e,r,Yc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ph(t,e,r,null,n)}}var Yc=null;function wf(t,e,n,r){if(Yc=null,t=rp(r),t=vs(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ub(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yc=t,null}function Tb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JA()){case sp:return 1;case mb:return 4;case Kc:case ZA:return 16;case pb:return 536870912;default:return 16}default:return 16}}var Cr=null,lp=null,bc=null;function Eb(){if(bc)return bc;var t,e=lp,n=e.length,r,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return bc=s.slice(t,1<r?1-r:void 0)}function Tc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function W0(){return!1}function Qt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xl:W0,this.isPropagationStopped=W0,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=Qt(io),ol=Ce({},io,{view:0,detail:0}),hk=Qt(ol),oh,ah,Mo,Bu=Ce({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(oh=t.screenX-Mo.screenX,ah=t.screenY-Mo.screenY):ah=oh=0,Mo=t),oh)},movementY:function(t){return"movementY"in t?t.movementY:ah}}),H0=Qt(Bu),fk=Ce({},Bu,{dataTransfer:0}),mk=Qt(fk),pk=Ce({},ol,{relatedTarget:0}),lh=Qt(pk),gk=Ce({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),yk=Qt(gk),vk=Ce({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xk=Qt(vk),wk=Ce({},io,{data:0}),q0=Qt(wk),_k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ek(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tk[t])?!!e[t]:!1}function up(){return Ek}var Ik=Ce({},ol,{key:function(t){if(t.key){var e=_k[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(t){return t.type==="keypress"?Tc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sk=Qt(Ik),Nk=Ce({},Bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K0=Qt(Nk),Ak=Ce({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),kk=Qt(Ak),Ck=Ce({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pk=Qt(Ck),jk=Ce({},Bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rk=Qt(jk),Dk=[9,13,27,32],dp=nr&&"CompositionEvent"in window,sa=null;nr&&"documentMode"in document&&(sa=document.documentMode);var Vk=nr&&"TextEvent"in window&&!sa,Ib=nr&&(!dp||sa&&8<sa&&11>=sa),G0=" ",Q0=!1;function Sb(t,e){switch(t){case"keyup":return Dk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function Lk(t,e){switch(t){case"compositionend":return Nb(e);case"keypress":return e.which!==32?null:(Q0=!0,G0);case"textInput":return t=e.data,t===G0&&Q0?null:t;default:return null}}function Mk(t,e){if(ui)return t==="compositionend"||!dp&&Sb(t,e)?(t=Eb(),bc=lp=Cr=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ib&&e.locale!=="ko"?null:e.data;default:return null}}var Ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ok[t.type]:e==="textarea"}function Ab(t,e,n,r){ib(r),e=Xc(e,"onChange"),0<e.length&&(n=new cp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ia=null,ka=null;function Fk(t){Fb(t,0)}function zu(t){var e=fi(t);if(J_(e))return t}function Uk(t,e){if(t==="change")return e}var kb=!1;if(nr){var ch;if(nr){var uh="oninput"in document;if(!uh){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),uh=typeof X0.oninput=="function"}ch=uh}else ch=!1;kb=ch&&(!document.documentMode||9<document.documentMode)}function J0(){ia&&(ia.detachEvent("onpropertychange",Cb),ka=ia=null)}function Cb(t){if(t.propertyName==="value"&&zu(ka)){var e=[];Ab(e,ka,t,rp(t)),cb(Fk,e)}}function Bk(t,e,n){t==="focusin"?(J0(),ia=e,ka=n,ia.attachEvent("onpropertychange",Cb)):t==="focusout"&&J0()}function zk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(ka)}function $k(t,e){if(t==="click")return zu(e)}function Wk(t,e){if(t==="input"||t==="change")return zu(e)}function Hk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:Hk;function Ca(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tf.call(e,s)||!yn(t[s],e[s]))return!1}return!0}function Z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ev(t,e){var n=Z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z0(n)}}function Pb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jb(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qk(t){var e=jb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pb(n.ownerDocument.documentElement,n)){if(r!==null&&hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ev(n,i);var o=ev(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Kk=nr&&"documentMode"in document&&11>=document.documentMode,di=null,_f=null,oa=null,bf=!1;function tv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bf||di==null||di!==Wc(r)||(r=di,"selectionStart"in r&&hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oa&&Ca(oa,r)||(oa=r,r=Xc(_f,"onSelect"),0<r.length&&(e=new cp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=di)))}function Jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hi={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},dh={},Rb={};nr&&(Rb=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function $u(t){if(dh[t])return dh[t];if(!hi[t])return t;var e=hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rb)return dh[t]=e[n];return t}var Db=$u("animationend"),Vb=$u("animationiteration"),Lb=$u("animationstart"),Mb=$u("transitionend"),Ob=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){Ob.set(t,e),Ws(e,[t])}for(var hh=0;hh<nv.length;hh++){var fh=nv[hh],Gk=fh.toLowerCase(),Qk=fh[0].toUpperCase()+fh.slice(1);es(Gk,"on"+Qk)}es(Db,"onAnimationEnd");es(Vb,"onAnimationIteration");es(Lb,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(Mb,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function rv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GA(r,e,void 0,t),t.currentTarget=null}function Fb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;rv(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;rv(s,l,d),i=c}}}if(qc)throw t=yf,qc=!1,yf=null,t}function be(t,e){var n=e[Nf];n===void 0&&(n=e[Nf]=new Set);var r=t+"__bubble";n.has(r)||(Ub(e,t,2,!1),n.add(r))}function mh(t,e,n){var r=0;e&&(r|=4),Ub(n,t,r,e)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Pa(t){if(!t[Zl]){t[Zl]=!0,K_.forEach(function(n){n!=="selectionchange"&&(Yk.has(n)||mh(n,!1,t),mh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zl]||(e[Zl]=!0,mh("selectionchange",!1,e))}}function Ub(t,e,n,r){switch(Tb(e)){case 1:var s=uk;break;case 4:s=dk;break;default:s=ap}n=s.bind(null,e,n,t),s=void 0,!gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ph(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vs(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}cb(function(){var d=i,h=rp(n),f=[];e:{var p=Ob.get(t);if(p!==void 0){var y=cp,b=t;switch(t){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":y=Sk;break;case"focusin":b="focus",y=lh;break;case"focusout":b="blur",y=lh;break;case"beforeblur":case"afterblur":y=lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=kk;break;case Db:case Vb:case Lb:y=yk;break;case Mb:y=Pk;break;case"scroll":y=hk;break;case"wheel":y=Rk;break;case"copy":case"cut":case"paste":y=xk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=K0}var _=(e&4)!==0,A=!_&&t==="scroll",T=_?p!==null?p+"Capture":null:p;_=[];for(var w=d,x;w!==null;){x=w;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,T!==null&&(P=Ia(w,T),P!=null&&_.push(ja(w,P,x)))),A)break;w=w.return}0<_.length&&(p=new y(p,b,null,n,h),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==mf&&(b=n.relatedTarget||n.fromElement)&&(vs(b)||b[rr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=d,b=b?vs(b):null,b!==null&&(A=Hs(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(_=H0,P="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=K0,P="onPointerLeave",T="onPointerEnter",w="pointer"),A=y==null?p:fi(y),x=b==null?p:fi(b),p=new _(P,w+"leave",y,n,h),p.target=A,p.relatedTarget=x,P=null,vs(h)===d&&(_=new _(T,w+"enter",b,n,h),_.target=x,_.relatedTarget=A,P=_),A=P,y&&b)t:{for(_=y,T=b,w=0,x=_;x;x=ri(x))w++;for(x=0,P=T;P;P=ri(P))x++;for(;0<w-x;)_=ri(_),w--;for(;0<x-w;)T=ri(T),x--;for(;w--;){if(_===T||T!==null&&_===T.alternate)break t;_=ri(_),T=ri(T)}_=null}else _=null;y!==null&&sv(f,p,y,_,!1),b!==null&&A!==null&&sv(f,A,b,_,!0)}}e:{if(p=d?fi(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var V=Uk;else if(Y0(p))if(kb)V=Wk;else{V=zk;var L=Bk}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=$k);if(V&&(V=V(t,d))){Ab(f,V,n,h);break e}L&&L(t,p,d),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&cf(p,"number",p.value)}switch(L=d?fi(d):window,t){case"focusin":(Y0(L)||L.contentEditable==="true")&&(di=L,_f=d,oa=null);break;case"focusout":oa=_f=di=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,tv(f,n,h);break;case"selectionchange":if(Kk)break;case"keydown":case"keyup":tv(f,n,h)}var S;if(dp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ui?Sb(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ib&&n.locale!=="ko"&&(ui||v!=="onCompositionStart"?v==="onCompositionEnd"&&ui&&(S=Eb()):(Cr=h,lp="value"in Cr?Cr.value:Cr.textContent,ui=!0)),L=Xc(d,v),0<L.length&&(v=new q0(v,t,null,n,h),f.push({event:v,listeners:L}),S?v.data=S:(S=Nb(n),S!==null&&(v.data=S)))),(S=Vk?Lk(t,n):Mk(t,n))&&(d=Xc(d,"onBeforeInput"),0<d.length&&(h=new q0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=S))}Fb(f,e)})}function ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ia(t,n),i!=null&&r.unshift(ja(t,i,s)),i=Ia(t,e),i!=null&&r.push(ja(t,i,s))),t=t.return}return r}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Ia(n,i),c!=null&&o.unshift(ja(n,c,l))):s||(c=Ia(n,i),c!=null&&o.push(ja(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Xk=/\r\n?/g,Jk=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(Xk,`
`).replace(Jk,"")}function ec(t,e,n){if(e=iv(e),iv(t)!==e&&n)throw Error(z(425))}function Jc(){}var Tf=null,Ef=null;function If(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sf=typeof setTimeout=="function"?setTimeout:void 0,Zk=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,eC=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(tC)}:Sf;function tC(t){setTimeout(function(){throw t})}function gh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Aa(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function av(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Tn="__reactFiber$"+oo,Ra="__reactProps$"+oo,rr="__reactContainer$"+oo,Nf="__reactEvents$"+oo,nC="__reactListeners$"+oo,rC="__reactHandles$"+oo;function vs(t){var e=t[Tn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[Tn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=av(t);t!==null;){if(n=t[Tn])return n;t=av(t)}return e}t=n,n=t.parentNode}return null}function al(t){return t=t[Tn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Wu(t){return t[Ra]||null}var Af=[],mi=-1;function ts(t){return{current:t}}function Ee(t){0>mi||(t.current=Af[mi],Af[mi]=null,mi--)}function we(t,e){mi++,Af[mi]=t.current,t.current=e}var Kr={},_t=ts(Kr),Mt=ts(!1),Ps=Kr;function Fi(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(t){return t=t.childContextTypes,t!=null}function Zc(){Ee(Mt),Ee(_t)}function lv(t,e,n){if(_t.current!==Kr)throw Error(z(168));we(_t,e),we(Mt,n)}function Bb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,BA(t)||"Unknown",s));return Ce({},n,r)}function eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Ps=_t.current,we(_t,t),we(Mt,Mt.current),!0}function cv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Bb(t,e,Ps),r.__reactInternalMemoizedMergedChildContext=t,Ee(Mt),Ee(_t),we(_t,t)):Ee(Mt),we(Mt,n)}var Kn=null,Hu=!1,yh=!1;function zb(t){Kn===null?Kn=[t]:Kn.push(t)}function sC(t){Hu=!0,zb(t)}function ns(){if(!yh&&Kn!==null){yh=!0;var t=0,e=ye;try{var n=Kn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,Hu=!1}catch(s){throw Kn!==null&&(Kn=Kn.slice(t+1)),fb(sp,ns),s}finally{ye=e,yh=!1}}return null}var pi=[],gi=0,tu=null,nu=0,en=[],tn=0,js=null,Gn=1,Qn="";function ms(t,e){pi[gi++]=nu,pi[gi++]=tu,tu=t,nu=e}function $b(t,e,n){en[tn++]=Gn,en[tn++]=Qn,en[tn++]=js,js=t;var r=Gn;t=Qn;var s=32-pn(r)-1;r&=~(1<<s),n+=1;var i=32-pn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Gn=1<<32-pn(e)+s|n<<s|r,Qn=i+t}else Gn=1<<i|n<<s|r,Qn=t}function fp(t){t.return!==null&&(ms(t,1),$b(t,1,0))}function mp(t){for(;t===tu;)tu=pi[--gi],pi[gi]=null,nu=pi[--gi],pi[gi]=null;for(;t===js;)js=en[--tn],en[tn]=null,Qn=en[--tn],en[tn]=null,Gn=en[--tn],en[tn]=null}var Ht=null,zt=null,Ie=!1,mn=null;function Wb(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,zt=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:Gn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,zt=null,!0):!1;default:return!1}}function kf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cf(t){if(Ie){var e=zt;if(e){var n=e;if(!uv(t,e)){if(kf(t))throw Error(z(418));e=Mr(n.nextSibling);var r=Ht;e&&uv(t,e)?Wb(r,n):(t.flags=t.flags&-4097|2,Ie=!1,Ht=t)}}else{if(kf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ie=!1,Ht=t}}}function dv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function tc(t){if(t!==Ht)return!1;if(!Ie)return dv(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!If(t.type,t.memoizedProps)),e&&(e=zt)){if(kf(t))throw Hb(),Error(z(418));for(;e;)Wb(t,e),e=Mr(e.nextSibling)}if(dv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ht?Mr(t.stateNode.nextSibling):null;return!0}function Hb(){for(var t=zt;t;)t=Mr(t.nextSibling)}function Ui(){zt=Ht=null,Ie=!1}function pp(t){mn===null?mn=[t]:mn.push(t)}var iC=fr.ReactCurrentBatchConfig;function Oo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function nc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hv(t){var e=t._init;return e(t._payload)}function qb(t){function e(T,w){if(t){var x=T.deletions;x===null?(T.deletions=[w],T.flags|=16):x.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function s(T,w){return T=Br(T,w),T.index=0,T.sibling=null,T}function i(T,w,x){return T.index=x,t?(x=T.alternate,x!==null?(x=x.index,x<w?(T.flags|=2,w):x):(T.flags|=2,w)):(T.flags|=1048576,w)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function l(T,w,x,P){return w===null||w.tag!==6?(w=Eh(x,T.mode,P),w.return=T,w):(w=s(w,x),w.return=T,w)}function c(T,w,x,P){var V=x.type;return V===ci?h(T,w,x.props.children,P,x.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_r&&hv(V)===w.type)?(P=s(w,x.props),P.ref=Oo(T,w,x),P.return=T,P):(P=Cc(x.type,x.key,x.props,null,T.mode,P),P.ref=Oo(T,w,x),P.return=T,P)}function d(T,w,x,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Ih(x,T.mode,P),w.return=T,w):(w=s(w,x.children||[]),w.return=T,w)}function h(T,w,x,P,V){return w===null||w.tag!==7?(w=Is(x,T.mode,P,V),w.return=T,w):(w=s(w,x),w.return=T,w)}function f(T,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Eh(""+w,T.mode,x),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hl:return x=Cc(w.type,w.key,w.props,null,T.mode,x),x.ref=Oo(T,null,w),x.return=T,x;case li:return w=Ih(w,T.mode,x),w.return=T,w;case _r:var P=w._init;return f(T,P(w._payload),x)}if(qo(w)||Ro(w))return w=Is(w,T.mode,x,null),w.return=T,w;nc(T,w)}return null}function p(T,w,x,P){var V=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return V!==null?null:l(T,w,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:return x.key===V?c(T,w,x,P):null;case li:return x.key===V?d(T,w,x,P):null;case _r:return V=x._init,p(T,w,V(x._payload),P)}if(qo(x)||Ro(x))return V!==null?null:h(T,w,x,P,null);nc(T,x)}return null}function y(T,w,x,P,V){if(typeof P=="string"&&P!==""||typeof P=="number")return T=T.get(x)||null,l(w,T,""+P,V);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Hl:return T=T.get(P.key===null?x:P.key)||null,c(w,T,P,V);case li:return T=T.get(P.key===null?x:P.key)||null,d(w,T,P,V);case _r:var L=P._init;return y(T,w,x,L(P._payload),V)}if(qo(P)||Ro(P))return T=T.get(x)||null,h(w,T,P,V,null);nc(w,P)}return null}function b(T,w,x,P){for(var V=null,L=null,S=w,v=w=0,E=null;S!==null&&v<x.length;v++){S.index>v?(E=S,S=null):E=S.sibling;var N=p(T,S,x[v],P);if(N===null){S===null&&(S=E);break}t&&S&&N.alternate===null&&e(T,S),w=i(N,w,v),L===null?V=N:L.sibling=N,L=N,S=E}if(v===x.length)return n(T,S),Ie&&ms(T,v),V;if(S===null){for(;v<x.length;v++)S=f(T,x[v],P),S!==null&&(w=i(S,w,v),L===null?V=S:L.sibling=S,L=S);return Ie&&ms(T,v),V}for(S=r(T,S);v<x.length;v++)E=y(S,T,v,x[v],P),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?v:E.key),w=i(E,w,v),L===null?V=E:L.sibling=E,L=E);return t&&S.forEach(function(j){return e(T,j)}),Ie&&ms(T,v),V}function _(T,w,x,P){var V=Ro(x);if(typeof V!="function")throw Error(z(150));if(x=V.call(x),x==null)throw Error(z(151));for(var L=V=null,S=w,v=w=0,E=null,N=x.next();S!==null&&!N.done;v++,N=x.next()){S.index>v?(E=S,S=null):E=S.sibling;var j=p(T,S,N.value,P);if(j===null){S===null&&(S=E);break}t&&S&&j.alternate===null&&e(T,S),w=i(j,w,v),L===null?V=j:L.sibling=j,L=j,S=E}if(N.done)return n(T,S),Ie&&ms(T,v),V;if(S===null){for(;!N.done;v++,N=x.next())N=f(T,N.value,P),N!==null&&(w=i(N,w,v),L===null?V=N:L.sibling=N,L=N);return Ie&&ms(T,v),V}for(S=r(T,S);!N.done;v++,N=x.next())N=y(S,T,v,N.value,P),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?v:N.key),w=i(N,w,v),L===null?V=N:L.sibling=N,L=N);return t&&S.forEach(function(R){return e(T,R)}),Ie&&ms(T,v),V}function A(T,w,x,P){if(typeof x=="object"&&x!==null&&x.type===ci&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:e:{for(var V=x.key,L=w;L!==null;){if(L.key===V){if(V=x.type,V===ci){if(L.tag===7){n(T,L.sibling),w=s(L,x.props.children),w.return=T,T=w;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_r&&hv(V)===L.type){n(T,L.sibling),w=s(L,x.props),w.ref=Oo(T,L,x),w.return=T,T=w;break e}n(T,L);break}else e(T,L);L=L.sibling}x.type===ci?(w=Is(x.props.children,T.mode,P,x.key),w.return=T,T=w):(P=Cc(x.type,x.key,x.props,null,T.mode,P),P.ref=Oo(T,w,x),P.return=T,T=P)}return o(T);case li:e:{for(L=x.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(T,w.sibling),w=s(w,x.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Ih(x,T.mode,P),w.return=T,T=w}return o(T);case _r:return L=x._init,A(T,w,L(x._payload),P)}if(qo(x))return b(T,w,x,P);if(Ro(x))return _(T,w,x,P);nc(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(T,w.sibling),w=s(w,x),w.return=T,T=w):(n(T,w),w=Eh(x,T.mode,P),w.return=T,T=w),o(T)):n(T,w)}return A}var Bi=qb(!0),Kb=qb(!1),ru=ts(null),su=null,yi=null,gp=null;function yp(){gp=yi=su=null}function vp(t){var e=ru.current;Ee(ru),t._currentValue=e}function Pf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pi(t,e){su=t,gp=yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(gp!==t)if(t={context:t,memoizedValue:e,next:null},yi===null){if(su===null)throw Error(z(308));yi=t,su.dependencies={lanes:0,firstContext:t}}else yi=yi.next=t;return e}var xs=null;function xp(t){xs===null?xs=[t]:xs.push(t)}function Gb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xp(e)):(n.next=s.next,s.next=n),e.interleaved=n,sr(t,r)}function sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function wp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,sr(t,n)}return s=r.interleaved,s===null?(e.next=e,xp(r)):(e.next=s.next,s.next=e),r.interleaved=e,sr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}function fv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function iu(t,e,n,r){var s=t.updateQueue;br=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,l=i;do{var p=l.lane,y=l.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=t,_=l;switch(p=e,y=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(y,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,p=typeof b=="function"?b.call(y,f,p):b,p==null)break e;f=Ce({},f,p);break e;case 2:br=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else y={eventTime:y,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=f):h=h.next=y,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ds|=o,t.lanes=o,t.memoizedState=f}}function mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var ll={},Nn=ts(ll),Da=ts(ll),Va=ts(ll);function ws(t){if(t===ll)throw Error(z(174));return t}function _p(t,e){switch(we(Va,e),we(Da,t),we(Nn,ll),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:df(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=df(e,t)}Ee(Nn),we(Nn,e)}function zi(){Ee(Nn),Ee(Da),Ee(Va)}function Yb(t){ws(Va.current);var e=ws(Nn.current),n=df(e,t.type);e!==n&&(we(Da,t),we(Nn,n))}function bp(t){Da.current===t&&(Ee(Nn),Ee(Da))}var Ne=ts(0);function ou(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vh=[];function Tp(){for(var t=0;t<vh.length;t++)vh[t]._workInProgressVersionPrimary=null;vh.length=0}var Ic=fr.ReactCurrentDispatcher,xh=fr.ReactCurrentBatchConfig,Rs=0,ke=null,Ye=null,et=null,au=!1,aa=!1,La=0,oC=0;function mt(){throw Error(z(321))}function Ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yn(t[n],e[n]))return!1;return!0}function Ip(t,e,n,r,s,i){if(Rs=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ic.current=t===null||t.memoizedState===null?uC:dC,t=n(r,s),aa){i=0;do{if(aa=!1,La=0,25<=i)throw Error(z(301));i+=1,et=Ye=null,e.updateQueue=null,Ic.current=hC,t=n(r,s)}while(aa)}if(Ic.current=lu,e=Ye!==null&&Ye.next!==null,Rs=0,et=Ye=ke=null,au=!1,e)throw Error(z(300));return t}function Sp(){var t=La!==0;return La=0,t}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ke.memoizedState=et=t:et=et.next=t,et}function ln(){if(Ye===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=et===null?ke.memoizedState:et.next;if(e!==null)et=e,Ye=t;else{if(t===null)throw Error(z(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},et===null?ke.memoizedState=et=t:et=et.next=t}return et}function Ma(t,e){return typeof e=="function"?e(t):e}function wh(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((Rs&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ke.lanes|=h,Ds|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,yn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ke.lanes|=i,Ds|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _h(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);yn(i,e.memoizedState)||(Vt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Xb(){}function Jb(t,e){var n=ke,r=ln(),s=e(),i=!yn(r.memoizedState,s);if(i&&(r.memoizedState=s,Vt=!0),r=r.queue,Np(t1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Oa(9,e1.bind(null,n,r,s,e),void 0,null),tt===null)throw Error(z(349));Rs&30||Zb(n,e,s)}return s}function Zb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e1(t,e,n,r){e.value=n,e.getSnapshot=r,n1(e)&&r1(t)}function t1(t,e,n){return n(function(){n1(e)&&r1(t)})}function n1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yn(t,n)}catch{return!0}}function r1(t){var e=sr(t,1);e!==null&&gn(e,t,1,-1)}function pv(t){var e=bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=cC.bind(null,ke,t),[e.memoizedState,t]}function Oa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function s1(){return ln().memoizedState}function Sc(t,e,n,r){var s=bn();ke.flags|=t,s.memoizedState=Oa(1|e,n,void 0,r===void 0?null:r)}function qu(t,e,n,r){var s=ln();r=r===void 0?null:r;var i=void 0;if(Ye!==null){var o=Ye.memoizedState;if(i=o.destroy,r!==null&&Ep(r,o.deps)){s.memoizedState=Oa(e,n,i,r);return}}ke.flags|=t,s.memoizedState=Oa(1|e,n,i,r)}function gv(t,e){return Sc(8390656,8,t,e)}function Np(t,e){return qu(2048,8,t,e)}function i1(t,e){return qu(4,2,t,e)}function o1(t,e){return qu(4,4,t,e)}function a1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l1(t,e,n){return n=n!=null?n.concat([t]):null,qu(4,4,a1.bind(null,e,t),n)}function Ap(){}function c1(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ep(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function u1(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ep(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function d1(t,e,n){return Rs&21?(yn(n,e)||(n=gb(),ke.lanes|=n,Ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function aC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=xh.transition;xh.transition={};try{t(!1),e()}finally{ye=n,xh.transition=r}}function h1(){return ln().memoizedState}function lC(t,e,n){var r=Ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f1(t))m1(e,n);else if(n=Gb(t,e,n,r),n!==null){var s=At();gn(n,t,r,s),p1(n,e,r)}}function cC(t,e,n){var r=Ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f1(t))m1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,yn(l,o)){var c=e.interleaved;c===null?(s.next=s,xp(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Gb(t,e,s,r),n!==null&&(s=At(),gn(n,t,r,s),p1(n,e,r))}}function f1(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function m1(t,e){aa=au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function p1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}var lu={readContext:an,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},uC={readContext:an,useCallback:function(t,e){return bn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:gv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4194308,4,a1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sc(4,2,t,e)},useMemo:function(t,e){var n=bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=bn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lC.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=bn();return t={current:t},e.memoizedState=t},useState:pv,useDebugValue:Ap,useDeferredValue:function(t){return bn().memoizedState=t},useTransition:function(){var t=pv(!1),e=t[0];return t=aC.bind(null,t[1]),bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,s=bn();if(Ie){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),tt===null)throw Error(z(349));Rs&30||Zb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gv(t1.bind(null,r,i,t),[t]),r.flags|=2048,Oa(9,e1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=bn(),e=tt.identifierPrefix;if(Ie){var n=Qn,r=Gn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dC={readContext:an,useCallback:c1,useContext:an,useEffect:Np,useImperativeHandle:l1,useInsertionEffect:i1,useLayoutEffect:o1,useMemo:u1,useReducer:wh,useRef:s1,useState:function(){return wh(Ma)},useDebugValue:Ap,useDeferredValue:function(t){var e=ln();return d1(e,Ye.memoizedState,t)},useTransition:function(){var t=wh(Ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Xb,useSyncExternalStore:Jb,useId:h1,unstable_isNewReconciler:!1},hC={readContext:an,useCallback:c1,useContext:an,useEffect:Np,useImperativeHandle:l1,useInsertionEffect:i1,useLayoutEffect:o1,useMemo:u1,useReducer:_h,useRef:s1,useState:function(){return _h(Ma)},useDebugValue:Ap,useDeferredValue:function(t){var e=ln();return Ye===null?e.memoizedState=t:d1(e,Ye.memoizedState,t)},useTransition:function(){var t=_h(Ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Xb,useSyncExternalStore:Jb,useId:h1,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ku={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=At(),s=Ur(t),i=Zn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Or(t,i,s),e!==null&&(gn(e,t,s,r),Ec(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=At(),s=Ur(t),i=Zn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Or(t,i,s),e!==null&&(gn(e,t,s,r),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=At(),r=Ur(t),s=Zn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Or(t,s,r),e!==null&&(gn(e,t,r,n),Ec(e,t,r))}};function yv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ca(n,r)||!Ca(s,i):!0}function g1(t,e,n){var r=!1,s=Kr,i=e.contextType;return typeof i=="object"&&i!==null?i=an(i):(s=Ot(e)?Ps:_t.current,r=e.contextTypes,i=(r=r!=null)?Fi(t,s):Kr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ku,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ku.enqueueReplaceState(e,e.state,null)}function Rf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},wp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=an(i):(i=Ot(e)?Ps:_t.current,s.context=Fi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(jf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ku.enqueueReplaceState(s,s.state,null),iu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $i(t,e){try{var n="",r=e;do n+=UA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Df(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fC=typeof WeakMap=="function"?WeakMap:Map;function y1(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uu||(uu=!0,Wf=r),Df(t,e)},n}function v1(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Df(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Df(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=NC.bind(null,t,e,n),e.then(t,t))}function wv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _v(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t)}var mC=fr.ReactCurrentOwner,Vt=!1;function St(t,e,n,r){e.child=t===null?Kb(e,null,n,r):Bi(e,t.child,n,r)}function bv(t,e,n,r,s){n=n.render;var i=e.ref;return Pi(e,s),r=Ip(t,e,n,r,i,s),n=Sp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ir(t,e,s)):(Ie&&n&&fp(e),e.flags|=1,St(t,e,r,s),e.child)}function Tv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,x1(t,e,i,r,s)):(t=Cc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ca,n(o,r)&&t.ref===e.ref)return ir(t,e,s)}return e.flags|=1,t=Br(i,r),t.ref=e.ref,t.return=e,e.child=t}function x1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ca(i,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,ir(t,e,s)}return Vf(t,e,n,r,s)}function w1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(xi,Bt),Bt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(xi,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,we(xi,Bt),Bt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,we(xi,Bt),Bt|=r;return St(t,e,s,n),e.child}function _1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vf(t,e,n,r,s){var i=Ot(n)?Ps:_t.current;return i=Fi(e,i),Pi(e,s),n=Ip(t,e,n,r,i,s),r=Sp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ir(t,e,s)):(Ie&&r&&fp(e),e.flags|=1,St(t,e,n,s),e.child)}function Ev(t,e,n,r,s){if(Ot(n)){var i=!0;eu(e)}else i=!1;if(Pi(e,s),e.stateNode===null)Nc(t,e),g1(e,n,r),Rf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=an(d):(d=Ot(n)?Ps:_t.current,d=Fi(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&vv(e,o,r,d),br=!1;var p=e.memoizedState;o.state=p,iu(e,r,o,s),c=e.memoizedState,l!==r||p!==c||Mt.current||br?(typeof h=="function"&&(jf(e,n,h,r),c=e.memoizedState),(l=br||yv(e,n,l,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qb(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:hn(e.type,l),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Ot(n)?Ps:_t.current,c=Fi(e,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&vv(e,o,r,c),br=!1,p=e.memoizedState,o.state=p,iu(e,r,o,s);var b=e.memoizedState;l!==f||p!==b||Mt.current||br?(typeof y=="function"&&(jf(e,n,y,r),b=e.memoizedState),(d=br||yv(e,n,d,r,p,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Lf(t,e,n,r,i,s)}function Lf(t,e,n,r,s,i){_1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&cv(e,n,!1),ir(t,e,i);r=e.stateNode,mC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bi(e,t.child,null,i),e.child=Bi(e,null,l,i)):St(t,e,l,i),e.memoizedState=r.state,s&&cv(e,n,!0),e.child}function b1(t){var e=t.stateNode;e.pendingContext?lv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lv(t,e.context,!1),_p(t,e.containerInfo)}function Iv(t,e,n,r,s){return Ui(),pp(s),e.flags|=256,St(t,e,n,r),e.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function Of(t){return{baseLanes:t,cachePool:null,transitions:null}}function T1(t,e,n){var r=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),we(Ne,s&1),t===null)return Cf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yu(o,r,0,null),t=Is(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Of(n),e.memoizedState=Mf,t):kp(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pC(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Br(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Br(l,i):(i=Is(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Of(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Mf,r}return i=t.child,t=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kp(t,e){return e=Yu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rc(t,e,n,r){return r!==null&&pp(r),Bi(e,t.child,null,n),t=kp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bh(Error(z(422))),rc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yu({mode:"visible",children:r.children},s,0,null),i=Is(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bi(e,t.child,null,o),e.child.memoizedState=Of(o),e.memoizedState=Mf,i);if(!(e.mode&1))return rc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(z(419)),r=bh(i,r,void 0),rc(t,e,o,r)}if(l=(o&t.childLanes)!==0,Vt||l){if(r=tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sr(t,s),gn(r,t,s,-1))}return Vp(),r=bh(Error(z(421))),rc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=AC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zt=Mr(s.nextSibling),Ht=e,Ie=!0,mn=null,t!==null&&(en[tn++]=Gn,en[tn++]=Qn,en[tn++]=js,Gn=t.id,Qn=t.overflow,js=e),e=kp(e,r.children),e.flags|=4096,e)}function Sv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pf(t.return,e,n)}function Th(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function E1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(St(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,n,e);else if(t.tag===19)Sv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ou(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Th(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ou(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Th(e,!0,n,null,i);break;case"together":Th(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gC(t,e,n){switch(e.tag){case 3:b1(e),Ui();break;case 5:Yb(e);break;case 1:Ot(e.type)&&eu(e);break;case 4:_p(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;we(ru,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?T1(t,e,n):(we(Ne,Ne.current&1),t=ir(t,e,n),t!==null?t.sibling:null);we(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),we(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,w1(t,e,n)}return ir(t,e,n)}var I1,Ff,S1,N1;I1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ff=function(){};S1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ws(Nn.current);var i=null;switch(n){case"input":s=af(t,s),r=af(t,r),i=[];break;case"select":s=Ce({},s,{value:void 0}),r=Ce({},r,{value:void 0}),i=[];break;case"textarea":s=uf(t,s),r=uf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jc)}hf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ta.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&be("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};N1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yC(t,e,n){var r=e.pendingProps;switch(mp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Ot(e.type)&&Zc(),pt(e),null;case 3:return r=e.stateNode,zi(),Ee(Mt),Ee(_t),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(Kf(mn),mn=null))),Ff(t,e),pt(e),null;case 5:bp(e);var s=ws(Va.current);if(n=e.type,t!==null&&e.stateNode!=null)S1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return pt(e),null}if(t=ws(Nn.current),tc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Tn]=e,r[Ra]=i,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(s=0;s<Go.length;s++)be(Go[s],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":V0(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":M0(r,i),be("invalid",r)}hf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ec(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ec(r.textContent,l,t),s=["children",""+l]):Ta.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":ql(r),L0(r,i,!0);break;case"textarea":ql(r),O0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tn]=e,t[Ra]=r,I1(t,e,!1,!1),e.stateNode=t;e:{switch(o=ff(n,r),n){case"dialog":be("cancel",t),be("close",t),s=r;break;case"iframe":case"object":case"embed":be("load",t),s=r;break;case"video":case"audio":for(s=0;s<Go.length;s++)be(Go[s],t);s=r;break;case"source":be("error",t),s=r;break;case"img":case"image":case"link":be("error",t),be("load",t),s=r;break;case"details":be("toggle",t),s=r;break;case"input":V0(t,r),s=af(t,r),be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ce({},r,{value:void 0}),be("invalid",t);break;case"textarea":M0(t,r),s=uf(t,r),be("invalid",t);break;default:s=r}hf(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?sb(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nb(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ea(t,c):typeof c=="number"&&Ea(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ta.hasOwnProperty(i)?c!=null&&i==="onScroll"&&be("scroll",t):c!=null&&Zm(t,i,c,o))}switch(n){case"input":ql(t),L0(t,r,!1);break;case"textarea":ql(t),O0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ni(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ni(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)N1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ws(Va.current),ws(Nn.current),tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Tn]=e,(i=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ec(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tn]=e,e.stateNode=r}return pt(e),null;case 13:if(Ee(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&zt!==null&&e.mode&1&&!(e.flags&128))Hb(),Ui(),e.flags|=98560,i=!1;else if(i=tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Tn]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),i=!1}else mn!==null&&(Kf(mn),mn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?Xe===0&&(Xe=3):Vp())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return zi(),Ff(t,e),t===null&&Pa(e.stateNode.containerInfo),pt(e),null;case 10:return vp(e.type._context),pt(e),null;case 17:return Ot(e.type)&&Zc(),pt(e),null;case 19:if(Ee(Ne),i=e.memoizedState,i===null)return pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Fo(i,!1);else{if(Xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ou(t),o!==null){for(e.flags|=128,Fo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&ze()>Wi&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304)}else{if(!r)if(t=ou(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ie)return pt(e),null}else 2*ze()-i.renderingStartTime>Wi&&n!==1073741824&&(e.flags|=128,r=!0,Fo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ze(),e.sibling=null,n=Ne.current,we(Ne,r?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Dp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function vC(t,e){switch(mp(e),e.tag){case 1:return Ot(e.type)&&Zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zi(),Ee(Mt),Ee(_t),Tp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bp(e),null;case 13:if(Ee(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Ne),null;case 4:return zi(),null;case 10:return vp(e.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var sc=!1,vt=!1,xC=typeof WeakSet=="function"?WeakSet:Set,q=null;function vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function Uf(t,e,n){try{n()}catch(r){De(t,e,r)}}var Nv=!1;function wC(t,e){if(Tf=Qc,t=jb(),hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++d===s&&(l=o),p===i&&++h===r&&(c=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:t,selectionRange:n},Qc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,A=b.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?_:hn(e.type,_),A);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){De(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return b=Nv,Nv=!1,b}function la(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Uf(e,n,i)}s=s.next}while(s!==r)}}function Gu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A1(t){var e=t.alternate;e!==null&&(t.alternate=null,A1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tn],delete e[Ra],delete e[Nf],delete e[nC],delete e[rC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function k1(t){return t.tag===5||t.tag===3||t.tag===4}function Av(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||k1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jc));else if(r!==4&&(t=t.child,t!==null))for(zf(t,e,n),t=t.sibling;t!==null;)zf(t,e,n),t=t.sibling}function $f(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($f(t,e,n),t=t.sibling;t!==null;)$f(t,e,n),t=t.sibling}var rt=null,fn=!1;function vr(t,e,n){for(n=n.child;n!==null;)C1(t,e,n),n=n.sibling}function C1(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Uu,n)}catch{}switch(n.tag){case 5:vt||vi(n,e);case 6:var r=rt,s=fn;rt=null,vr(t,e,n),rt=r,fn=s,rt!==null&&(fn?(t=rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rt.removeChild(n.stateNode));break;case 18:rt!==null&&(fn?(t=rt,n=n.stateNode,t.nodeType===8?gh(t.parentNode,n):t.nodeType===1&&gh(t,n),Aa(t)):gh(rt,n.stateNode));break;case 4:r=rt,s=fn,rt=n.stateNode.containerInfo,fn=!0,vr(t,e,n),rt=r,fn=s;break;case 0:case 11:case 14:case 15:if(!vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Uf(n,e,o),s=s.next}while(s!==r)}vr(t,e,n);break;case 1:if(!vt&&(vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){De(n,e,l)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(vt=(r=vt)||n.memoizedState!==null,vr(t,e,n),vt=r):vr(t,e,n);break;default:vr(t,e,n)}}function kv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xC),e.forEach(function(r){var s=kC.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rt=l.stateNode,fn=!1;break e;case 3:rt=l.stateNode.containerInfo,fn=!0;break e;case 4:rt=l.stateNode.containerInfo,fn=!0;break e}l=l.return}if(rt===null)throw Error(z(160));C1(i,o,s),rt=null,fn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){De(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P1(e,t),e=e.sibling}function P1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),_n(t),r&4){try{la(3,t,t.return),Gu(3,t)}catch(_){De(t,t.return,_)}try{la(5,t,t.return)}catch(_){De(t,t.return,_)}}break;case 1:un(e,t),_n(t),r&512&&n!==null&&vi(n,n.return);break;case 5:if(un(e,t),_n(t),r&512&&n!==null&&vi(n,n.return),t.flags&32){var s=t.stateNode;try{Ea(s,"")}catch(_){De(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Z_(s,i),ff(l,o);var d=ff(l,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?sb(s,f):h==="dangerouslySetInnerHTML"?nb(s,f):h==="children"?Ea(s,f):Zm(s,h,f,d)}switch(l){case"input":lf(s,i);break;case"textarea":eb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ni(s,!!i.multiple,y,!1):p!==!!i.multiple&&(i.defaultValue!=null?Ni(s,!!i.multiple,i.defaultValue,!0):Ni(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ra]=i}catch(_){De(t,t.return,_)}}break;case 6:if(un(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){De(t,t.return,_)}}break;case 3:if(un(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Aa(e.containerInfo)}catch(_){De(t,t.return,_)}break;case 4:un(e,t),_n(t);break;case 13:un(e,t),_n(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(jp=ze())),r&4&&kv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(vt=(d=vt)||h,un(e,t),vt=d):un(e,t),_n(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(p=q,y=p.child,p.tag){case 0:case 11:case 14:case 15:la(4,p,p.return);break;case 1:vi(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){De(r,n,_)}}break;case 5:vi(p,p.return);break;case 22:if(p.memoizedState!==null){Pv(f);continue}}y!==null?(y.return=p,q=y):Pv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rb("display",o))}catch(_){De(t,t.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){De(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(e,t),_n(t),r&4&&kv(t);break;case 21:break;default:un(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(k1(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ea(s,""),r.flags&=-33);var i=Av(t);$f(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Av(t);zf(t,l,o);break;default:throw Error(z(161))}}catch(c){De(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _C(t,e,n){q=t,j1(t)}function j1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||sc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vt;l=sc;var d=vt;if(sc=o,(vt=c)&&!d)for(q=s;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?jv(s):c!==null?(c.return=o,q=c):jv(s);for(;i!==null;)q=i,j1(i),i=i.sibling;q=s,sc=l,vt=d}Cv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):Cv(t)}}function Cv(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vt||Gu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mv(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Aa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}vt||e.flags&512&&Bf(e)}catch(p){De(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Pv(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function jv(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gu(4,e)}catch(c){De(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){De(e,s,c)}}var i=e.return;try{Bf(e)}catch(c){De(e,i,c)}break;case 5:var o=e.return;try{Bf(e)}catch(c){De(e,o,c)}}}catch(c){De(e,e.return,c)}if(e===t){q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,q=l;break}q=e.return}}var bC=Math.ceil,cu=fr.ReactCurrentDispatcher,Cp=fr.ReactCurrentOwner,rn=fr.ReactCurrentBatchConfig,he=0,tt=null,Ke=null,at=0,Bt=0,xi=ts(0),Xe=0,Fa=null,Ds=0,Qu=0,Pp=0,ca=null,jt=null,jp=0,Wi=1/0,Hn=null,uu=!1,Wf=null,Fr=null,ic=!1,Pr=null,du=0,ua=0,Hf=null,Ac=-1,kc=0;function At(){return he&6?ze():Ac!==-1?Ac:Ac=ze()}function Ur(t){return t.mode&1?he&2&&at!==0?at&-at:iC.transition!==null?(kc===0&&(kc=gb()),kc):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Tb(t.type)),t):1}function gn(t,e,n,r){if(50<ua)throw ua=0,Hf=null,Error(z(185));il(t,n,r),(!(he&2)||t!==tt)&&(t===tt&&(!(he&2)&&(Qu|=n),Xe===4&&Er(t,at)),Ft(t,r),n===1&&he===0&&!(e.mode&1)&&(Wi=ze()+500,Hu&&ns()))}function Ft(t,e){var n=t.callbackNode;ik(t,e);var r=Gc(t,t===tt?at:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?sC(Rv.bind(null,t)):zb(Rv.bind(null,t)),eC(function(){!(he&6)&&ns()}),n=null;else{switch(yb(r)){case 1:n=sp;break;case 4:n=mb;break;case 16:n=Kc;break;case 536870912:n=pb;break;default:n=Kc}n=U1(n,R1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R1(t,e){if(Ac=-1,kc=0,he&6)throw Error(z(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=Gc(t,t===tt?at:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hu(t,r);else{e=r;var s=he;he|=2;var i=V1();(tt!==t||at!==e)&&(Hn=null,Wi=ze()+500,Es(t,e));do try{IC();break}catch(l){D1(t,l)}while(!0);yp(),cu.current=i,he=s,Ke!==null?e=0:(tt=null,at=0,e=Xe)}if(e!==0){if(e===2&&(s=vf(t),s!==0&&(r=s,e=qf(t,s))),e===1)throw n=Fa,Es(t,0),Er(t,r),Ft(t,ze()),n;if(e===6)Er(t,r);else{if(s=t.current.alternate,!(r&30)&&!TC(s)&&(e=hu(t,r),e===2&&(i=vf(t),i!==0&&(r=i,e=qf(t,i))),e===1))throw n=Fa,Es(t,0),Er(t,r),Ft(t,ze()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ps(t,jt,Hn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=jp+500-ze(),10<e)){if(Gc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){At(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sf(ps.bind(null,t,jt,Hn),e);break}ps(t,jt,Hn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-pn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bC(r/1960))-r,10<r){t.timeoutHandle=Sf(ps.bind(null,t,jt,Hn),r);break}ps(t,jt,Hn);break;case 5:ps(t,jt,Hn);break;default:throw Error(z(329))}}}return Ft(t,ze()),t.callbackNode===n?R1.bind(null,t):null}function qf(t,e){var n=ca;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=hu(t,e),t!==2&&(e=jt,jt=n,e!==null&&Kf(e)),t}function Kf(t){jt===null?jt=t:jt.push.apply(jt,t)}function TC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~Pp,e&=~Qu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function Rv(t){if(he&6)throw Error(z(327));ji();var e=Gc(t,0);if(!(e&1))return Ft(t,ze()),null;var n=hu(t,e);if(t.tag!==0&&n===2){var r=vf(t);r!==0&&(e=r,n=qf(t,r))}if(n===1)throw n=Fa,Es(t,0),Er(t,e),Ft(t,ze()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ps(t,jt,Hn),Ft(t,ze()),null}function Rp(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Wi=ze()+500,Hu&&ns())}}function Vs(t){Pr!==null&&Pr.tag===0&&!(he&6)&&ji();var e=he;he|=1;var n=rn.transition,r=ye;try{if(rn.transition=null,ye=1,t)return t()}finally{ye=r,rn.transition=n,he=e,!(he&6)&&ns()}}function Dp(){Bt=xi.current,Ee(xi)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zk(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zc();break;case 3:zi(),Ee(Mt),Ee(_t),Tp();break;case 5:bp(r);break;case 4:zi();break;case 13:Ee(Ne);break;case 19:Ee(Ne);break;case 10:vp(r.type._context);break;case 22:case 23:Dp()}n=n.return}if(tt=t,Ke=t=Br(t.current,null),at=Bt=e,Xe=0,Fa=null,Pp=Qu=Ds=0,jt=ca=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xs=null}return t}function D1(t,e){do{var n=Ke;try{if(yp(),Ic.current=lu,au){for(var r=ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}au=!1}if(Rs=0,et=Ye=ke=null,aa=!1,La=0,Cp.current=null,n===null||n.return===null){Xe=1,Fa=e,Ke=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=at,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=wv(o);if(y!==null){y.flags&=-257,_v(y,o,l,i,e),y.mode&1&&xv(i,d,e),e=y,c=d;var b=e.updateQueue;if(b===null){var _=new Set;_.add(c),e.updateQueue=_}else b.add(c);break e}else{if(!(e&1)){xv(i,d,e),Vp();break e}c=Error(z(426))}}else if(Ie&&l.mode&1){var A=wv(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),_v(A,o,l,i,e),pp($i(c,l));break e}}i=c=$i(c,l),Xe!==4&&(Xe=2),ca===null?ca=[i]:ca.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=y1(i,c,e);fv(i,T);break e;case 1:l=c;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fr===null||!Fr.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=v1(i,l,e);fv(i,P);break e}}i=i.return}while(i!==null)}M1(n)}catch(V){e=V,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function V1(){var t=cu.current;return cu.current=lu,t===null?lu:t}function Vp(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(Ds&268435455)&&!(Qu&268435455)||Er(tt,at)}function hu(t,e){var n=he;he|=2;var r=V1();(tt!==t||at!==e)&&(Hn=null,Es(t,e));do try{EC();break}catch(s){D1(t,s)}while(!0);if(yp(),he=n,cu.current=r,Ke!==null)throw Error(z(261));return tt=null,at=0,Xe}function EC(){for(;Ke!==null;)L1(Ke)}function IC(){for(;Ke!==null&&!YA();)L1(Ke)}function L1(t){var e=F1(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?M1(t):Ke=e,Cp.current=null}function M1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vC(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xe=6,Ke=null;return}}else if(n=yC(n,e,Bt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Xe===0&&(Xe=5)}function ps(t,e,n){var r=ye,s=rn.transition;try{rn.transition=null,ye=1,SC(t,e,n,r)}finally{rn.transition=s,ye=r}return null}function SC(t,e,n,r){do ji();while(Pr!==null);if(he&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ok(t,i),t===tt&&(Ke=tt=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ic||(ic=!0,U1(Kc,function(){return ji(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=ye;ye=1;var l=he;he|=4,Cp.current=null,wC(t,n),P1(n,t),qk(Ef),Qc=!!Tf,Ef=Tf=null,t.current=n,_C(n),XA(),he=l,ye=o,rn.transition=i}else t.current=n;if(ic&&(ic=!1,Pr=t,du=s),i=t.pendingLanes,i===0&&(Fr=null),ek(n.stateNode),Ft(t,ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(uu)throw uu=!1,t=Wf,Wf=null,t;return du&1&&t.tag!==0&&ji(),i=t.pendingLanes,i&1?t===Hf?ua++:(ua=0,Hf=t):ua=0,ns(),null}function ji(){if(Pr!==null){var t=yb(du),e=rn.transition,n=ye;try{if(rn.transition=null,ye=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,du=0,he&6)throw Error(z(331));var s=he;for(he|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(q=d;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:la(8,h,i)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var p=h.sibling,y=h.return;if(A1(h),h===d){q=null;break}if(p!==null){p.return=y,q=p;break}q=y}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var A=_.sibling;_.sibling=null,_=A}while(_!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:la(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,q=T;break e}q=i.return}}var w=t.current;for(q=w;q!==null;){o=q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,q=x;else e:for(o=w;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gu(9,l)}}catch(V){De(l,l.return,V)}if(l===o){q=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,q=P;break e}q=l.return}}if(he=s,ns(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Uu,t)}catch{}r=!0}return r}finally{ye=n,rn.transition=e}}return!1}function Dv(t,e,n){e=$i(n,e),e=y1(t,e,1),t=Or(t,e,1),e=At(),t!==null&&(il(t,1,e),Ft(t,e))}function De(t,e,n){if(t.tag===3)Dv(t,t,n);else for(;e!==null;){if(e.tag===3){Dv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=$i(n,t),t=v1(e,t,1),e=Or(e,t,1),t=At(),e!==null&&(il(e,1,t),Ft(e,t));break}}e=e.return}}function NC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=At(),t.pingedLanes|=t.suspendedLanes&n,tt===t&&(at&n)===n&&(Xe===4||Xe===3&&(at&130023424)===at&&500>ze()-jp?Es(t,0):Pp|=n),Ft(t,e)}function O1(t,e){e===0&&(t.mode&1?(e=Ql,Ql<<=1,!(Ql&130023424)&&(Ql=4194304)):e=1);var n=At();t=sr(t,e),t!==null&&(il(t,e,n),Ft(t,n))}function AC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),O1(t,n)}function kC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),O1(t,n)}var F1;F1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,gC(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Ie&&e.flags&1048576&&$b(e,nu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nc(t,e),t=e.pendingProps;var s=Fi(e,_t.current);Pi(e,n),s=Ip(null,e,r,t,s,n);var i=Sp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(i=!0,eu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wp(e),s.updater=Ku,e.stateNode=s,s._reactInternals=e,Rf(e,r,t,n),e=Lf(null,e,r,!0,i,n)):(e.tag=0,Ie&&i&&fp(e),St(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=PC(r),t=hn(r,t),s){case 0:e=Vf(null,e,r,t,n);break e;case 1:e=Ev(null,e,r,t,n);break e;case 11:e=bv(null,e,r,t,n);break e;case 14:e=Tv(null,e,r,hn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),Vf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),Ev(t,e,r,s,n);case 3:e:{if(b1(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Qb(t,e),iu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$i(Error(z(423)),e),e=Iv(t,e,r,n,s);break e}else if(r!==s){s=$i(Error(z(424)),e),e=Iv(t,e,r,n,s);break e}else for(zt=Mr(e.stateNode.containerInfo.firstChild),Ht=e,Ie=!0,mn=null,n=Kb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ui(),r===s){e=ir(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return Yb(e),t===null&&Cf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,If(r,s)?o=null:i!==null&&If(r,i)&&(e.flags|=32),_1(t,e),St(t,e,o,n),e.child;case 6:return t===null&&Cf(e),null;case 13:return T1(t,e,n);case 4:return _p(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bi(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),bv(t,e,r,s,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,we(ru,r._currentValue),r._currentValue=o,i!==null)if(yn(i.value,o)){if(i.children===s.children&&!Mt.current){e=ir(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Zn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Pf(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Pf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}St(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pi(e,n),s=an(s),r=r(s),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,s=hn(r,e.pendingProps),s=hn(r.type,s),Tv(t,e,r,s,n);case 15:return x1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:hn(r,s),Nc(t,e),e.tag=1,Ot(r)?(t=!0,eu(e)):t=!1,Pi(e,n),g1(e,r,s),Rf(e,r,s,n),Lf(null,e,r,!0,t,n);case 19:return E1(t,e,n);case 22:return w1(t,e,n)}throw Error(z(156,e.tag))};function U1(t,e){return fb(t,e)}function CC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new CC(t,e,n,r)}function Lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PC(t){if(typeof t=="function")return Lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tp)return 11;if(t===np)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ci:return Is(n.children,s,i,e);case ep:o=8,s|=8;break;case nf:return t=nn(12,n,e,s|2),t.elementType=nf,t.lanes=i,t;case rf:return t=nn(13,n,e,s),t.elementType=rf,t.lanes=i,t;case sf:return t=nn(19,n,e,s),t.elementType=sf,t.lanes=i,t;case Y_:return Yu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G_:o=10;break e;case Q_:o=9;break e;case tp:o=11;break e;case np:o=14;break e;case _r:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Is(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Yu(t,e,n,r){return t=nn(22,t,r,e),t.elementType=Y_,t.lanes=n,t.stateNode={isHidden:!1},t}function Eh(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Ih(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ih(0),this.expirationTimes=ih(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ih(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mp(t,e,n,r,s,i,o,l,c){return t=new jC(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wp(i),t}function RC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function B1(t){if(!t)return Kr;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ot(n))return Bb(t,n,e)}return e}function z1(t,e,n,r,s,i,o,l,c){return t=Mp(n,r,!0,t,s,i,o,l,c),t.context=B1(null),n=t.current,r=At(),s=Ur(n),i=Zn(r,s),i.callback=e??null,Or(n,i,s),t.current.lanes=s,il(t,s,r),Ft(t,r),t}function Xu(t,e,n,r){var s=e.current,i=At(),o=Ur(s);return n=B1(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(s,e,o),t!==null&&(gn(t,s,o,i),Ec(t,s,o)),o}function fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Op(t,e){Vv(t,e),(t=t.alternate)&&Vv(t,e)}function DC(){return null}var $1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fp(t){this._internalRoot=t}Ju.prototype.render=Fp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Xu(t,e,null,null)};Ju.prototype.unmount=Fp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vs(function(){Xu(null,t,null,null)}),e[rr]=null}};function Ju(t){this._internalRoot=t}Ju.prototype.unstable_scheduleHydration=function(t){if(t){var e=wb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&bb(t)}};function Up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function VC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=fu(o);i.call(d)}}var o=z1(e,r,t,0,null,!1,!1,"",Lv);return t._reactRootContainer=o,t[rr]=o.current,Pa(t.nodeType===8?t.parentNode:t),Vs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=fu(c);l.call(d)}}var c=Mp(t,0,!1,null,null,!1,!1,"",Lv);return t._reactRootContainer=c,t[rr]=c.current,Pa(t.nodeType===8?t.parentNode:t),Vs(function(){Xu(e,c,n,r)}),c}function ed(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=fu(o);l.call(c)}}Xu(e,o,t,s)}else o=VC(n,e,t,s,r);return fu(o)}vb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ko(e.pendingLanes);n!==0&&(ip(e,n|1),Ft(e,ze()),!(he&6)&&(Wi=ze()+500,ns()))}break;case 13:Vs(function(){var r=sr(t,1);if(r!==null){var s=At();gn(r,t,1,s)}}),Op(t,1)}};op=function(t){if(t.tag===13){var e=sr(t,134217728);if(e!==null){var n=At();gn(e,t,134217728,n)}Op(t,134217728)}};xb=function(t){if(t.tag===13){var e=Ur(t),n=sr(t,e);if(n!==null){var r=At();gn(n,t,e,r)}Op(t,e)}};wb=function(){return ye};_b=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};pf=function(t,e,n){switch(e){case"input":if(lf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wu(r);if(!s)throw Error(z(90));J_(r),lf(r,s)}}}break;case"textarea":eb(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};ab=Rp;lb=Vs;var LC={usingClientEntryPoint:!1,Events:[al,fi,Wu,ib,ob,Rp]},Uo={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=db(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||DC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Uu=oc.inject(MC),Sn=oc}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Up(e))throw Error(z(200));return RC(t,e,null,n)};Gt.createRoot=function(t,e){if(!Up(t))throw Error(z(299));var n=!1,r="",s=$1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Mp(t,1,!1,null,null,n,!1,r,s),t[rr]=e.current,Pa(t.nodeType===8?t.parentNode:t),new Fp(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=db(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Vs(t)};Gt.hydrate=function(t,e,n){if(!Zu(e))throw Error(z(200));return ed(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!Up(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=$1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=z1(e,null,t,1,n??null,s,!1,i,o),t[rr]=e.current,Pa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ju(e)};Gt.render=function(t,e,n){if(!Zu(e))throw Error(z(200));return ed(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(z(40));return t._reactRootContainer?(Vs(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};Gt.unstable_batchedUpdates=Rp;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zu(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ed(t,e,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function W1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W1)}catch(t){console.error(t)}}W1(),W_.exports=Gt;var OC=W_.exports,H1,Mv=OC;H1=Mv.createRoot,Mv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}var jr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jr||(jr={}));const Ov="popstate";function FC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Gf("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:mu(s)}return BC(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function q1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UC(){return Math.random().toString(36).substr(2,8)}function Fv(t,e){return{usr:t.state,key:t.key,idx:e}}function Gf(t,e,n,r){return n===void 0&&(n=null),Ua({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ao(e):e,{state:n,key:e&&e.key||r||UC()})}function mu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function BC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=jr.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(Ua({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){l=jr.Pop;let A=h(),T=A==null?null:A-d;d=A,c&&c({action:l,location:_.location,delta:T})}function p(A,T){l=jr.Push;let w=Gf(_.location,A,T);d=h()+1;let x=Fv(w,d),P=_.createHref(w);try{o.pushState(x,"",P)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(P)}i&&c&&c({action:l,location:_.location,delta:1})}function y(A,T){l=jr.Replace;let w=Gf(_.location,A,T);d=h();let x=Fv(w,d),P=_.createHref(w);o.replaceState(x,"",P),i&&c&&c({action:l,location:_.location,delta:0})}function b(A){let T=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof A=="string"?A:mu(A);return w=w.replace(/ $/,"%20"),$e(T,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,T)}let _={get action(){return l},get location(){return t(s,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ov,f),c=A,()=>{s.removeEventListener(Ov,f),c=null}},createHref(A){return e(s,A)},createURL:b,encodeLocation(A){let T=b(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(A){return o.go(A)}};return _}var Uv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uv||(Uv={}));function zC(t,e,n){return n===void 0&&(n="/"),$C(t,e,n,!1)}function $C(t,e,n,r){let s=typeof e=="string"?ao(e):e,i=Bp(s.pathname||"/",n);if(i==null)return null;let o=K1(t);WC(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=t2(i);l=ZC(o[c],d,r)}return l}function K1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&($e(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=zr([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&($e(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),K1(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:XC(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of G1(i.path))s(i,o,c)}),e}function G1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=G1(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function WC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HC=/^:[\w-]+$/,qC=3,KC=2,GC=1,QC=10,YC=-2,Bv=t=>t==="*";function XC(t,e){let n=t.split("/"),r=n.length;return n.some(Bv)&&(r+=YC),e&&(r+=KC),n.filter(s=>!Bv(s)).reduce((s,i)=>s+(HC.test(i)?qC:i===""?GC:QC),r)}function JC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ZC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=zv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=zv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:zr([i,f.pathname]),pathnameBase:i2(zr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=zr([i,f.pathnameBase]))}return o}function zv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=e2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let _=l[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const b=l[f];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function e2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),q1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function t2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return q1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function n2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ao(t):t;return{pathname:n?n.startsWith("/")?n:r2(n,e):e,search:o2(r),hash:a2(s)}}function r2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zp(t,e){let n=s2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $p(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ao(t):(s=Ua({},t),$e(!s.pathname||!s.pathname.includes("?"),Sh("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),Sh("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),Sh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?e[f]:"/"}let c=n2(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),i2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,a2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function l2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Q1=["post","put","patch","delete"];new Set(Q1);const c2=["get",...Q1];new Set(c2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}const Wp=C.createContext(null),u2=C.createContext(null),rs=C.createContext(null),td=C.createContext(null),mr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Y1=C.createContext(null);function d2(t,e){let{relative:n}=e===void 0?{}:e;lo()||$e(!1);let{basename:r,navigator:s}=C.useContext(rs),{hash:i,pathname:o,search:l}=Z1(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:zr([r,o])),s.createHref({pathname:c,search:l,hash:i})}function lo(){return C.useContext(td)!=null}function co(){return lo()||$e(!1),C.useContext(td).location}function X1(t){C.useContext(rs).static||C.useLayoutEffect(t)}function uo(){let{isDataRoute:t}=C.useContext(mr);return t?E2():h2()}function h2(){lo()||$e(!1);let t=C.useContext(Wp),{basename:e,future:n,navigator:r}=C.useContext(rs),{matches:s}=C.useContext(mr),{pathname:i}=co(),o=JSON.stringify(zp(s,n.v7_relativeSplatPath)),l=C.useRef(!1);return X1(()=>{l.current=!0}),C.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=$p(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function J1(){let{matches:t}=C.useContext(mr),e=t[t.length-1];return e?e.params:{}}function Z1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(rs),{matches:s}=C.useContext(mr),{pathname:i}=co(),o=JSON.stringify(zp(s,r.v7_relativeSplatPath));return C.useMemo(()=>$p(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function f2(t,e){return m2(t,e)}function m2(t,e,n,r){lo()||$e(!1);let{navigator:s}=C.useContext(rs),{matches:i}=C.useContext(mr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=co(),h;if(e){var f;let A=typeof e=="string"?ao(e):e;c==="/"||(f=A.pathname)!=null&&f.startsWith(c)||$e(!1),h=A}else h=d;let p=h.pathname||"/",y=p;if(c!=="/"){let A=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=zC(t,{pathname:y}),_=x2(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:zr([c,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?c:zr([c,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&_?C.createElement(td.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:jr.Pop}},_):_}function p2(){let t=T2(),e=l2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const g2=C.createElement(p2,null);class y2 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(mr.Provider,{value:this.props.routeContext},C.createElement(Y1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v2(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Wp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(mr.Provider,{value:e},r)}function x2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||$e(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:y}=n,b=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let y,b=!1,_=null,A=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||g2,c&&(d<0&&p===0?(b=!0,A=null):d===p&&(b=!0,A=f.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,p+1)),w=()=>{let x;return y?x=_:b?x=A:f.route.Component?x=C.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,C.createElement(v2,{match:f,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?C.createElement(y2,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):w()},null)}var eT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(eT||{}),pu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pu||{});function w2(t){let e=C.useContext(Wp);return e||$e(!1),e}function _2(t){let e=C.useContext(u2);return e||$e(!1),e}function b2(t){let e=C.useContext(mr);return e||$e(!1),e}function tT(t){let e=b2(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function T2(){var t;let e=C.useContext(Y1),n=_2(pu.UseRouteError),r=tT(pu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function E2(){let{router:t}=w2(eT.UseNavigateStable),e=tT(pu.UseNavigateStable),n=C.useRef(!1);return X1(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ba({fromRouteId:e},i)))},[t,e])}function I2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function da(t){let{to:e,replace:n,state:r,relative:s}=t;lo()||$e(!1);let{future:i,static:o}=C.useContext(rs),{matches:l}=C.useContext(mr),{pathname:c}=co(),d=uo(),h=$p(e,zp(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return C.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function Qe(t){$e(!1)}function S2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=jr.Pop,navigator:i,static:o=!1,future:l}=t;lo()&&$e(!1);let c=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:c,navigator:i,static:o,future:Ba({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ao(r));let{pathname:h="/",search:f="",hash:p="",state:y=null,key:b="default"}=r,_=C.useMemo(()=>{let A=Bp(h,c);return A==null?null:{location:{pathname:A,search:f,hash:p,state:y,key:b},navigationType:s}},[c,h,f,p,y,b,s]);return _==null?null:C.createElement(rs.Provider,{value:d},C.createElement(td.Provider,{children:n,value:_}))}function N2(t){let{children:e,location:n}=t;return f2(Qf(e),n)}new Promise(()=>{});function Qf(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Qf(r.props.children,i));return}r.type!==Qe&&$e(!1),!r.props.index||!r.props.children||$e(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yf(){return Yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yf.apply(this,arguments)}function A2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function k2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C2(t,e){return t.button===0&&(!e||e==="_self")&&!k2(t)}const P2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j2="6";try{window.__reactRouterVersion=j2}catch{}const R2="startTransition",$v=NA[R2];function D2(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=FC({window:s,v5Compat:!0}));let o=i.current,[l,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=C.useCallback(f=>{d&&$v?$v(()=>c(f)):c(f)},[c,d]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.useEffect(()=>I2(r),[r]),C.createElement(S2,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const V2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bo=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=A2(e,P2),{basename:y}=C.useContext(rs),b,_=!1;if(typeof d=="string"&&L2.test(d)&&(b=d,V2))try{let x=new URL(window.location.href),P=d.startsWith("//")?new URL(x.protocol+d):new URL(d),V=Bp(P.pathname,y);P.origin===x.origin&&V!=null?d=V+P.search+P.hash:_=!0}catch{}let A=d2(d,{relative:s}),T=M2(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function w(x){r&&r(x),x.defaultPrevented||T(x)}return C.createElement("a",Yf({},p,{href:b||A,onClick:_||i?r:w,ref:n,target:c}))});var Wv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wv||(Wv={}));var Hv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hv||(Hv={}));function M2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=uo(),d=co(),h=Z1(t,{relative:o});return C.useCallback(f=>{if(C2(f,n)){f.preventDefault();let p=r!==void 0?r:mu(d)===mu(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,r,s,n,t,i,o,l])}var qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},O2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||f==null)throw new F2;const p=i<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),f!==64){const b=d<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U2=function(t){const e=nT(t);return rT.encodeByteArray(e,!0)},gu=function(t){return U2(t).replace(/\./g,"")},sT=function(t){try{return rT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=()=>B2().__FIREBASE_DEFAULTS__,$2=()=>{if(typeof process>"u"||typeof qv>"u")return;const t=qv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sT(t[1]);return e&&JSON.parse(e)},nd=()=>{try{return z2()||$2()||W2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iT=t=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oT=t=>{const e=iT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aT=()=>{var t;return(t=nd())===null||t===void 0?void 0:t.config},lT=t=>{var e;return(e=nd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gu(JSON.stringify(n)),gu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function K2(){var t;const e=(t=nd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X2(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J2(){return!K2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z2(){try{return typeof indexedDB=="object"}catch{return!1}}function eP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="FirebaseError";class On extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tP,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nP(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new On(s,l,r)}}function nP(t,e){return t.replace(rP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rP=/\{\$([^}]+)}/g;function sP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Kv(i)&&Kv(o)){if(!Hi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Kv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Yo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iP(t,e){const n=new oP(t,e);return n.subscribe.bind(n)}class oP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Nh),s.error===void 0&&(s.error=Nh),s.complete===void 0&&(s.complete=Nh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class Gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uP(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cP(t){return t===gs?void 0:t}function uP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const hP={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},fP=ue.INFO,mP={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},pP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=mP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=fP,this._logHandler=pP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const gP=(t,e)=>e.some(n=>t instanceof n);let Gv,Qv;function yP(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vP(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,Xf=new WeakMap,dT=new WeakMap,Ah=new WeakMap,qp=new WeakMap;function xP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($r(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,t)}).catch(()=>{}),qp.set(e,t),e}function wP(t){if(Xf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Xf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _P(t){Jf=t(Jf)}function bP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kh(this),e,...n);return dT.set(r,e.sort?e.sort():[e]),$r(r)}:vP().includes(t)?function(...e){return t.apply(kh(this),e),$r(uT.get(this))}:function(...e){return $r(t.apply(kh(this),e))}}function TP(t){return typeof t=="function"?bP(t):(t instanceof IDBTransaction&&wP(t),gP(t,yP())?new Proxy(t,Jf):t)}function $r(t){if(t instanceof IDBRequest)return xP(t);if(Ah.has(t))return Ah.get(t);const e=TP(t);return e!==t&&(Ah.set(t,e),qp.set(e,t)),e}const kh=t=>qp.get(t);function EP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=$r(o);return r&&o.addEventListener("upgradeneeded",c=>{r($r(o.result),c.oldVersion,c.newVersion,$r(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const IP=["get","getKey","getAll","getAllKeys","count"],SP=["put","add","delete","clear"],Ch=new Map;function Yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ch.get(e))return Ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=SP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||IP.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Ch.set(e,i),i}_P(t=>({...t,get:(e,n,r)=>Yv(e,n)||t.get(e,n,r),has:(e,n)=>!!Yv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",Xv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Hp("@firebase/app"),kP="@firebase/app-compat",CP="@firebase/analytics-compat",PP="@firebase/analytics",jP="@firebase/app-check-compat",RP="@firebase/app-check",DP="@firebase/auth",VP="@firebase/auth-compat",LP="@firebase/database",MP="@firebase/data-connect",OP="@firebase/database-compat",FP="@firebase/functions",UP="@firebase/functions-compat",BP="@firebase/installations",zP="@firebase/installations-compat",$P="@firebase/messaging",WP="@firebase/messaging-compat",HP="@firebase/performance",qP="@firebase/performance-compat",KP="@firebase/remote-config",GP="@firebase/remote-config-compat",QP="@firebase/storage",YP="@firebase/storage-compat",XP="@firebase/firestore",JP="@firebase/vertexai-preview",ZP="@firebase/firestore-compat",ej="firebase",tj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",nj={[Zf]:"fire-core",[kP]:"fire-core-compat",[PP]:"fire-analytics",[CP]:"fire-analytics-compat",[RP]:"fire-app-check",[jP]:"fire-app-check-compat",[DP]:"fire-auth",[VP]:"fire-auth-compat",[LP]:"fire-rtdb",[MP]:"fire-data-connect",[OP]:"fire-rtdb-compat",[FP]:"fire-fn",[UP]:"fire-fn-compat",[BP]:"fire-iid",[zP]:"fire-iid-compat",[$P]:"fire-fcm",[WP]:"fire-fcm-compat",[HP]:"fire-perf",[qP]:"fire-perf-compat",[KP]:"fire-rc",[GP]:"fire-rc-compat",[QP]:"fire-gcs",[YP]:"fire-gcs-compat",[XP]:"fire-fst",[ZP]:"fire-fst-compat",[JP]:"fire-vertex","fire-js":"fire-js",[ej]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,rj=new Map,tm=new Map;function Jv(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ls(t){const e=t.name;if(tm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(const n of yu.values())Jv(n,t);for(const n of rj.values())Jv(n,t);return!0}function rd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new cl("app","Firebase",sj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=tj;function hT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wr.create("bad-app-name",{appName:String(s)});if(n||(n=aT()),!n)throw Wr.create("no-options");const i=yu.get(s);if(i){if(Hi(n,i.options)&&Hi(r,i.config))return i;throw Wr.create("duplicate-app",{appName:s})}const o=new dP(s);for(const c of tm.values())o.addComponent(c);const l=new ij(n,r,o);return yu.set(s,l),l}function Kp(t=em){const e=yu.get(t);if(!e&&t===em&&aT())return hT();if(!e)throw Wr.create("no-app",{appName:t});return e}function An(t,e,n){var r;let s=(r=nj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(l.join(" "));return}Ls(new Gr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="firebase-heartbeat-database",aj=1,za="firebase-heartbeat-store";let Ph=null;function fT(){return Ph||(Ph=EP(oj,aj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(za)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Ph}async function lj(t){try{const n=(await fT()).transaction(za),r=await n.objectStore(za).get(mT(t));return await n.done,r}catch(e){if(e instanceof On)or.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function Zv(t,e){try{const r=(await fT()).transaction(za,"readwrite");await r.objectStore(za).put(e,mT(t)),await r.done}catch(n){if(n instanceof On)or.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(r.message)}}}function mT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=1024,uj=30*24*60*60*1e3;class dj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ex();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=uj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ex(),{heartbeatsToSend:r,unsentEntries:s}=hj(this._heartbeatsCache.heartbeats),i=gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return or.warn(n),""}}}function ex(){return new Date().toISOString().substring(0,10)}function hj(t,e=cj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),tx(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z2()?eP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tx(t){return gu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){Ls(new Gr("platform-logger",e=>new NP(e),"PRIVATE")),Ls(new Gr("heartbeat",e=>new dj(e),"PRIVATE")),An(Zf,Xv,t),An(Zf,Xv,"esm2017"),An("fire-js","")}mj("");function Gp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pj=pT,gT=new cl("auth","Firebase",pT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Hp("@firebase/auth");function gj(t,...e){vu.logLevel<=ue.WARN&&vu.warn(`Auth (${qs}): ${t}`,...e)}function Pc(t,...e){vu.logLevel<=ue.ERROR&&vu.error(`Auth (${qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t,...e){throw Qp(t,...e)}function kn(t,...e){return Qp(t,...e)}function yT(t,e,n){const r=Object.assign(Object.assign({},pj()),{[e]:n});return new cl("auth","Firebase",r).create(e,{appName:t.name})}function er(t){return yT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gT.create(t,...e)}function te(t,e,...n){if(!t)throw Qp(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pc(e),new Error(e)}function ar(t,e){t||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yj(){return nx()==="http:"||nx()==="https:"}function nx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yj()||Q2()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=q2()||Y2()}get(){return vj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new dl(3e4,6e4);function ss(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function is(t,e,n,r,s={}){return xT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=ul(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return G2()||(d.referrerPolicy="no-referrer"),vT.fetch()(wT(t,t.config.apiHost,n,l),d)})}async function xT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wj),e);try{const s=new Tj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ac(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ac(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ac(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ac(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yT(t,h,d);vn(t,h)}}catch(s){if(s instanceof On)throw s;vn(t,"network-request-failed",{message:String(s)})}}async function hl(t,e,n,r,s={}){const i=await is(t,e,n,r,s);return"mfaPendingCredential"in i&&vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function wT(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Yp(t.config,s):`${t.config.apiScheme}://${s}`}function bj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Tj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),_j.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ac(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kn(t,e,r);return s.customData._tokenResponse=n,s}function rx(t){return t!==void 0&&t.enterprise!==void 0}class Ej{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Ij(t,e){return is(t,"GET","/v2/recaptchaConfig",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){return is(t,"POST","/v1/accounts:delete",e)}async function _T(t,e){return is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nj(t,e=!1){const n=Le(t),r=await n.getIdToken(e),s=Xp(r);te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ha(jh(s.auth_time)),issuedAtTime:ha(jh(s.iat)),expirationTime:ha(jh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jh(t){return Number(t)*1e3}function Xp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const s=sT(n);return s?JSON.parse(s):(Pc("Failed to decode base64 JWT payload"),null)}catch(s){return Pc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sx(t){const e=Xp(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof On&&Aj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Aj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ha(this.lastLoginAt),this.creationTime=ha(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await $a(t,_T(n,{idToken:r}));te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?bT(i.providerUserInfo):[],l=Pj(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new rm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Cj(t){const e=Le(t);await xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function bT(t){return t.map(e=>{var{providerId:n}=e,r=Gp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){const n=await xT(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=wT(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",vT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rj(t,e){return is(t,"POST","/v2/accounts:revokeToken",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=sx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await jj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ri;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await $a(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nj(this,e)}reload(){return Cj(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await $a(this,Sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,A=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:P,isAnonymous:V,providerData:L,stsTokenManager:S}=n;te(x&&S,e,"internal-error");const v=Ri.fromJSON(this.name,S);te(typeof x=="string",e,"internal-error"),xr(f,e.name),xr(p,e.name),te(typeof P=="boolean",e,"internal-error"),te(typeof V=="boolean",e,"internal-error"),xr(y,e.name),xr(b,e.name),xr(_,e.name),xr(A,e.name),xr(T,e.name),xr(w,e.name);const E=new Xn({uid:x,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:V,photoURL:b,phoneNumber:y,tenantId:_,stsTokenManager:v,createdAt:T,lastLoginAt:w});return L&&Array.isArray(L)&&(E.providerData=L.map(N=>Object.assign({},N))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ri;s.updateFromServerResponse(n);const i=new Xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?bT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ri;l.updateFromIdToken(r);const c=new Xn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new rm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=new Map;function Jn(t){ar(t instanceof Function,"Expected a class definition");let e=ix.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ix.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TT.type="NONE";const ox=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=jc(this.userKey,s.apiKey,i),this.fullPersistenceKey=jc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Di(Jn(ox),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Jn(ox);const o=jc(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(o);if(h){const f=Xn._fromJSON(e,h);d!==i&&(l=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Di(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Di(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ET(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kT(e))return"Blackberry";if(CT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||ST(e))&&!e.includes("edge/"))return"Chrome";if(AT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ET(t=bt()){return/firefox\//i.test(t)}function IT(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ST(t=bt()){return/crios\//i.test(t)}function NT(t=bt()){return/iemobile/i.test(t)}function AT(t=bt()){return/android/i.test(t)}function kT(t=bt()){return/blackberry/i.test(t)}function CT(t=bt()){return/webos/i.test(t)}function Jp(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Dj(t=bt()){var e;return Jp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Vj(){return X2()&&document.documentMode===10}function PT(t=bt()){return Jp(t)||AT(t)||CT(t)||kT(t)||/windows phone/i.test(t)||NT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e=[]){let n;switch(t){case"Browser":n=ax(bt());break;case"Worker":n=`${ax(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e={}){return is(t,"GET","/v2/passwordPolicy",ss(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=6;class Fj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Oj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lx(this),this.idTokenSubscription=new lx(this),this.beforeStateQueue=new Lj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Di.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _T(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(er(this));const n=e?Le(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mj(this),n=new Fj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Rj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ks(t){return Le(t)}class lx{constructor(e){this.auth=e,this.observer=null,this.addObserver=iP(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bj(t){sd=t}function RT(t){return sd.loadJS(t)}function zj(){return sd.recaptchaEnterpriseScript}function $j(){return sd.gapiScript}function Wj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Hj="recaptcha-enterprise",qj="NO_RECAPTCHA";class Kj{constructor(e){this.type=Hj,this.auth=Ks(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{Ij(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ej(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;rx(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(qj)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&rx(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zj();c.length!==0&&(c+=l),RT(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function cx(t,e,n,r=!1){const s=new Kj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function sm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await cx(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await cx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t,e){const n=rd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Hi(i,e??{}))return s;vn(s,"already-initialized")}return n.initialize({options:e})}function Qj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Yj(t,e,n){const r=Ks(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=DT(e),{host:o,port:l}=Xj(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Jj()}function DT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xj(t){const e=DT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ux(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ux(o)}}}function ux(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function Zj(t,e){return is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return hl(t,"POST","/v1/accounts:signInWithPassword",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){return hl(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}async function nR(t,e){return hl(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Zp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Wa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,n,"signInWithPassword",eR);case"emailLink":return tR(e,{email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",Zj);case"emailLink":return nR(e,{idToken:n,email:this._email,oobCode:this._password});default:vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vi(t,e){return hl(t,"POST","/v1/accounts:signInWithIdp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class Ms extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ms(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Gp(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ms(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vi(e,n)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iR(t){const e=Qo(Yo(t)).link,n=e?Qo(Yo(e)).deep_link_id:null,r=Qo(Yo(t)).deep_link_id;return(r?Qo(Yo(r)).link:null)||r||n||e||t}class eg{constructor(e){var n,r,s,i,o,l;const c=Qo(Yo(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,f=sR((s=c.mode)!==null&&s!==void 0?s:null);te(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=iR(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.providerId=ho.PROVIDER_ID}static credential(e,n){return Wa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=eg.parseLink(n);return te(r,"argument-error"),Wa._fromEmailAndCode(e,r.code,r.tenantId)}}ho.PROVIDER_ID="password";ho.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ho.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends VT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends fl{constructor(){super("facebook.com")}static credential(e){return Ms._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ms._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends fl{constructor(){super("github.com")}static credential(e){return Ms._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends fl{constructor(){super("twitter.com")}static credential(e,n){return Ms._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e){return hl(t,"POST","/v1/accounts:signUp",ss(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Xn._fromIdTokenResponse(e,r,s),o=dx(r);return new Os({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dx(r);return new Os({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends On{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wu(e,n,r,s)}}function LT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wu._fromErrorAndOperation(t,i,e,r):i})}async function aR(t,e,n=!1){const r=await $a(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(er(r));const s="reauthenticate";try{const i=await $a(t,LT(r,s,e,t),n);te(i.idToken,r,"internal-error");const o=Xp(i.idToken);te(o,r,"internal-error");const{sub:l}=o;return te(t.uid===l,r,"user-mismatch"),Os._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,e,n=!1){if(En(t.app))return Promise.reject(er(t));const r="signIn",s=await LT(t,r,e),i=await Os._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function cR(t,e){return MT(Ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ha(t,e,n){if(En(t.app))return Promise.reject(er(t));const r=Ks(t),o=await sm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oR).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&OT(t),c}),l=await Os._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function tg(t,e,n){return En(t.app)?Promise.reject(er(t)):cR(Le(t),ho.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OT(t),r})}function uR(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function dR(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function hR(t,e,n,r){return Le(t).onAuthStateChanged(e,n,r)}function _u(t){return Le(t).signOut()}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=1e3,mR=10;class UT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Vj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mR):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},fR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const pR=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BT.type="SESSION";const zT=BT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await gR(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=ng("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function vR(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function xR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _R(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firebaseLocalStorageDb",bR=1,Tu="firebaseLocalStorage",HT="fbase_key";class ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function od(t,e){return t.transaction([Tu],e?"readwrite":"readonly").objectStore(Tu)}function TR(){const t=indexedDB.deleteDatabase(WT);return new ml(t).toPromise()}function im(){const t=indexedDB.open(WT,bR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tu,{keyPath:HT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tu)?e(r):(r.close(),await TR(),e(await im()))})})}async function hx(t,e,n){const r=od(t,!0).put({[HT]:e,value:n});return new ml(r).toPromise()}async function ER(t,e){const n=od(t,!1).get(e),r=await new ml(n).toPromise();return r===void 0?null:r.value}function fx(t,e){const n=od(t,!0).delete(e);return new ml(n).toPromise()}const IR=800,SR=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(_R()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xR(),!this.activeServiceWorker)return;this.sender=new yR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await im();return await hx(e,bu,"1"),await fx(e,bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ER(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=od(s,!1).getAll();return new ml(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const NR=qT;new dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){return e?Jn(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kR(t){return MT(t.auth,new rg(t),t.bypassAuthState)}function CR(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),lR(n,new rg(t),t.bypassAuthState)}async function PR(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),aR(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:vn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new dl(2e3,1e4);class wi extends KT{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,wi.currentPopupAction&&wi.currentPopupAction.cancel(),wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jR.get())};e()}}wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="pendingRedirect",Rc=new Map;class DR extends KT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const r=await VR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(t,e){const n=OR(e),r=MR(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function LR(t,e){Rc.set(t._key(),e)}function MR(t){return Jn(t._redirectPersistence)}function OR(t){return jc(RR,t.config.apiKey,t.name)}async function FR(t,e,n=!1){if(En(t.app))return Promise.reject(er(t));const r=Ks(t),s=AR(r,e),o=await new DR(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=10*60*1e3;class BR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UR&&this.cachedEventUids.clear(),this.cachedEventUids.has(mx(e))}saveEventToCache(e){this.cachedEventUids.add(mx(e)),this.lastProcessedEventTime=Date.now()}}function mx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function zR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e={}){return is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function qR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $R(t);for(const n of e)try{if(KR(n))return}catch{}vn(t,"unauthorized-domain")}function KR(t){const e=nm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HR.test(n))return!1;if(WR.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new dl(3e4,6e4);function px(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QR(t){return new Promise((e,n)=>{var r,s,i;function o(){px(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{px(),n(kn(t,"network-request-failed"))},timeout:GR.get()})}if(!((s=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Cn().gapi)===null||i===void 0)&&i.load)o();else{const l=Wj("iframefcb");return Cn()[l]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},RT(`${$j()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function YR(t){return Dc=Dc||QR(t),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new dl(5e3,15e3),JR="__/auth/iframe",ZR="emulator/auth/iframe",eD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nD(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yp(e,ZR):`https://${t.config.authDomain}/${JR}`,r={apiKey:e.apiKey,appName:t.name,v:qs},s=tD.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ul(r).slice(1)}`}async function rD(t){const e=await YR(t),n=Cn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:nD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eD,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),l=Cn().setTimeout(()=>{i(o)},XR.get());function c(){Cn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iD=500,oD=600,aD="_blank",lD="http://localhost";class gx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cD(t,e,n,r=iD,s=oD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},sD),{width:r.toString(),height:s.toString(),top:i,left:o}),d=bt().toLowerCase();n&&(l=ST(d)?aD:n),ET(d)&&(e=e||lD,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(Dj(d)&&l!=="_self")return uD(e||"",l),new gx(null);const f=window.open(e||"",l,h);te(f,t,"popup-blocked");try{f.focus()}catch{}return new gx(f)}function uD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="__/auth/handler",hD="emulator/auth/handler",fD=encodeURIComponent("fac");async function yx(t,e,n,r,s,i){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qs,eventId:s};if(e instanceof VT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof fl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${fD}=${encodeURIComponent(c)}`:"";return`${mD(t)}?${ul(l).slice(1)}${d}`}function mD({config:t}){return t.emulator?Yp(t,hD):`https://${t.authDomain}/${dD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="webStorageSupport";class pD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zT,this._completeRedirectFn=FR,this._overrideRedirectResult=LR}async _openPopup(e,n,r,s){var i;ar((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await yx(e,n,r,nm(),s);return cD(e,o,ng())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await yx(e,n,r,nm(),s);return vR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rD(e),r=new BR(e);return n.register("authEvent",s=>(te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rh,{type:Rh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Rh];o!==void 0&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||IT()||Jp()}}const gD=pD;var vx="@firebase/auth",xx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xD(t){Ls(new Gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jT(t)},d=new Uj(r,s,i,c);return Qj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ls(new Gr("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(r=>new yD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(vx,xx,vD(t)),An(vx,xx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=5*60,_D=lT("authIdTokenMaxAge")||wD;let wx=null;const bD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_D)return;const s=n==null?void 0:n.token;wx!==s&&(wx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function TD(t=Kp()){const e=rd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Gj(t,{popupRedirectResolver:gD,persistence:[NR,pR,zT]}),r=lT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=bD(i.toString());dR(n,o,()=>o(n.currentUser)),uR(n,l=>o(l))}}const s=iT("auth");return s&&Yj(n,`http://${s}`),n}function ED(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Bj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",ED().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xD("Browser");var _x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,QT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function E(){}E.prototype=v.prototype,S.D=v.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(N,j,R){for(var k=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)k[oe-2]=arguments[oe];return v.prototype[j].apply(N,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,E){E||(E=0);var N=Array(16);if(typeof v=="string")for(var j=0;16>j;++j)N[j]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(j=0;16>j;++j)N[j]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=S.g[0],E=S.g[1],j=S.g[2];var R=S.g[3],k=v+(R^E&(j^R))+N[0]+3614090360&4294967295;v=E+(k<<7&4294967295|k>>>25),k=R+(j^v&(E^j))+N[1]+3905402710&4294967295,R=v+(k<<12&4294967295|k>>>20),k=j+(E^R&(v^E))+N[2]+606105819&4294967295,j=R+(k<<17&4294967295|k>>>15),k=E+(v^j&(R^v))+N[3]+3250441966&4294967295,E=j+(k<<22&4294967295|k>>>10),k=v+(R^E&(j^R))+N[4]+4118548399&4294967295,v=E+(k<<7&4294967295|k>>>25),k=R+(j^v&(E^j))+N[5]+1200080426&4294967295,R=v+(k<<12&4294967295|k>>>20),k=j+(E^R&(v^E))+N[6]+2821735955&4294967295,j=R+(k<<17&4294967295|k>>>15),k=E+(v^j&(R^v))+N[7]+4249261313&4294967295,E=j+(k<<22&4294967295|k>>>10),k=v+(R^E&(j^R))+N[8]+1770035416&4294967295,v=E+(k<<7&4294967295|k>>>25),k=R+(j^v&(E^j))+N[9]+2336552879&4294967295,R=v+(k<<12&4294967295|k>>>20),k=j+(E^R&(v^E))+N[10]+4294925233&4294967295,j=R+(k<<17&4294967295|k>>>15),k=E+(v^j&(R^v))+N[11]+2304563134&4294967295,E=j+(k<<22&4294967295|k>>>10),k=v+(R^E&(j^R))+N[12]+1804603682&4294967295,v=E+(k<<7&4294967295|k>>>25),k=R+(j^v&(E^j))+N[13]+4254626195&4294967295,R=v+(k<<12&4294967295|k>>>20),k=j+(E^R&(v^E))+N[14]+2792965006&4294967295,j=R+(k<<17&4294967295|k>>>15),k=E+(v^j&(R^v))+N[15]+1236535329&4294967295,E=j+(k<<22&4294967295|k>>>10),k=v+(j^R&(E^j))+N[1]+4129170786&4294967295,v=E+(k<<5&4294967295|k>>>27),k=R+(E^j&(v^E))+N[6]+3225465664&4294967295,R=v+(k<<9&4294967295|k>>>23),k=j+(v^E&(R^v))+N[11]+643717713&4294967295,j=R+(k<<14&4294967295|k>>>18),k=E+(R^v&(j^R))+N[0]+3921069994&4294967295,E=j+(k<<20&4294967295|k>>>12),k=v+(j^R&(E^j))+N[5]+3593408605&4294967295,v=E+(k<<5&4294967295|k>>>27),k=R+(E^j&(v^E))+N[10]+38016083&4294967295,R=v+(k<<9&4294967295|k>>>23),k=j+(v^E&(R^v))+N[15]+3634488961&4294967295,j=R+(k<<14&4294967295|k>>>18),k=E+(R^v&(j^R))+N[4]+3889429448&4294967295,E=j+(k<<20&4294967295|k>>>12),k=v+(j^R&(E^j))+N[9]+568446438&4294967295,v=E+(k<<5&4294967295|k>>>27),k=R+(E^j&(v^E))+N[14]+3275163606&4294967295,R=v+(k<<9&4294967295|k>>>23),k=j+(v^E&(R^v))+N[3]+4107603335&4294967295,j=R+(k<<14&4294967295|k>>>18),k=E+(R^v&(j^R))+N[8]+1163531501&4294967295,E=j+(k<<20&4294967295|k>>>12),k=v+(j^R&(E^j))+N[13]+2850285829&4294967295,v=E+(k<<5&4294967295|k>>>27),k=R+(E^j&(v^E))+N[2]+4243563512&4294967295,R=v+(k<<9&4294967295|k>>>23),k=j+(v^E&(R^v))+N[7]+1735328473&4294967295,j=R+(k<<14&4294967295|k>>>18),k=E+(R^v&(j^R))+N[12]+2368359562&4294967295,E=j+(k<<20&4294967295|k>>>12),k=v+(E^j^R)+N[5]+4294588738&4294967295,v=E+(k<<4&4294967295|k>>>28),k=R+(v^E^j)+N[8]+2272392833&4294967295,R=v+(k<<11&4294967295|k>>>21),k=j+(R^v^E)+N[11]+1839030562&4294967295,j=R+(k<<16&4294967295|k>>>16),k=E+(j^R^v)+N[14]+4259657740&4294967295,E=j+(k<<23&4294967295|k>>>9),k=v+(E^j^R)+N[1]+2763975236&4294967295,v=E+(k<<4&4294967295|k>>>28),k=R+(v^E^j)+N[4]+1272893353&4294967295,R=v+(k<<11&4294967295|k>>>21),k=j+(R^v^E)+N[7]+4139469664&4294967295,j=R+(k<<16&4294967295|k>>>16),k=E+(j^R^v)+N[10]+3200236656&4294967295,E=j+(k<<23&4294967295|k>>>9),k=v+(E^j^R)+N[13]+681279174&4294967295,v=E+(k<<4&4294967295|k>>>28),k=R+(v^E^j)+N[0]+3936430074&4294967295,R=v+(k<<11&4294967295|k>>>21),k=j+(R^v^E)+N[3]+3572445317&4294967295,j=R+(k<<16&4294967295|k>>>16),k=E+(j^R^v)+N[6]+76029189&4294967295,E=j+(k<<23&4294967295|k>>>9),k=v+(E^j^R)+N[9]+3654602809&4294967295,v=E+(k<<4&4294967295|k>>>28),k=R+(v^E^j)+N[12]+3873151461&4294967295,R=v+(k<<11&4294967295|k>>>21),k=j+(R^v^E)+N[15]+530742520&4294967295,j=R+(k<<16&4294967295|k>>>16),k=E+(j^R^v)+N[2]+3299628645&4294967295,E=j+(k<<23&4294967295|k>>>9),k=v+(j^(E|~R))+N[0]+4096336452&4294967295,v=E+(k<<6&4294967295|k>>>26),k=R+(E^(v|~j))+N[7]+1126891415&4294967295,R=v+(k<<10&4294967295|k>>>22),k=j+(v^(R|~E))+N[14]+2878612391&4294967295,j=R+(k<<15&4294967295|k>>>17),k=E+(R^(j|~v))+N[5]+4237533241&4294967295,E=j+(k<<21&4294967295|k>>>11),k=v+(j^(E|~R))+N[12]+1700485571&4294967295,v=E+(k<<6&4294967295|k>>>26),k=R+(E^(v|~j))+N[3]+2399980690&4294967295,R=v+(k<<10&4294967295|k>>>22),k=j+(v^(R|~E))+N[10]+4293915773&4294967295,j=R+(k<<15&4294967295|k>>>17),k=E+(R^(j|~v))+N[1]+2240044497&4294967295,E=j+(k<<21&4294967295|k>>>11),k=v+(j^(E|~R))+N[8]+1873313359&4294967295,v=E+(k<<6&4294967295|k>>>26),k=R+(E^(v|~j))+N[15]+4264355552&4294967295,R=v+(k<<10&4294967295|k>>>22),k=j+(v^(R|~E))+N[6]+2734768916&4294967295,j=R+(k<<15&4294967295|k>>>17),k=E+(R^(j|~v))+N[13]+1309151649&4294967295,E=j+(k<<21&4294967295|k>>>11),k=v+(j^(E|~R))+N[4]+4149444226&4294967295,v=E+(k<<6&4294967295|k>>>26),k=R+(E^(v|~j))+N[11]+3174756917&4294967295,R=v+(k<<10&4294967295|k>>>22),k=j+(v^(R|~E))+N[2]+718787259&4294967295,j=R+(k<<15&4294967295|k>>>17),k=E+(R^(j|~v))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(j+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var E=v-this.blockSize,N=this.B,j=this.h,R=0;R<v;){if(j==0)for(;R<=E;)s(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<v;)if(N[j++]=S.charCodeAt(R++),j==this.blockSize){s(this,N),j=0;break}}else for(;R<v;)if(N[j++]=S[R++],j==this.blockSize){s(this,N),j=0;break}}this.h=j,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var E=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=E&255,E/=256;for(this.u(S),S=Array(16),v=E=0;4>v;++v)for(var N=0;32>N;N+=8)S[E++]=this.g[v]>>>N&255;return S};function i(S,v){var E=l;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=v(S)}function o(S,v){this.h=v;for(var E=[],N=!0,j=S.length-1;0<=j;j--){var R=S[j]|0;N&&R==v||(E[j]=R,N=!1)}this.g=E}var l={};function c(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return A(d(-S));for(var v=[],E=1,N=0;S>=E;N++)v[N]=S/E|0,E*=4294967296;return new o(v,0)}function h(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return A(h(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(v,8)),N=f,j=0;j<S.length;j+=8){var R=Math.min(8,S.length-j),k=parseInt(S.substring(j,j+R),v);8>R?(R=d(Math.pow(v,R)),N=N.j(R).add(d(k))):(N=N.j(E),N=N.add(d(k)))}return N}var f=c(0),p=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-A(this).m();for(var S=0,v=1,E=0;E<this.g.length;E++){var N=this.i(E);S+=(0<=N?N:4294967296+N)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(_(this))return"-"+A(this).toString(S);for(var v=d(Math.pow(S,6)),E=this,N="";;){var j=P(E,v).g;E=T(E,j.j(v));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=j,b(E))return R+N;for(;6>R.length;)R="0"+R;N=R+N}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=T(this,S),_(S)?-1:b(S)?0:1};function A(S){for(var v=S.g.length,E=[],N=0;N<v;N++)E[N]=~S.g[N];return new o(E,~S.h).add(p)}t.abs=function(){return _(this)?A(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],N=0,j=0;j<=v;j++){var R=N+(this.i(j)&65535)+(S.i(j)&65535),k=(R>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);N=k>>>16,R&=65535,k&=65535,E[j]=k<<16|R}return new o(E,E[E.length-1]&-2147483648?-1:0)};function T(S,v){return S.add(A(v))}t.j=function(S){if(b(this)||b(S))return f;if(_(this))return _(S)?A(this).j(A(S)):A(A(this).j(S));if(_(S))return A(this.j(A(S)));if(0>this.l(y)&&0>S.l(y))return d(this.m()*S.m());for(var v=this.g.length+S.g.length,E=[],N=0;N<2*v;N++)E[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<S.g.length;j++){var R=this.i(N)>>>16,k=this.i(N)&65535,oe=S.i(j)>>>16,O=S.i(j)&65535;E[2*N+2*j]+=k*O,w(E,2*N+2*j),E[2*N+2*j+1]+=R*O,w(E,2*N+2*j+1),E[2*N+2*j+1]+=k*oe,w(E,2*N+2*j+1),E[2*N+2*j+2]+=R*oe,w(E,2*N+2*j+2)}for(N=0;N<v;N++)E[N]=E[2*N+1]<<16|E[2*N];for(N=v;N<2*v;N++)E[N]=0;return new o(E,0)};function w(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function x(S,v){this.g=S,this.h=v}function P(S,v){if(b(v))throw Error("division by zero");if(b(S))return new x(f,f);if(_(S))return v=P(A(S),v),new x(A(v.g),A(v.h));if(_(v))return v=P(S,A(v)),new x(A(v.g),v.h);if(30<S.g.length){if(_(S)||_(v))throw Error("slowDivide_ only works with positive integers.");for(var E=p,N=v;0>=N.l(S);)E=V(E),N=V(N);var j=L(E,1),R=L(N,1);for(N=L(N,2),E=L(E,2);!b(N);){var k=R.add(N);0>=k.l(S)&&(j=j.add(E),R=k),N=L(N,1),E=L(E,1)}return v=T(S,j.j(v)),new x(j,v)}for(j=f;0<=S.l(v);){for(E=Math.max(1,Math.floor(S.m()/v.m())),N=Math.ceil(Math.log(E)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),R=d(E),k=R.j(v);_(k)||0<k.l(S);)E-=N,R=d(E),k=R.j(v);b(R)&&(R=p),j=j.add(R),S=T(S,k)}return new x(j,S)}t.A=function(S){return P(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],N=0;N<v;N++)E[N]=this.i(N)&S.i(N);return new o(E,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],N=0;N<v;N++)E[N]=this.i(N)|S.i(N);return new o(E,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),E=[],N=0;N<v;N++)E[N]=this.i(N)^S.i(N);return new o(E,this.h^S.h)};function V(S){for(var v=S.g.length+1,E=[],N=0;N<v;N++)E[N]=S.i(N)<<1|S.i(N-1)>>>31;return new o(E,S.h)}function L(S,v){var E=v>>5;v%=32;for(var N=S.g.length-E,j=[],R=0;R<N;R++)j[R]=0<v?S.i(R+E)>>>v|S.i(R+E+1)<<32-v:S.i(R+E);return new o(j,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ss=o}).apply(typeof _x<"u"?_x:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YT,Xo,XT,Vc,om,JT,ZT,eE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var g=r;u=u.split(".");for(var I=0;I<u.length-1;I++){var D=u[I];if(!(D in g))break e;g=g[D]}u=u[u.length-1],I=g[u],m=m(I),m!=I&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var g=0,I=!1,D={next:function(){if(!I&&g<u.length){var M=g++;return{value:m(M,u[M]),done:!1}}return I=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,g){return u.call.apply(u.bind,arguments)}function f(u,m,g){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,I),u.apply(m,D)}}return function(){return u.apply(m,arguments)}}function p(u,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var I=g.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function b(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(I,D,M){for(var $=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)$[xe-2]=arguments[xe];return m.prototype[D].apply(I,$)}}function _(u){const m=u.length;if(0<m){const g=Array(m);for(let I=0;I<m;I++)g[I]=u[I];return g}return[]}function A(u,m){for(let g=1;g<arguments.length;g++){const I=arguments[g];if(c(I)){const D=u.length||0,M=I.length||0;u.length=D+M;for(let $=0;$<M;$++)u[D+$]=I[$]}else u.push(I)}}class T{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var V=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(u,m,g){for(const I in u)m.call(g,u[I],I,u)}function S(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function v(u){const m={};for(const g in u)m[g]=u[g];return m}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let g,I;for(let D=1;D<arguments.length;D++){I=arguments[D];for(g in I)u[g]=I[g];for(let M=0;M<E.length;M++)g=E[M],Object.prototype.hasOwnProperty.call(I,g)&&(u[g]=I[g])}}function j(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function R(u){l.setTimeout(()=>{throw u},0)}function k(){var u=K;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,g){const I=O.get();I.set(m,g),this.h?this.h.next=I:this.g=I,this.h=I}}var O=new T(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,U=!1,K=new oe,Y=()=>{const u=l.Promise.resolve(void 0);Q=()=>{u.then(le)}};var le=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(g){R(g)}var m=O;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}U=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var Fn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};l.addEventListener("test",g,m),l.removeEventListener("test",g,m)}catch{}return u}();function Un(u,m){if(Fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(V){e:{try{P(m.nodeName);var D=!0;break e}catch{}D=!1}D||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Bn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Un.aa.h.call(this)}}b(Un,Fe);var Bn={2:"touch",3:"pen",4:"mouse"};Un.prototype.h=function(){Un.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var zn="closure_listenable_"+(1e6*Math.random()|0),jN=0;function RN(u,m,g,I,D){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!I,this.ha=D,this.key=++jN,this.da=this.fa=!1}function Sl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nl(u){this.src=u,this.g={},this.h=0}Nl.prototype.add=function(u,m,g,I,D){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var $=jd(u,m,I,D);return-1<$?(m=u[$],g||(m.fa=!1)):(m=new RN(m,this.src,M,!!I,D),m.fa=g,u.push(m)),m};function Pd(u,m){var g=m.type;if(g in u.g){var I=u.g[g],D=Array.prototype.indexOf.call(I,m,void 0),M;(M=0<=D)&&Array.prototype.splice.call(I,D,1),M&&(Sl(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function jd(u,m,g,I){for(var D=0;D<u.length;++D){var M=u[D];if(!M.da&&M.listener==m&&M.capture==!!g&&M.ha==I)return D}return-1}var Rd="closure_lm_"+(1e6*Math.random()|0),Dd={};function Cy(u,m,g,I,D){if(Array.isArray(m)){for(var M=0;M<m.length;M++)Cy(u,m[M],g,I,D);return null}return g=Ry(g),u&&u[zn]?u.K(m,g,d(I)?!!I.capture:!!I,D):DN(u,m,g,!1,I,D)}function DN(u,m,g,I,D,M){if(!m)throw Error("Invalid event type");var $=d(D)?!!D.capture:!!D,xe=Ld(u);if(xe||(u[Rd]=xe=new Nl(u)),g=xe.add(m,g,I,$,M),g.proxy)return g;if(I=VN(),g.proxy=I,I.src=u,I.listener=g,u.addEventListener)Fn||(D=$),D===void 0&&(D=!1),u.addEventListener(m.toString(),I,D);else if(u.attachEvent)u.attachEvent(jy(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return g}function VN(){function u(g){return m.call(u.src,u.listener,g)}const m=LN;return u}function Py(u,m,g,I,D){if(Array.isArray(m))for(var M=0;M<m.length;M++)Py(u,m[M],g,I,D);else I=d(I)?!!I.capture:!!I,g=Ry(g),u&&u[zn]?(u=u.i,m=String(m).toString(),m in u.g&&(M=u.g[m],g=jd(M,g,I,D),-1<g&&(Sl(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ld(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jd(m,g,I,D)),(g=-1<u?m[u]:null)&&Vd(g))}function Vd(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[zn])Pd(m.i,u);else{var g=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(g,I,u.capture):m.detachEvent?m.detachEvent(jy(g),I):m.addListener&&m.removeListener&&m.removeListener(I),(g=Ld(m))?(Pd(g,u),g.h==0&&(g.src=null,m[Rd]=null)):Sl(u)}}}function jy(u){return u in Dd?Dd[u]:Dd[u]="on"+u}function LN(u,m){if(u.da)u=!0;else{m=new Un(m,this);var g=u.listener,I=u.ha||u.src;u.fa&&Vd(u),u=g.call(I,m)}return u}function Ld(u){return u=u[Rd],u instanceof Nl?u:null}var Md="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ry(u){return typeof u=="function"?u:(u[Md]||(u[Md]=function(m){return u.handleEvent(m)}),u[Md])}function dt(){ge.call(this),this.i=new Nl(this),this.M=this,this.F=null}b(dt,ge),dt.prototype[zn]=!0,dt.prototype.removeEventListener=function(u,m,g,I){Py(this,u,m,g,I)};function Tt(u,m){var g,I=u.F;if(I)for(g=[];I;I=I.F)g.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new Fe(m,u);else if(m instanceof Fe)m.target=m.target||u;else{var D=m;m=new Fe(I,u),N(m,D)}if(D=!0,g)for(var M=g.length-1;0<=M;M--){var $=m.g=g[M];D=Al($,I,!0,m)&&D}if($=m.g=u,D=Al($,I,!0,m)&&D,D=Al($,I,!1,m)&&D,g)for(M=0;M<g.length;M++)$=m.g=g[M],D=Al($,I,!1,m)&&D}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],I=0;I<g.length;I++)Sl(g[I]);delete u.g[m],u.h--}}this.F=null},dt.prototype.K=function(u,m,g,I){return this.i.add(String(u),m,!1,g,I)},dt.prototype.L=function(u,m,g,I){return this.i.add(String(u),m,!0,g,I)};function Al(u,m,g,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var D=!0,M=0;M<m.length;++M){var $=m[M];if($&&!$.da&&$.capture==g){var xe=$.listener,nt=$.ha||$.src;$.fa&&Pd(u.i,$),D=xe.call(nt,I)!==!1&&D}}return D&&!I.defaultPrevented}function Dy(u,m,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(u,m||0)}function Vy(u){u.g=Dy(()=>{u.g=null,u.i&&(u.i=!1,Vy(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class MN extends ge{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vy(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wo(u){ge.call(this),this.h=u,this.g={}}b(wo,ge);var Ly=[];function My(u){L(u.g,function(m,g){this.g.hasOwnProperty(g)&&Vd(m)},u),u.g={}}wo.prototype.N=function(){wo.aa.N.call(this),My(this)},wo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Od=l.JSON.stringify,ON=l.JSON.parse,FN=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Fd(){}Fd.prototype.h=null;function Oy(u){return u.h||(u.h=u.i())}function Fy(){}var _o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ud(){Fe.call(this,"d")}b(Ud,Fe);function Bd(){Fe.call(this,"c")}b(Bd,Fe);var cs={},Uy=null;function kl(){return Uy=Uy||new dt}cs.La="serverreachability";function By(u){Fe.call(this,cs.La,u)}b(By,Fe);function bo(u){const m=kl();Tt(m,new By(m))}cs.STAT_EVENT="statevent";function zy(u,m){Fe.call(this,cs.STAT_EVENT,u),this.stat=m}b(zy,Fe);function Et(u){const m=kl();Tt(m,new zy(m,u))}cs.Ma="timingevent";function $y(u,m){Fe.call(this,cs.Ma,u),this.size=m}b($y,Fe);function To(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},m)}function Eo(){this.g=!0}Eo.prototype.xa=function(){this.g=!1};function UN(u,m,g,I,D,M){u.info(function(){if(u.g)if(M)for(var $="",xe=M.split("&"),nt=0;nt<xe.length;nt++){var fe=xe[nt].split("=");if(1<fe.length){var ht=fe[0];fe=fe[1];var ft=ht.split("_");$=2<=ft.length&&ft[1]=="type"?$+(ht+"="+fe+"&"):$+(ht+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+I+") [attempt "+D+"]: "+m+`
`+g+`
`+$})}function BN(u,m,g,I,D,M,$){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+D+"]: "+m+`
`+g+`
`+M+" "+$})}function Zs(u,m,g,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$N(u,g)+(I?" "+I:"")})}function zN(u,m){u.info(function(){return"TIMEOUT: "+m})}Eo.prototype.info=function(){};function $N(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var I=g[u];if(!(2>I.length)){var D=I[1];if(Array.isArray(D)&&!(1>D.length)){var M=D[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return Od(g)}catch{return m}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zd;function Pl(){}b(Pl,Fd),Pl.prototype.g=function(){return new XMLHttpRequest},Pl.prototype.i=function(){return{}},zd=new Pl;function pr(u,m,g,I){this.j=u,this.i=m,this.l=g,this.R=I||1,this.U=new wo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hy}function Hy(){this.i=null,this.g="",this.h=!1}var qy={},$d={};function Wd(u,m,g){u.L=1,u.v=Vl($n(m)),u.m=g,u.P=!0,Ky(u,null)}function Ky(u,m){u.F=Date.now(),jl(u),u.A=$n(u.v);var g=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),a0(g.i,"t",I),u.C=0,g=u.j.J,u.h=new Hy,u.g=I0(u.j,g?m:null,!u.m),0<u.O&&(u.M=new MN(p(u.Y,u,u.g),u.O)),m=u.U,g=u.g,I=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(Ly[0]=D.toString()),D=Ly);for(var M=0;M<D.length;M++){var $=Cy(g,D[M],I||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),bo(),UN(u.i,u.u,u.A,u.l,u.R,u.m)}pr.prototype.ca=function(u){u=u.target;const m=this.M;m&&Wn(u)==3?m.j():this.Y(u)},pr.prototype.Y=function(u){try{if(u==this.g)e:{const ft=Wn(this.g);var m=this.g.Ba();const ni=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||m0(this.g)))){this.J||ft!=4||m==7||(m==8||0>=ni?bo(3):bo(2)),Hd(this);var g=this.g.Z();this.X=g;t:if(Gy(this)){var I=m0(this.g);u="";var D=I.length,M=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){us(this),Io(this);var $="";break t}this.h.i=new l.TextDecoder}for(m=0;m<D;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(M&&m==D-1)});I.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,BN(this.i,this.u,this.A,this.l,this.R,ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,nt=this.g;if((xe=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(xe)){var fe=xe;break t}}fe=null}if(g=fe)Zs(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qd(this,g);else{this.o=!1,this.s=3,Et(12),us(this),Io(this);break e}}if(this.P){g=!0;let cn;for(;!this.J&&this.C<$.length;)if(cn=WN(this,$),cn==$d){ft==4&&(this.s=4,Et(14),g=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==qy){this.s=4,Et(15),Zs(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Zs(this.i,this.l,cn,null),qd(this,cn);if(Gy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||$.length!=0||this.h.h||(this.s=1,Et(16),g=!1),this.o=this.o&&g,!g)Zs(this.i,this.l,$,"[Invalid Chunked Response]"),us(this),Io(this);else if(0<$.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Jd(ht),ht.M=!0,Et(11))}}else Zs(this.i,this.l,$,null),qd(this,$);ft==4&&us(this),this.o&&!this.J&&(ft==4?_0(this.j,this):(this.o=!1,jl(this)))}else aA(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),us(this),Io(this)}}}catch{}finally{}};function Gy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function WN(u,m){var g=u.C,I=m.indexOf(`
`,g);return I==-1?$d:(g=Number(m.substring(g,I)),isNaN(g)?qy:(I+=1,I+g>m.length?$d:(m=m.slice(I,I+g),u.C=I+g,m)))}pr.prototype.cancel=function(){this.J=!0,us(this)};function jl(u){u.S=Date.now()+u.I,Qy(u,u.I)}function Qy(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=To(p(u.ba,u),m)}function Hd(u){u.B&&(l.clearTimeout(u.B),u.B=null)}pr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zN(this.i,this.A),this.L!=2&&(bo(),Et(17)),us(this),this.s=2,Io(this)):Qy(this,this.S-u)};function Io(u){u.j.G==0||u.J||_0(u.j,u)}function us(u){Hd(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,My(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qd(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||Kd(g.h,u))){if(!u.K&&Kd(g.h,u)&&g.G==3){try{var I=g.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var D=I;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Bl(g),Fl(g);else break e;Xd(g),Et(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=To(p(g.Za,g),6e3));if(1>=Jy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else hs(g,11)}else if((u.K||g.g==u)&&Bl(g),!w(m))for(D=g.Da.g.parse(m),m=0;m<D.length;m++){let fe=D[m];if(g.T=fe[0],fe=fe[1],g.G==2)if(fe[0]=="c"){g.K=fe[1],g.ia=fe[2];const ht=fe[3];ht!=null&&(g.la=ht,g.j.info("VER="+g.la));const ft=fe[4];ft!=null&&(g.Aa=ft,g.j.info("SVER="+g.Aa));const ni=fe[5];ni!=null&&typeof ni=="number"&&0<ni&&(I=1.5*ni,g.L=I,g.j.info("backChannelRequestTimeoutMs_="+I)),I=g;const cn=u.g;if(cn){const $l=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var M=I.h;M.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Gd(M,M.h),M.h=null))}if(I.D){const Zd=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zd&&(I.ya=Zd,_e(I.I,I.D,Zd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),I=g;var $=u;if(I.qa=E0(I,I.J?I.ia:null,I.W),$.K){Zy(I.h,$);var xe=$,nt=I.L;nt&&(xe.I=nt),xe.B&&(Hd(xe),jl(xe)),I.g=$}else x0(I);0<g.i.length&&Ul(g)}else fe[0]!="stop"&&fe[0]!="close"||hs(g,7);else g.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?hs(g,7):Yd(g):fe[0]!="noop"&&g.l&&g.l.ta(fe),g.v=0)}}bo(4)}catch{}}var HN=class{constructor(u,m){this.g=u,this.map=m}};function Yy(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Jy(u){return u.h?1:u.g?u.g.size:0}function Kd(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gd(u,m){u.g?u.g.add(m):u.h=m}function Zy(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Yy.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function e0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return _(u.i)}function qN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var m=[],g=u.length,I=0;I<g;I++)m.push(u[I]);return m}m=[],g=0;for(I in u)m[g++]=u[I];return m}function KN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const I in u)m[g++]=I;return m}}}function t0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=KN(u),I=qN(u),D=I.length,M=0;M<D;M++)m.call(void 0,I[M],g&&g[M],u)}var n0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GN(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var I=u[g].indexOf("="),D=null;if(0<=I){var M=u[g].substring(0,I);D=u[g].substring(I+1)}else M=u[g];m(M,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function ds(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ds){this.h=u.h,Rl(this,u.j),this.o=u.o,this.g=u.g,Dl(this,u.s),this.l=u.l;var m=u.i,g=new Ao;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),r0(this,g),this.m=u.m}else u&&(m=String(u).match(n0))?(this.h=!1,Rl(this,m[1]||"",!0),this.o=So(m[2]||""),this.g=So(m[3]||"",!0),Dl(this,m[4]),this.l=So(m[5]||"",!0),r0(this,m[6]||"",!0),this.m=So(m[7]||"")):(this.h=!1,this.i=new Ao(null,this.h))}ds.prototype.toString=function(){var u=[],m=this.j;m&&u.push(No(m,s0,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(No(m,s0,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(No(g,g.charAt(0)=="/"?XN:YN,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",No(g,ZN)),u.join("")};function $n(u){return new ds(u)}function Rl(u,m,g){u.j=g?So(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Dl(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function r0(u,m,g){m instanceof Ao?(u.i=m,eA(u.i,u.h)):(g||(m=No(m,JN)),u.i=new Ao(m,u.h))}function _e(u,m,g){u.i.set(m,g)}function Vl(u){return _e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function So(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function No(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,QN),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var s0=/[#\/\?@]/g,YN=/[#\?:]/g,XN=/[#\?]/g,JN=/[#\?@]/g,ZN=/#/g;function Ao(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gr(u){u.g||(u.g=new Map,u.h=0,u.i&&GN(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ao.prototype,t.add=function(u,m){gr(this),this.i=null,u=ei(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function i0(u,m){gr(u),m=ei(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function o0(u,m){return gr(u),m=ei(u,m),u.g.has(m)}t.forEach=function(u,m){gr(this),this.g.forEach(function(g,I){g.forEach(function(D){u.call(m,D,I,this)},this)},this)},t.na=function(){gr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let I=0;I<m.length;I++){const D=u[I];for(let M=0;M<D.length;M++)g.push(m[I])}return g},t.V=function(u){gr(this);let m=[];if(typeof u=="string")o0(this,u)&&(m=m.concat(this.g.get(ei(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},t.set=function(u,m){return gr(this),this.i=null,u=ei(this,u),o0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function a0(u,m,g){i0(u,m),0<g.length&&(u.i=null,u.g.set(ei(u,m),_(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var I=m[g];const M=encodeURIComponent(String(I)),$=this.V(I);for(I=0;I<$.length;I++){var D=M;$[I]!==""&&(D+="="+encodeURIComponent(String($[I]))),u.push(D)}}return this.i=u.join("&")};function ei(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function eA(u,m){m&&!u.j&&(gr(u),u.i=null,u.g.forEach(function(g,I){var D=I.toLowerCase();I!=D&&(i0(this,I),a0(this,D,g))},u)),u.j=m}function tA(u,m){const g=new Eo;if(l.Image){const I=new Image;I.onload=y(yr,g,"TestLoadImage: loaded",!0,m,I),I.onerror=y(yr,g,"TestLoadImage: error",!1,m,I),I.onabort=y(yr,g,"TestLoadImage: abort",!1,m,I),I.ontimeout=y(yr,g,"TestLoadImage: timeout",!1,m,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function nA(u,m){const g=new Eo,I=new AbortController,D=setTimeout(()=>{I.abort(),yr(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(M=>{clearTimeout(D),M.ok?yr(g,"TestPingServer: ok",!0,m):yr(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(D),yr(g,"TestPingServer: error",!1,m)})}function yr(u,m,g,I,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),I(g)}catch{}}function rA(){this.g=new FN}function sA(u,m,g){const I=g||"";try{t0(u,function(D,M){let $=D;d(D)&&($=Od(D)),m.push(I+M+"="+encodeURIComponent($))})}catch(D){throw m.push(I+"type="+encodeURIComponent("_badmap")),D}}function Ll(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Ll,Fd),Ll.prototype.g=function(){return new Ml(this.l,this.j)},Ll.prototype.i=function(u){return function(){return u}}({});function Ml(u,m){dt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ml,dt),t=Ml.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Co(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function l0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ko(this):Co(this),this.readyState==3&&l0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ko(this))},t.Qa=function(u){this.g&&(this.response=u,ko(this))},t.ga=function(){this.g&&ko(this)};function ko(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Co(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Co(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function c0(u){let m="";return L(u,function(g,I){m+=I,m+=":",m+=g,m+=`\r
`}),m}function Qd(u,m,g){e:{for(I in g){var I=!1;break e}I=!0}I||(g=c0(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):_e(u,m,g))}function je(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(je,dt);var iA=/^https?$/i,oA=["POST","PUT"];t=je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,g,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zd.g(),this.v=this.o?Oy(this.o):Oy(zd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(M){u0(this,M);return}if(u=g||"",g=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var D in I)g.set(D,I[D]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const M of I.keys())g.set(M,I.get(M));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),D=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oA,m,void 0))||I||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,$]of g)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f0(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){u0(this,M)}};function u0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,d0(u),Ol(u)}function d0(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Tt(this,"complete"),Tt(this,"abort"),Ol(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ol(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h0(this):this.bb())},t.bb=function(){h0(this)};function h0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Wn(u)!=4||u.Z()!=2)){if(u.u&&Wn(u)==4)Dy(u.Ea,0,u);else if(Tt(u,"readystatechange"),Wn(u)==4){u.h=!1;try{const $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var I;if(I=$===0){var D=String(u.D).match(n0)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),I=!iA.test(D?D.toLowerCase():"")}g=I}if(g)Tt(u,"complete"),Tt(u,"success");else{u.m=6;try{var M=2<Wn(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",d0(u)}}finally{Ol(u)}}}}function Ol(u,m){if(u.g){f0(u);const g=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Tt(u,"ready");try{g.onreadystatechange=I}catch{}}}function f0(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Wn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ON(m)}};function m0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function aA(u){const m={};u=(u.g&&2<=Wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(w(u[I]))continue;var g=j(u[I]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=m[D]||[];m[D]=M,M.push(g)}S(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function p0(u){this.Aa=0,this.i=[],this.j=new Eo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,u),this.cb=Po("retryDelaySeedMs",1e4,u),this.Wa=Po("forwardChannelMaxRetries",2,u),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yy(u&&u.concurrentRequestLimit),this.Da=new rA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=p0.prototype,t.la=8,t.G=1,t.connect=function(u,m,g,I){Et(0),this.W=u,this.H=m||{},g&&I!==void 0&&(this.H.OSID=g,this.H.OAID=I),this.F=this.X,this.I=E0(this,null,this.W),Ul(this)};function Yd(u){if(g0(u),u.G==3){var m=u.U++,g=$n(u.I);if(_e(g,"SID",u.K),_e(g,"RID",m),_e(g,"TYPE","terminate"),jo(u,g),m=new pr(u,u.j,m),m.L=2,m.v=Vl($n(g)),g=!1,l.navigator&&l.navigator.sendBeacon)try{g=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&l.Image&&(new Image().src=m.v,g=!0),g||(m.g=I0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),jl(m)}T0(u)}function Fl(u){u.g&&(Jd(u),u.g.cancel(),u.g=null)}function g0(u){Fl(u),u.u&&(l.clearTimeout(u.u),u.u=null),Bl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Ul(u){if(!Xy(u.h)&&!u.s){u.s=!0;var m=u.Ga;Q||Y(),U||(Q(),U=!0),K.add(m,u),u.B=0}}function lA(u,m){return Jy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=To(p(u.Ga,u,m),b0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new pr(this,this.j,u);let M=this.o;if(this.S&&(M?(M=v(M),N(M,this.S)):M=this.S),this.m!==null||this.O||(D.H=M,M=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var I=this.i[g];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=v0(this,D,m),g=$n(this.I),_e(g,"RID",u),_e(g,"CVER",22),this.D&&_e(g,"X-HTTP-Session-Id",this.D),jo(this,g),M&&(this.O?m="headers="+encodeURIComponent(String(c0(M)))+"&"+m:this.m&&Qd(g,this.m,M)),Gd(this.h,D),this.Ua&&_e(g,"TYPE","init"),this.P?(_e(g,"$req",m),_e(g,"SID","null"),D.T=!0,Wd(D,g,null)):Wd(D,g,m),this.G=2}}else this.G==3&&(u?y0(this,u):this.i.length==0||Xy(this.h)||y0(this))};function y0(u,m){var g;m?g=m.l:g=u.U++;const I=$n(u.I);_e(I,"SID",u.K),_e(I,"RID",g),_e(I,"AID",u.T),jo(u,I),u.m&&u.o&&Qd(I,u.m,u.o),g=new pr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=v0(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gd(u.h,g),Wd(g,I,m)}function jo(u,m){u.H&&L(u.H,function(g,I){_e(m,I,g)}),u.l&&t0({},function(g,I){_e(m,I,g)})}function v0(u,m,g){g=Math.min(u.i.length,g);var I=u.l?p(u.l.Na,u.l,u):null;e:{var D=u.i;let M=-1;for(;;){const $=["count="+g];M==-1?0<g?(M=D[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let xe=!0;for(let nt=0;nt<g;nt++){let fe=D[nt].g;const ht=D[nt].map;if(fe-=M,0>fe)M=Math.max(0,D[nt].g-100),xe=!1;else try{sA(ht,$,"req"+fe+"_")}catch{I&&I(ht)}}if(xe){I=$.join("&");break e}}}return u=u.i.splice(0,g),m.D=u,I}function x0(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Q||Y(),U||(Q(),U=!0),K.add(m,u),u.v=0}}function Xd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=To(p(u.Fa,u),b0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,w0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=To(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Fl(this),w0(this))};function Jd(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function w0(u){u.g=new pr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=$n(u.qa);_e(m,"RID","rpc"),_e(m,"SID",u.K),_e(m,"AID",u.T),_e(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&_e(m,"TO",u.ja),_e(m,"TYPE","xmlhttp"),jo(u,m),u.m&&u.o&&Qd(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Vl($n(m)),g.m=null,g.P=!0,Ky(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Fl(this),Xd(this),Et(19))};function Bl(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function _0(u,m){var g=null;if(u.g==m){Bl(u),Jd(u),u.g=null;var I=2}else if(Kd(u.h,m))g=m.D,Zy(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var D=u.B;I=kl(),Tt(I,new $y(I,g)),Ul(u)}else x0(u);else if(D=m.s,D==3||D==0&&0<m.X||!(I==1&&lA(u,m)||I==2&&Xd(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),D){case 1:hs(u,5);break;case 4:hs(u,10);break;case 3:hs(u,6);break;default:hs(u,2)}}}function b0(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function hs(u,m){if(u.j.info("Error code "+m),m==2){var g=p(u.fb,u),I=u.Xa;const D=!I;I=new ds(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rl(I,"https"),Vl(I),D?tA(I.toString(),g):nA(I.toString(),g)}else Et(2);u.G=0,u.l&&u.l.sa(m),T0(u),g0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function T0(u){if(u.G=0,u.ka=[],u.l){const m=e0(u.h);(m.length!=0||u.i.length!=0)&&(A(u.ka,m),A(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function E0(u,m,g){var I=g instanceof ds?$n(g):new ds(g);if(I.g!="")m&&(I.g=m+"."+I.g),Dl(I,I.s);else{var D=l.location;I=D.protocol,m=m?m+"."+D.hostname:D.hostname,D=+D.port;var M=new ds(null);I&&Rl(M,I),m&&(M.g=m),D&&Dl(M,D),g&&(M.l=g),I=M}return g=u.D,m=u.ya,g&&m&&_e(I,g,m),_e(I,"VER",u.la),jo(u,I),I}function I0(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new je(new Ll({eb:g})):new je(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function S0(){}t=S0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function zl(){}zl.prototype.g=function(u,m){return new Ut(u,m)};function Ut(u,m){dt.call(this),this.g=new p0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}b(Ut,dt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Yd(this.g)},Ut.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Od(u),u=g);m.i.push(new HN(m.Ya++,u)),m.G==3&&Ul(m)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Yd(this.g),delete this.g,Ut.aa.N.call(this)};function N0(u){Ud.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(N0,Ud);function A0(){Bd.call(this),this.status=1}b(A0,Bd);function ti(u){this.g=u}b(ti,S0),ti.prototype.ua=function(){Tt(this.g,"a")},ti.prototype.ta=function(u){Tt(this.g,new N0(u))},ti.prototype.sa=function(u){Tt(this.g,new A0)},ti.prototype.ra=function(){Tt(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,eE=function(){return new zl},ZT=function(){return kl()},JT=cs,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,Vc=Cl,Wy.COMPLETE="complete",XT=Wy,Fy.EventType=_o,_o.OPEN="a",_o.CLOSE="b",_o.ERROR="c",_o.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Xo=Fy,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,YT=je}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const bx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};yt.UNAUTHENTICATED=new yt(null),yt.GOOGLE_CREDENTIALS=new yt("google-credentials-uid"),yt.FIRST_PARTY=new yt("first-party-uid"),yt.MOCK_USER=new yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Hp("@firebase/firestore");function zo(){return Fs.logLevel}function G(t,...e){if(Fs.logLevel<=ue.DEBUG){const n=e.map(sg);Fs.debug(`Firestore (${fo}): ${t}`,...n)}}function lr(t,...e){if(Fs.logLevel<=ue.ERROR){const n=e.map(sg);Fs.error(`Firestore (${fo}): ${t}`,...n)}}function qi(t,...e){if(Fs.logLevel<=ue.WARN){const n=e.map(sg);Fs.warn(`Firestore (${fo}): ${t}`,...n)}}function sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function ve(t,e){t||ne()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends On{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ID{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yt.UNAUTHENTICATED))}shutdown(){}}class SD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ND{constructor(e){this.t=e,this.currentUser=yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new tr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new tr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new tE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new yt(e)}}class AD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new AD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new CD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=jD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.timestamp=e}static fromTimestamp(e){return new re(e)}static min(){return new re(new Je(0,0))}static max(){return new re(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends qa{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const RD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends qa{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return RD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Te.fromString(e))}static fromName(e){return new J(Te.fromString(e).popFirst(5))}static empty(){return new J(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Te(e.slice()))}}function DD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=re.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Qr(s,J.empty(),e)}function VD(t){return new Qr(t.readTime,t.key,-1)}class Qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qr(re.min(),J.empty(),-1)}static max(){return new Qr(re.max(),J.empty(),-1)}}function LD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==MD)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function FD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ig.oe=-1;function ad(t){return t==null}function Eu(t){return t===0&&1/t==-1/0}function UD(t){return typeof t=="number"&&Number.isInteger(t)&&!Eu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ex(this.data.getIterator())}getIteratorFrom(e){return new Ex(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class Ex{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new $t([])}unionWith(e){let n=new lt(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $t(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sE("Invalid base64 string: "+i):i}}(e);return new ut(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const BD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(ve(!!t),typeof t=="string"){let e=0;const n=BD.exec(t);if(ve(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Us(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ag(t){const e=t.mapValue.fields.__previous_value__;return og(e)?ag(e):e}function Ka(t){const e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n,r,s,i,o,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}class Ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?og(t)?4:WD(t)?9007199254740991:$D(t)?10:11:ne()}function Ln(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ka(t).isEqual(Ka(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Yr(s.timestampValue),l=Yr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Us(s.bytesValue).isEqual(Us(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),l=Be(i.doubleValue);return o===l?Eu(o)===Eu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Tx(o)!==Tx(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Ln(o[c],l[c])))return!1;return!0}(t,e);default:return ne()}}function Qa(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Be(i.integerValue||i.doubleValue),c=Be(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Ix(t.timestampValue,e.timestampValue);case 4:return Ix(Ka(t),Ka(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Us(i),c=Us(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=me(l[d],c[d]);if(h!==0)return h}return me(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=me(Be(i.latitude),Be(o.latitude));return l!==0?l:me(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Sx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,d,h;const f=i.fields||{},p=o.fields||{},y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=(c=p.value)===null||c===void 0?void 0:c.arrayValue,_=me(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:Sx(y,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uc.mapValue&&o===uc.mapValue)return 0;if(i===uc.mapValue)return 1;if(o===uc.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=me(c[f],h[f]);if(p!==0)return p;const y=Gi(l[c[f]],d[h[f]]);if(y!==0)return y}return me(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function Ix(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Yr(t),r=Yr(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function Sx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Gi(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Qi(t){return am(t)}function am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Us(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=am(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${am(n.fields[o])}`;return s+"}"}(t.mapValue):ne()}function Nx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lm(t){return!!t&&"integerValue"in t}function lg(t){return!!t&&"arrayValue"in t}function Ax(t){return!!t&&"nullValue"in t}function kx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lc(t){return!!t&&"mapValue"in t}function $D(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(n)}setAll(e){let n=ot.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=fa(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Rt(fa(this.value))}}function iE(t){const e=[];return Gs(t.fields,(n,r)=>{const s=new ot([n]);if(Lc(r)){const i=iE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new $t(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new xt(e,0,re.min(),re.min(),re.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,s){return new xt(e,1,n,re.min(),r,s,0)}static newNoDocument(e,n){return new xt(e,2,n,re.min(),re.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,re.min(),re.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.position=e,this.inclusive=n}}function Cx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Gi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Px(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function HD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oE=class{};class Ge extends oE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KD(e,n,r):n==="array-contains"?new YD(e,r):n==="in"?new XD(e,r):n==="not-in"?new JD(e,r):n==="array-contains-any"?new ZD(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GD(e,r):new QD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends oE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new xn(e,n)}matches(e){return aE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function aE(t){return t.op==="and"}function lE(t){return qD(t)&&aE(t)}function qD(t){for(const e of t.filters)if(e instanceof xn)return!1;return!0}function cm(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Qi(t.value);if(lE(t))return t.filters.map(e=>cm(e)).join(",");{const e=t.filters.map(n=>cm(n)).join(",");return`${t.op}(${e})`}}function cE(t,e){return t instanceof Ge?function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&Ln(r.value,s.value)}(t,e):t instanceof xn?function(r,s){return s instanceof xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&cE(o,s.filters[l]),!0):!1}(t,e):void ne()}function uE(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Qi(n.value)}`}(t):t instanceof xn?function(n){return n.op.toString()+" {"+n.getFilters().map(uE).join(" ,")+"}"}(t):"Filter"}class KD extends Ge{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class GD extends Ge{constructor(e,n){super(e,"in",n),this.keys=dE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QD extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=dE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function dE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class YD extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Qa(n.arrayValue,this.value)}}class XD extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qa(this.value.arrayValue,n)}}class JD extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qa(this.value.arrayValue,n)}}class ZD extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function jx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new e4(t,e,n,r,s,i,o)}function cg(t){const e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qi(r)).join(",")),e.ue=n}return e.ue}function ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!HD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Px(t.startAt,e.startAt)&&Px(t.endAt,e.endAt)}function um(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function t4(t,e,n,r,s,i,o,l){return new mo(t,e,n,r,s,i,o,l)}function dg(t){return new mo(t)}function Rx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hE(t){return t.collectionGroup!==null}function ma(t){const e=se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lt(ot.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Ya(i,r))}),n.has(ot.keyField().canonicalString())||e.ce.push(new Ya(ot.keyField(),r))}return e.ce}function Pn(t){const e=se(t);return e.le||(e.le=n4(e,ma(t))),e.le}function n4(t,e){if(t.limitType==="F")return jx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ya(s.field,i)});const n=t.endAt?new Iu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Iu(t.startAt.position,t.startAt.inclusive):null;return jx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dm(t,e){const n=t.filters.concat([e]);return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hm(t,e,n){return new mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ld(t,e){return ug(Pn(t),Pn(e))&&t.limitType===e.limitType}function fE(t){return`${cg(Pn(t))}|lt:${t.limitType}`}function si(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>uE(s)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qi(s)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ma(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Cx(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,ma(r),s)||r.endAt&&!function(o,l,c){const d=Cx(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,ma(r),s))}(t,e)}function r4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mE(t){return(e,n)=>{let r=!1;for(const s of ma(t)){const i=s4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function s4(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?Gi(c,d):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Pe(J.comparator);function cr(){return i4}const pE=new Pe(J.comparator);function Jo(...t){let e=pE;for(const n of t)e=e.insert(n.key,n);return e}function gE(t){let e=pE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return pa()}function yE(){return pa()}function pa(){return new po(t=>t.toString(),(t,e)=>t.isEqual(e))}const o4=new Pe(J.comparator),a4=new lt(J.comparator);function ce(...t){let e=a4;for(const n of t)e=e.add(n);return e}const l4=new lt(me);function c4(){return l4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eu(e)?"-0":e}}function vE(t){return{integerValue:""+t}}function u4(t,e){return UD(e)?vE(e):hg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this._=void 0}}function d4(t,e,n){return t instanceof Su?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&og(i)&&(i=ag(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Yi?wE(t,e):t instanceof Xi?_E(t,e):function(s,i){const o=xE(s,i),l=Dx(o)+Dx(s.Pe);return lm(o)&&lm(s.Pe)?vE(l):hg(s.serializer,l)}(t,e)}function h4(t,e,n){return t instanceof Yi?wE(t,e):t instanceof Xi?_E(t,e):n}function xE(t,e){return t instanceof Nu?function(r){return lm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Su extends ud{}class Yi extends ud{constructor(e){super(),this.elements=e}}function wE(t,e){const n=bE(e);for(const r of t.elements)n.some(s=>Ln(s,r))||n.push(r);return{arrayValue:{values:n}}}class Xi extends ud{constructor(e){super(),this.elements=e}}function _E(t,e){let n=bE(e);for(const r of t.elements)n=n.filter(s=>!Ln(s,r));return{arrayValue:{values:n}}}class Nu extends ud{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Dx(t){return Be(t.integerValue||t.doubleValue)}function bE(t){return lg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.field=e,this.transform=n}}function f4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Yi&&s instanceof Yi||r instanceof Xi&&s instanceof Xi?Ki(r.elements,s.elements,Ln):r instanceof Nu&&s instanceof Nu?Ln(r.Pe,s.Pe):r instanceof Su&&s instanceof Su}(t.transform,e.transform)}class m4{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dd{}function EE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fg(t.key,sn.none()):new yl(t.key,t.data,sn.none());{const n=t.data,r=Rt.empty();let s=new lt(ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new os(t.key,r,new $t(s.toArray()),sn.none())}}function p4(t,e,n){t instanceof yl?function(s,i,o){const l=s.value.clone(),c=Lx(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof os?function(s,i,o){if(!Mc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Lx(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(IE(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ga(t,e,n,r){return t instanceof yl?function(i,o,l,c){if(!Mc(i.precondition,o))return l;const d=i.value.clone(),h=Mx(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(i,o,l,c){if(!Mc(i.precondition,o))return l;const d=Mx(i.fieldTransforms,c,o),h=o.data;return h.setAll(IE(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return Mc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function g4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=xE(r.transform,s||null);i!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,i))}return n||null}function Vx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ki(r,s,(i,o)=>f4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends dd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class os extends dd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function IE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lx(t,e,n){const r=new Map;ve(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,h4(o,l,n[s]))}return r}function Mx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,d4(i,o,e))}return r}class fg extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y4 extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&p4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=EE(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(n,r)=>Vx(n,r))&&Ki(this.baseMutations,e.baseMutations,(n,r)=>Vx(n,r))}}class mg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ve(e.mutations.length===r.length);let s=function(){return o4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new mg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,de;function _4(t){switch(t){default:return ne();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function SE(t){if(t===void 0)return lr("GRPC error has no .code"),F.UNKNOWN;switch(t){case He.OK:return F.OK;case He.CANCELLED:return F.CANCELLED;case He.UNKNOWN:return F.UNKNOWN;case He.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case He.INTERNAL:return F.INTERNAL;case He.UNAVAILABLE:return F.UNAVAILABLE;case He.UNAUTHENTICATED:return F.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case He.NOT_FOUND:return F.NOT_FOUND;case He.ALREADY_EXISTS:return F.ALREADY_EXISTS;case He.PERMISSION_DENIED:return F.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case He.ABORTED:return F.ABORTED;case He.OUT_OF_RANGE:return F.OUT_OF_RANGE;case He.UNIMPLEMENTED:return F.UNIMPLEMENTED;case He.DATA_LOSS:return F.DATA_LOSS;default:return ne()}}(de=He||(He={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=new Ss([4294967295,4294967295],0);function Ox(t){const e=b4().encode(t),n=new QT;return n.update(e),new Uint8Array(n.digest())}function Fx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ss([n,r],0),new Ss([s,i],0)]}class pg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zo(`Invalid padding: ${n}`);if(r<0)throw new Zo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ss.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ss.fromNumber(r)));return s.compare(T4)===1&&(s=new Ss([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ox(e),[r,s]=Fx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pg(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Ox(e),[r,s]=Fx(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hd(re.min(),s,new Pe(me),cr(),ce())}}class vl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class NE{constructor(e,n){this.targetId=e,this.me=n}}class AE{constructor(e,n,r=ut.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ux{constructor(){this.fe=0,this.ge=zx(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne()}}),new vl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class E4{constructor(e){this.Le=e,this.Be=new Map,this.ke=cr(),this.qe=Bx(),this.Qe=new Pe(me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(um(i))if(r===0){const o=new J(i.path);this.Ue(n,o,xt.newNoDocument(o,re.min()))}else ve(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Us(r).toUint8Array()}catch(c){if(c instanceof sE)return qi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new pg(o,s,i)}catch(c){return qi(c instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&um(l.target)){const c=new J(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,xt.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=ce();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new hd(e,n,this.Qe,this.ke,r);return this.ke=cr(),this.qe=Bx(),this.Qe=new Pe(me),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ux,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new lt(me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ux),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Bx(){return new Pe(J.comparator)}function zx(){return new Pe(J.comparator)}const I4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N4={and:"AND",or:"OR"};class A4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fm(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function Au(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k4(t,e){return Au(t,e.toTimestamp())}function jn(t){return ve(!!t),re.fromTimestamp(function(n){const r=Yr(n);return new Je(r.seconds,r.nanos)}(t))}function gg(t,e){return mm(t,e).canonicalString()}function mm(t,e){const n=function(s){return new Te(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CE(t){const e=Te.fromString(t);return ve(VE(e)),e}function pm(t,e){return gg(t.databaseId,e.path)}function Dh(t,e){const n=CE(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(jE(n))}function PE(t,e){return gg(t.databaseId,e)}function C4(t){const e=CE(t);return e.length===4?Te.emptyPath():jE(e)}function gm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jE(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $x(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function P4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ve(h===void 0||typeof h=="string"),ut.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ut.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const h=d.code===void 0?F.UNKNOWN:SE(d.code);return new H(h,d.message||"")}(o);n=new AE(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Dh(t,r.document.name),i=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):re.min(),l=new Rt({mapValue:{fields:r.document.fields}}),c=xt.newFoundDocument(s,i,o,l),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Oc(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Dh(t,r.document),i=r.readTime?jn(r.readTime):re.min(),o=xt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Oc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Dh(t,r.document),i=r.removedTargetIds||[];n=new Oc([],i,s,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new w4(s,i),l=r.targetId;n=new NE(l,o)}}return n}function j4(t,e){let n;if(e instanceof yl)n={update:$x(t,e.key,e.value)};else if(e instanceof fg)n={delete:pm(t,e.key)};else if(e instanceof os)n={update:$x(t,e.key,e.data),updateMask:B4(e.fieldMask)};else{if(!(e instanceof y4))return ne();n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Yi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Xi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Nu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:k4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne()}(t,e.precondition)),n}function R4(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?jn(s.updateTime):jn(i);return o.isEqual(re.min())&&(o=jn(i)),new m4(o,s.transformResults||[])}(n,e))):[]}function D4(t,e){return{documents:[PE(t,e.path)]}}function V4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=PE(t,s);const i=function(d){if(d.length!==0)return DE(xn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:ii(p.field),direction:O4(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=fm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function L4(t){let e=C4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ve(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=RE(f);return p instanceof xn&&lE(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(b){return new Ya(oi(b.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(f){let p;return p=typeof f=="object"?f.value:f,ad(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new Iu(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new Iu(y,p)}(n.endAt)),t4(e,s,o,i,l,"F",c,d)}function M4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oi(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oi(n.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oi(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oi(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(oi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return xn.create(n.compositeFilter.filters.map(r=>RE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function O4(t){return I4[t]}function F4(t){return S4[t]}function U4(t){return N4[t]}function ii(t){return{fieldPath:t.canonicalString()}}function oi(t){return ot.fromServerFormat(t.fieldPath)}function DE(t){return t instanceof Ge?function(n){if(n.op==="=="){if(kx(n.value))return{unaryFilter:{field:ii(n.field),op:"IS_NAN"}};if(Ax(n.value))return{unaryFilter:{field:ii(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kx(n.value))return{unaryFilter:{field:ii(n.field),op:"IS_NOT_NAN"}};if(Ax(n.value))return{unaryFilter:{field:ii(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ii(n.field),op:F4(n.op),value:n.value}}}(t):t instanceof xn?function(n){const r=n.getFilters().map(s=>DE(s));return r.length===1?r[0]:{compositeFilter:{op:U4(n.op),filters:r}}}(t):ne()}function B4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s,i=re.min(),o=re.min(),l=ut.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e){this.ct=e}}function $4(t){const e=L4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.un=new H4}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class H4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new lt(Te.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new lt(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ji(0)}static kn(){return new Ji(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.changes=new po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ga(r.mutation,s,$t.empty(),Je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const s=_s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Jo();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=cr();const o=pa(),l=function(){return pa()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof os)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ga(h.mutation,d,h.mutation.getFieldMask(),Je.now())):o.set(d.key,$t.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return l.set(d,new K4(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=pa();let s=new Pe((o,l)=>o-l),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||$t.empty();h=l.applyToLocalView(d,h),r.set(c,h);const f=(s.get(l.batchId)||ce()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,f=yE();h.forEach(p=>{if(!i.has(p)){const y=EE(n.get(p),r.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(_s());let l=-1,c=i;return o.next(d=>B.forEach(d,(h,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,ce())).next(h=>({batchId:l,changes:gE(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let s=Jo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Jo();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,c=>{const d=function(f,p){return new mo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let l=Jo();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&ga(h.mutation,d,$t.empty(),Je.now()),cd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jn(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:$4(s.bundledQuery),readTime:jn(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.overlays=new Pe(J.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=_s(),i=n.length+1,o=new J(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Pe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=_s(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=_s(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=s)););return B.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new x4(n,r));let i=this.Ir.get(n);i===void 0&&(i=ce(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.sessionToken=ut.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Tr=new lt(Ze.Er),this.dr=new lt(Ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new Te([])),r=new Ze(n,e),s=new Ze(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new Te([])),r=new Ze(n,e),s=new Ze(n,e+1);let i=ce();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ze{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new lt(Ze.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v4(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new Ze(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ze(n,0),s=new Ze(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(me);return n.forEach(s=>{const i=new Ze(s,0),o=new Ze(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const o=new Ze(new J(i),0);let l=new lt(me);return this.br.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.wr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,s=>{const i=new Ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ze(n,0),s=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.Mr=e,this.docs=function(){return new Pe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():xt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=cr();const o=n.path,l=new J(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||LD(VD(h),r)<=0||(s.has(h.key)||cd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eV(this)}getSize(e){return B.resolve(this.size)}}class eV extends q4{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.persistence=e,this.Nr=new po(n=>cg(n),ug),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yg,this.targetCount=0,this.kr=Ji.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ji(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ig(0),this.Kr=!1,this.Kr=!0,this.$r=new X4,this.referenceDelegate=e(this),this.Ur=new tV(this),this.indexManager=new W4,this.remoteDocumentCache=function(s){return new Z4(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new z4(n),this.Gr=new Q4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new J4(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new rV(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class rV extends OD{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Jr=new yg,this.Yr=null}static Zr(e){return new vg(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=J.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=ce(),s=ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new xg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return J2()?8:FD(bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new sV;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(zo()<=ue.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",si(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(zo()<=ue.DEBUG&&G("QueryEngine","Query:",si(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(zo()<=ue.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",si(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):B.resolve())}Yi(e,n){if(Rx(n))return B.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hm(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ce(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.ts(n,l);return this.ns(n,d,o,c.readTime)?this.Yi(e,hm(n,null,"F")):this.rs(e,d,n,c)}))})))}Zi(e,n,r,s){return Rx(n)||s.isEqual(re.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?B.resolve(null):(zo()<=ue.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),si(n)),this.rs(e,o,n,DD(s,-1)).next(l=>l))})}ts(e,n){let r=new lt(mE(e));return n.forEach((s,i)=>{cd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return zo()<=ue.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",si(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Pe(me),this._s=new po(i=>cg(i),ug),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G4(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function aV(t,e,n,r){return new oV(t,e,n,r)}async function LE(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ce();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:l}))})})}function lV(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const f=d.batch,p=f.keys();let y=B.resolve();return p.forEach(b=>{y=y.next(()=>h.getEntry(c,b)).next(_=>{const A=d.docVersions.get(b);ve(A!==null),_.version.compareTo(A)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ce();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ME(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function cV(t,e){const n=se(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;l.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(ut.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(_,A,T){return _.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,h)&&l.push(n.Ur.updateTargetData(i,y))});let c=cr(),d=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(uV(i,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!r.isEqual(re.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.os=s,i))}function uV(t,e,n){let r=ce(),s=ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=cr();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(re.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function dV(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hV(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ym(t,e,n){const r=se(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!gl(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Wx(t,e,n){const r=se(t);let s=re.min(),i=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=se(c),p=f._s.get(h);return p!==void 0?B.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(r,o,Pn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:re.min(),n?i:ce())).next(l=>(fV(r,r4(e),l),{documents:l,Ts:i})))}function fV(t,e,n){let r=t.us.get(e)||re.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Hx{constructor(){this.activeTargetIds=c4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.so=new Hx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc=null;function Vh(){return dc===null?dc=function(){return 268435456+Math.round(2147483648*Math.random())}():dc++,"0x"+dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt="WebChannelConnection";class vV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=Vh(),c=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,c,d,s).then(h=>(G("RestConnection",`Received RPC '${n}' ${l}: `,h),h),h=>{throw qi("RestConnection",`RPC '${n}' ${l} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=gV[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Vh();return new Promise((o,l)=>{const c=new YT;c.setWithCredentials(!0),c.listenOnce(XT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vc.NO_ERROR:const h=c.getResponseJson();G(gt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Vc.TIMEOUT:G(gt,`RPC '${e}' ${i} timed out`),l(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const f=c.getStatus();if(G(gt,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const b=function(A){const T=A.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(y.status);l(new H(b,y.message))}else l(new H(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new H(F.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{G(gt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);G(gt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Vh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eE(),l=ZT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");G(gt,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,y=!1;const b=new yV({Io:A=>{y?G(gt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(p||(G(gt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),G(gt,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},To:()=>f.close()}),_=(A,T,w)=>{A.listen(T,x=>{try{w(x)}catch(P){setTimeout(()=>{throw P},0)}})};return _(f,Xo.EventType.OPEN,()=>{y||(G(gt,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),_(f,Xo.EventType.CLOSE,()=>{y||(y=!0,G(gt,`RPC '${e}' stream ${s} transport closed`),b.So())}),_(f,Xo.EventType.ERROR,A=>{y||(y=!0,qi(gt,`RPC '${e}' stream ${s} transport errored:`,A),b.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),_(f,Xo.EventType.MESSAGE,A=>{var T;if(!y){const w=A.data[0];ve(!!w);const x=w,P=x.error||((T=x[0])===null||T===void 0?void 0:T.error);if(P){G(gt,`RPC '${e}' stream ${s} received error:`,P);const V=P.status;let L=function(E){const N=He[E];if(N!==void 0)return SE(N)}(V),S=P.message;L===void 0&&(L=F.INTERNAL,S="Unknown error status: "+V+" with message "+P.message),y=!0,b.So(new H(L,S)),f.close()}else G(gt,`RPC '${e}' stream ${s} received:`,w),b.bo(w)}}),_(l,JT.STAT_EVENT,A=>{A.stat===om.PROXY?G(gt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===om.NOPROXY&&G(gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){return new A4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xV extends FE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=P4(this.serializer,e),r=function(i){if(!("targetChange"in i))return re.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?jn(o.readTime):re.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=gm(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=um(c)?{documents:D4(i,c)}:{query:V4(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=kE(i,o.resumeToken);const d=fm(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(re.min())>0){l.readTime=Au(i,o.snapshotVersion.toTimestamp());const d=fm(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=M4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=gm(this.serializer),n.removeTarget=e,this.a_(n)}}class wV extends FE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=R4(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=gm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,mm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,mm(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Qs(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=se(c);d.L_.add(4),await xl(d),d.q_.set("Unknown"),d.L_.delete(4),await md(d)}(this))})}),this.q_=new bV(r,s)}}async function md(t){if(Qs(t))for(const e of t.B_)await e(!0)}async function xl(t){for(const e of t.B_)await e(!1)}function UE(t,e){const n=se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Tg(n)?bg(n):go(n).r_()&&_g(n,e))}function wg(t,e){const n=se(t),r=go(n);n.N_.delete(e),r.r_()&&BE(n,e),n.N_.size===0&&(r.r_()?r.o_():Qs(n)&&n.q_.set("Unknown"))}function _g(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}go(t).A_(e)}function BE(t,e){t.Q_.xe(e),go(t).R_(e)}function bg(t){t.Q_=new E4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),go(t).start(),t.q_.v_()}function Tg(t){return Qs(t)&&!go(t).n_()&&t.N_.size>0}function Qs(t){return se(t).L_.size===0}function zE(t){t.Q_=void 0}async function EV(t){t.q_.set("Online")}async function IV(t){t.N_.forEach((e,n)=>{_g(t,e)})}async function SV(t,e){zE(t),Tg(t)?(t.q_.M_(e),bg(t)):t.q_.set("Unknown")}async function NV(t,e,n){if(t.q_.set("Online"),e instanceof AE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ku(t,r)}else if(e instanceof Oc?t.Q_.Ke(e):e instanceof NE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(re.min()))try{const r=await ME(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(ut.EMPTY_BYTE_STRING,h.snapshotVersion)),BE(i,c);const f=new Rr(h.target,c,d,h.sequenceNumber);_g(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await ku(t,r)}}async function ku(t,e,n){if(!gl(e))throw e;t.L_.add(1),await xl(t),t.q_.set("Offline"),n||(n=()=>ME(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await md(t)})}function $E(t,e){return e().catch(n=>ku(t,n,e))}async function pd(t){const e=se(t),n=Xr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;AV(e);)try{const s=await dV(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,kV(e,s)}catch(s){await ku(e,s)}WE(e)&&HE(e)}function AV(t){return Qs(t)&&t.O_.length<10}function kV(t,e){t.O_.push(e);const n=Xr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WE(t){return Qs(t)&&!Xr(t).n_()&&t.O_.length>0}function HE(t){Xr(t).start()}async function CV(t){Xr(t).p_()}async function PV(t){const e=Xr(t);for(const n of t.O_)e.m_(n.mutations)}async function jV(t,e,n){const r=t.O_.shift(),s=mg.from(r,e,n);await $E(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await pd(t)}async function RV(t,e){e&&Xr(t).V_&&await async function(r,s){if(function(o){return _4(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();Xr(r).s_(),await $E(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await pd(r)}}(t,e),WE(t)&&HE(t)}async function Kx(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Qs(n);n.L_.add(3),await xl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await md(n)}async function DV(t,e){const n=se(t);e?(n.L_.delete(2),await md(n)):e||(n.L_.add(2),await xl(n),n.q_.set("Unknown"))}function go(t){return t.K_||(t.K_=function(n,r,s){const i=se(n);return i.w_(),new xV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:EV.bind(null,t),Ro:IV.bind(null,t),mo:SV.bind(null,t),d_:NV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Tg(t)?bg(t):t.q_.set("Unknown")):(await t.K_.stop(),zE(t))})),t.K_}function Xr(t){return t.U_||(t.U_=function(n,r,s){const i=se(n);return i.w_(),new wV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:CV.bind(null,t),mo:RV.bind(null,t),f_:PV.bind(null,t),g_:jV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await pd(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Eg(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(t,e){if(lr("AsyncQueue",`${e}: ${t}`),gl(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Jo(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Li(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Li;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.W_=new Pe(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Zi{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Zi(e,n,Li.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class LV{constructor(){this.queries=Qx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=se(n),i=s.queries;s.queries=Qx(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}}function Qx(){return new po(t=>fE(t),ld)}async function qE(t,e){const n=se(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new VV,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Ig(o,`Initialization of query '${si(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Sg(n)}async function KE(t,e){const n=se(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MV(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&Sg(n)}function OV(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Sg(t){t.Y_.forEach(e=>{e.next()})}var vm,Yx;(Yx=vm||(vm={})).ea="default",Yx.Cache="cache";class GE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class FV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=mE(e),this.Ra=new Li(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Gx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=cd(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?b!==_&&(r.track({type:3,doc:y}),A=!0):this.ga(p,y)||(r.track({type:2,doc:y}),A=!0,(c&&this.Aa(y,c)>0||d&&this.Aa(y,d)<0)&&(l=!0)):!p&&y?(r.track({type:0,doc:y}),A=!0):p&&!y&&(r.track({type:1,doc:p}),A=!0,(c||d)&&(l=!0)),A&&(y?(o=o.add(y),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(y,b){const _=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return _(y)-_(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new Zi(this.query,e.Ra,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Gx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new YE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new QE(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class UV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BV{constructor(e){this.key=e,this.va=!1}}class zV{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new po(l=>fE(l),ld),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(J.comparator),this.Na=new Map,this.La=new yg,this.Ba={},this.ka=new Map,this.qa=Ji.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $V(t,e,n=!0){const r=nI(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await XE(r,e,n,!0),s}async function WV(t,e){const n=nI(t);await XE(n,e,!0,!1)}async function XE(t,e,n,r){const s=await hV(t.localStore,Pn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await HV(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&UE(t.remoteStore,s),l}async function HV(t,e,n,r,s){t.Ka=(f,p,y)=>async function(_,A,T,w){let x=A.view.ma(T);x.ns&&(x=await Wx(_.localStore,A.query,!1).then(({documents:S})=>A.view.ma(S,x)));const P=w&&w.targetChanges.get(A.targetId),V=w&&w.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(x,_.isPrimaryClient,P,V);return Jx(_,A.targetId,L.wa),L.snapshot}(t,f,p,y);const i=await Wx(t.localStore,e,!0),o=new FV(e,i.Ts),l=o.ma(i.documents),c=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);Jx(t,n,d.wa);const h=new UV(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function qV(t,e,n){const r=se(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ld(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ym(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wg(r.remoteStore,s.targetId),xm(r,s.targetId)}).catch(pl)):(xm(r,s.targetId),await ym(r.localStore,s.targetId,!0))}async function KV(t,e){const n=se(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function GV(t,e,n){const r=tL(t);try{const s=await function(o,l){const c=se(o),d=Je.now(),h=l.reduce((y,b)=>y.add(b.key),ce());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=cr(),_=ce();return c.cs.getEntries(y,h).next(A=>{b=A,b.forEach((T,w)=>{w.isValidDocument()||(_=_.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(A=>{f=A;const T=[];for(const w of l){const x=g4(w,f.get(w.key).overlayedDocument);x!=null&&T.push(new os(w.key,x,iE(x.value.mapValue),sn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,T,l)}).next(A=>{p=A;const T=A.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(y,A.batchId,T)})}).then(()=>({batchId:p.batchId,changes:gE(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new Pe(me)),d=d.insert(l,c),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await wl(r,s.changes),await pd(r.remoteStore)}catch(s){const i=Ig(s,"Failed to persist write");n.reject(i)}}async function JE(t,e){const n=se(t);try{const r=await cV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ve(o.va):s.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),await wl(n,r,e)}catch(r){await pl(r)}}function Xx(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=se(o);c.onlineState=l;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(l)&&(d=!0)}),d&&Sg(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QV(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Pe(J.comparator);o=o.insert(i,xt.newNoDocument(i,re.min()));const l=ce().add(i),c=new hd(re.min(),new Map,new Pe(me),o,l);await JE(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),Ng(r)}else await ym(r.localStore,e,!1).then(()=>xm(r,e,n)).catch(pl)}async function YV(t,e){const n=se(t),r=e.batch.batchId;try{const s=await lV(n.localStore,e);eI(n,r,null),ZE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,s)}catch(s){await pl(s)}}async function XV(t,e,n){const r=se(t);try{const s=await function(o,l){const c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(f=>(ve(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);eI(r,e,n),ZE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wl(r,s)}catch(s){await pl(s)}}function ZE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function eI(t,e,n){const r=se(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||tI(t,r)})}function tI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(wg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ng(t))}function Jx(t,e,n){for(const r of n)r instanceof QE?(t.La.addReference(r.key,e),JV(t,r)):r instanceof YE?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||tI(t,r.key)):ne()}function JV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ng(t))}function Ng(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new BV(n)),t.Oa=t.Oa.insert(n,r),UE(t.remoteStore,new Rr(Pn(dg(n.path)),r,"TargetPurposeLimboResolution",ig.oe))}}async function wl(t,e,n){const r=se(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=xg.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,d){const h=se(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(d,p=>B.forEach(p.$i,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>B.forEach(p.Ui,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!gl(f))throw f;G("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.os.get(p),b=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,_)}}}(r.localStore,i))}async function ZV(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await LE(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new H(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wl(n,r.hs)}}function eL(t,e){const n=se(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let s=ce();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function nI(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QV.bind(null,e),e.Ca.d_=MV.bind(null,e.eventManager),e.Ca.$a=OV.bind(null,e.eventManager),e}function tL(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XV.bind(null,e),e}class Cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return aV(this.persistence,new iV,e.initialUser,this.serializer)}Ga(e){return new nV(vg.Zr,this.serializer)}Wa(e){return new mV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cu.provider={build:()=>new Cu};class wm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZV.bind(null,this.syncEngine),await DV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LV}()}createDatastore(e){const n=fd(e.databaseInfo.databaseId),r=function(i){return new vV(i)}(e.databaseInfo);return function(i,o,l,c){return new _V(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new TV(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Xx(this.syncEngine,n,0),function(){return qx.D()?new qx:new pV}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,h){const f=new zV(s,i,o,l,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=se(s);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await xl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=yt.UNAUTHENTICATED,this.clientId=nE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mh(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rL(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Kx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Kx(e.remoteStore,s)),t._onlineComponents=e}async function rL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qi("Error using user provided cache. Falling back to memory cache: "+n),await Mh(t,new Cu)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Mh(t,new Cu);return t._offlineComponents}async function sI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Zx(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Zx(t,new wm))),t._onlineComponents}function sL(t){return sI(t).then(e=>e.syncEngine)}async function iI(t){const e=await sI(t),n=e.eventManager;return n.onListen=$V.bind(null,e.syncEngine),n.onUnlisten=qV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KV.bind(null,e.syncEngine),n}function iL(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new rI({next:p=>{h.Za(),o.enqueueAndForget(()=>KE(i,f));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new GE(dg(l.path),h,{includeMetadataChanges:!0,_a:!0});return qE(i,f)}(await iI(t),t.asyncQueue,e,n,r)),r.promise}function oL(t,e,n={}){const r=new tr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const h=new rI({next:p=>{h.Za(),o.enqueueAndForget(()=>KE(i,f)),p.fromCache&&c.source==="server"?d.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new GE(l,h,{includeMetadataChanges:!0,_a:!0});return qE(i,f)}(await iI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aL(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tw(t){if(!J.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nw(t){if(J.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function wn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ID;switch(r.type){case"firstParty":return new kD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ew.get(n);r&&(G("ComponentProvider","Removing Datastore"),ew.delete(n),r.terminate())}(this),Promise.resolve()}}function lL(t,e,n,r={}){var s;const i=(t=wn(t,yd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=yt.MOCK_USER;else{l=cT(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new yt(d)}t._authCredentials=new SD(new tE(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class Hr extends Ys{constructor(e,n,r){super(e,n,dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new J(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function pe(t,e,...n){if(t=Le(t),aI("collection","path",e),t instanceof yd){const r=Te.fromString(e,...n);return nw(r),new Hr(t,null,r)}{if(!(t instanceof kt||t instanceof Hr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return nw(r),new Hr(t.firestore,null,r)}}function We(t,e,...n){if(t=Le(t),arguments.length===1&&(e=nE.newId()),aI("doc","path",e),t instanceof yd){const r=Te.fromString(e,...n);return tw(r),new kt(t,null,new J(r))}{if(!(t instanceof kt||t instanceof Hr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return tw(r),new kt(t.firestore,t instanceof Hr?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OE(this,"async_queue_retry"),this.Vu=()=>{const r=Lh();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Lh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new tr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gl(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw lr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Eg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Xs extends yd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new sw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sw(e),this._firestoreClient=void 0,await e}}}function cL(t,e){const n=typeof t=="object"?t:Kp(),r=typeof t=="string"?t:"(default)",s=rd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=oT("firestore");i&&lL(s,...i)}return s}function Ag(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||uL(t),t._firestoreClient}function uL(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,h){return new zD(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,oI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new nL(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(ut.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=/^__.*__$/;class hL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class lI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class xd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(cI(this.Cu)&&dL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fd(e)}Qu(e,n,r,s=!1){return new xd({Cu:e,methodName:n,qu:r,path:ot.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wd(t){const e=t._freezeSettings(),n=fd(t._databaseId);return new fL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uI(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Rg("Data must be an object, but it was:",o,r);const l=hI(r,o);let c,d;if(i.merge)c=new $t(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=_m(e,f,n);if(!o.contains(p))throw new H(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);mI(h,p)||h.push(p)}c=new $t(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new hL(new Rt(l),c,d)}class _d extends _l{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _d}}function dI(t,e,n){return new xd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Pg extends _l{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=dI(this,e,!0),r=this.Ku.map(i=>Js(i,n)),s=new Yi(r);return new TE(e.path,s)}isEqual(e){return e instanceof Pg&&Hi(this.Ku,e.Ku)}}class jg extends _l{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=dI(this,e,!0),r=this.Ku.map(i=>Js(i,n)),s=new Xi(r);return new TE(e.path,s)}isEqual(e){return e instanceof jg&&Hi(this.Ku,e.Ku)}}function mL(t,e,n,r){const s=t.Qu(1,e,n);Rg("Data must be an object, but it was:",s,r);const i=[],o=Rt.empty();Gs(r,(c,d)=>{const h=Dg(e,c,n);d=Le(d);const f=s.Nu(h);if(d instanceof _d)i.push(h);else{const p=Js(d,f);p!=null&&(i.push(h),o.set(h,p))}});const l=new $t(i);return new lI(o,l,s.fieldTransforms)}function pL(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[_m(e,r,n)],c=[s];if(i.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)l.push(_m(e,i[p])),c.push(i[p+1]);const d=[],h=Rt.empty();for(let p=l.length-1;p>=0;--p)if(!mI(d,l[p])){const y=l[p];let b=c[p];b=Le(b);const _=o.Nu(y);if(b instanceof _d)d.push(y);else{const A=Js(b,_);A!=null&&(d.push(y),h.set(y,A))}}const f=new $t(d);return new lI(h,f,o.fieldTransforms)}function gL(t,e,n,r=!1){return Js(n,t.Qu(r?4:3,e))}function Js(t,e){if(fI(t=Le(t)))return Rg("Unsupported field value:",e,t),hI(t,e);if(t instanceof _l)return function(r,s){if(!cI(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Js(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Je.fromDate(r);return{timestampValue:Au(s.serializer,i)}}if(r instanceof Je){const i=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Au(s.serializer,i)}}if(r instanceof kg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof eo)return{bytesValue:kE(s.serializer,r._byteString)};if(r instanceof kt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cg)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return hg(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${gd(r)}`)}(t,e)}function hI(t,e){const n={};return rE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,s)=>{const i=Js(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function fI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof kg||t instanceof eo||t instanceof kt||t instanceof _l||t instanceof Cg)}function Rg(t,e,n){if(!fI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=gd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _m(t,e,n){if((e=Le(e))instanceof vd)return e._internalPath;if(typeof e=="string")return Dg(t,e);throw Pu("Field path arguments must be of type string or ",t,!1,void 0,n)}const yL=new RegExp("[~\\*/\\[\\]]");function Dg(t,e,n){if(e.search(yL)>=0)throw Pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vd(...e.split("."))._internalPath}catch{throw Pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new H(F.INVALID_ARGUMENT,l+t+c)}function mI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vL extends pI{data(){return super.data()}}function bd(t,e){return typeof e=="string"?Dg(t,e):e instanceof vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class gI extends Vg{}function Td(t,e,...n){let r=[];e instanceof Vg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Lg).length,l=i.filter(c=>c instanceof Ed).length;if(o>1||o>0&&l>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ed extends gI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ed(e,n,r)}_apply(e){const n=this._parse(e);return xI(e._query,n),new Ys(e.firestore,e.converter,dm(e._query,n))}_parse(e){const n=wd(e.firestore);return function(i,o,l,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ow(f,h);const y=[];for(const b of f)y.push(iw(c,i,b));p={arrayValue:{values:y}}}else p=iw(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ow(f,h),p=gL(l,o,f,h==="in"||h==="not-in");return Ge.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yI(t,e,n){const r=e,s=bd("where",t);return Ed._create(s,r,n)}class Lg extends Vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)xI(o,c),o=dm(o,c)}(e._query,n),new Ys(e.firestore,e.converter,dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends gI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ya(i,o)}(e._query,this._field,this._direction);return new Ys(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new mo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function vI(t,e="asc"){const n=e,r=bd("orderBy",t);return Mg._create(r,n)}function iw(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!J.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nx(t,new J(r))}if(n instanceof kt)return Nx(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function ow(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wL{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Be(o.doubleValue));return new Cg(i)}convertGeoPoint(e){return new kg(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ag(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);ve(VE(r));const s=new Ga(r.get(1),r.get(3)),i=new J(r.popFirst(5));return s.isEqual(n)||lr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _I extends pI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fc extends _I{data(e={}){return super.data(e)}}class _L{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ea(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fc(this._firestore,this._userDataWriter,r.key,r,new ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Fc(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ea(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Fc(s._firestore,s._userDataWriter,l.doc.key,l.doc,new ea(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:bL(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){t=wn(t,kt);const e=wn(t.firestore,Xs);return iL(Ag(e),t._key).then(n=>EL(e,t,n))}class bI extends wL{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function Ve(t){t=wn(t,Ys);const e=wn(t.firestore,Xs),n=Ag(e),r=new bI(e);return xL(t._query),oL(n,t._query).then(s=>new _L(e,r,t,s))}function Kt(t,e,n){t=wn(t,kt);const r=wn(t.firestore,Xs),s=wI(t.converter,e);return Id(r,[uI(wd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,sn.none())])}function _i(t,e,n,...r){t=wn(t,kt);const s=wn(t.firestore,Xs),i=wd(s);let o;return o=typeof(e=Le(e))=="string"||e instanceof vd?pL(i,"updateDoc",t._key,e,n,r):mL(i,"updateDoc",t._key,e),Id(s,[o.toMutation(t._key,sn.exists(!0))])}function TL(t){return Id(wn(t.firestore,Xs),[new fg(t._key,sn.none())])}function ur(t,e){const n=wn(t.firestore,Xs),r=We(t),s=wI(t.converter,e);return Id(n,[uI(wd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,sn.exists(!1))]).then(()=>r)}function Id(t,e){return function(r,s){const i=new tr;return r.asyncQueue.enqueueAndForget(async()=>GV(await sL(r),s,i)),i.promise}(Ag(t),e)}function EL(t,e,n){const r=n.docs.get(e._key),s=new bI(t);return new _I(t,s,e._key,r,new ea(n.hasPendingWrites,n.fromCache),e.converter)}function bm(...t){return new Pg("arrayUnion",t)}function aw(...t){return new jg("arrayRemove",t)}(function(e,n=!0){(function(s){fo=s})(qs),Ls(new Gr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Xs(new ND(r.getProvider("auth-internal")),new PD(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ga(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),An(bx,"4.7.3",e),An(bx,"4.7.3","esm2017")})();var IL="firebase",SL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An(IL,SL,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebasestorage.googleapis.com",EI="storageBucket",NL=2*60*1e3,AL=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe extends On{constructor(e,n,r=0){super(Oh(e),`Firebase Storage: ${n} (${Oh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Oh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function Oh(t){return"storage/"+t}function Og(){const t="An unknown error occurred, please check the error payload for server response.";return new Oe(Me.UNKNOWN,t)}function kL(t){return new Oe(Me.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function CL(t){return new Oe(Me.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Oe(Me.UNAUTHENTICATED,t)}function jL(){return new Oe(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RL(t){return new Oe(Me.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DL(){return new Oe(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function VL(){return new Oe(Me.CANCELED,"User canceled the upload/download.")}function LL(t){return new Oe(Me.INVALID_URL,"Invalid URL '"+t+"'.")}function ML(t){return new Oe(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OL(){return new Oe(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EI+"' property when initializing the app?")}function FL(){return new Oe(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UL(){return new Oe(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BL(t){return new Oe(Me.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tm(t){return new Oe(Me.INVALID_ARGUMENT,t)}function II(){return new Oe(Me.APP_DELETED,"The Firebase app was deleted.")}function zL(t){return new Oe(Me.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ya(t,e){return new Oe(Me.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $o(t){throw new Oe(Me.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wt.makeFromUrl(e,n)}catch{return new Wt(e,"")}if(r.path==="")return r;throw ML(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},_=n===TI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",T=new RegExp(`^https?://${_}/${s}/${A}`,"i"),x=[{regex:l,indices:c,postModify:i},{regex:y,indices:b,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let P=0;P<x.length;P++){const V=x[P],L=V.regex.exec(e);if(L){const S=L[V.indices.bucket];let v=L[V.indices.path];v||(v=""),r=new Wt(S,v),V.postModify(r);break}}if(r==null)throw LL(e);return r}}class $L{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function f(A){s=setTimeout(()=>{s=null,t(y,c())},A)}function p(){i&&clearTimeout(i)}function y(A,...T){if(d){p();return}if(A){p(),h.call(null,A,...T);return}if(c()||o){p(),h.call(null,A,...T);return}r<64&&(r*=2);let x;l===1?(l=2,x=0):x=(r+Math.random())*1e3,f(x)}let b=!1;function _(A){b||(b=!0,p(),!d&&(s!==null?(A||(l=2),clearTimeout(s),f(0)):A||(l=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function HL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t){return t!==void 0}function KL(t){return typeof t=="object"&&!Array.isArray(t)}function Fg(t){return typeof t=="string"||t instanceof String}function lw(t){return Ug()&&t instanceof Blob}function Ug(){return typeof Blob<"u"}function cw(t,e,n,r){if(r<e)throw Tm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function SI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ns;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,s,i,o,l,c,d,h,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new hc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Ns.NO_ERROR,c=i.getStatus();if(!l||GL(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Ns.ABORT;r(!1,new hc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new hc(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());qL(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=Og();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?II():VL();o(c)}else{const c=DL();o(c)}};this.canceled_?n(!1,new hc(!1,null,!0)):this.backoffId_=WL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function YL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ZL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function eM(t,e,n,r,s,i,o=!0){const l=SI(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return JL(d,e),YL(d,n),XL(d,i),ZL(d,r),new QL(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nM(...t){const e=tM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ug())return new Blob(t);throw new Oe(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){if(typeof atob>"u")throw BL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fh{constructor(e,n){this.data=e,this.contentType=n||null}}function iM(t,e){switch(t){case In.RAW:return new Fh(NI(e));case In.BASE64:case In.BASE64URL:return new Fh(AI(t,e));case In.DATA_URL:return new Fh(aM(e),lM(e))}throw Og()}function NI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function oM(t){let e;try{e=decodeURIComponent(t)}catch{throw ya(In.DATA_URL,"Malformed data URL.")}return NI(e)}function AI(t,e){switch(t){case In.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ya(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case In.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ya(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sM(e)}catch(s){throw s.message.includes("polyfill")?s:ya(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class kI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ya(In.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function aM(t){const e=new kI(t);return e.base64?AI(In.BASE64,e.rest):oM(e.rest)}function lM(t){return new kI(t).contentType}function cM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){let r=0,s="";lw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(lw(this.data_)){const r=this.data_,s=rM(r,e,n);return s===null?null:new kr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new kr(r,!0)}}static getBlob(...e){if(Ug()){const n=e.map(r=>r instanceof kr?r.data_:r);return new kr(nM.apply(null,n))}else{const n=e.map(o=>Fg(o)?iM(In.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new kr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){let e;try{e=JSON.parse(t)}catch{return null}return KL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t,e){return e}class It{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||hM}}let fc=null;function fM(t){return!Fg(t)||t.length<2?t:PI(t)}function jI(){if(fc)return fc;const t=[];t.push(new It("bucket")),t.push(new It("generation")),t.push(new It("metageneration")),t.push(new It("name","fullPath",!0));function e(i,o){return fM(o)}const n=new It("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new It("size");return s.xform=r,t.push(s),t.push(new It("timeCreated")),t.push(new It("updated")),t.push(new It("md5Hash",null,!0)),t.push(new It("cacheControl",null,!0)),t.push(new It("contentDisposition",null,!0)),t.push(new It("contentEncoding",null,!0)),t.push(new It("contentLanguage",null,!0)),t.push(new It("contentType",null,!0)),t.push(new It("metadata","customMetadata",!0)),fc=t,fc}function mM(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Wt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function pM(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return mM(r,t),r}function RI(t,e,n){const r=CI(e);return r===null?null:pM(t,r,n)}function gM(t,e,n,r){const s=CI(e);if(s===null||!Fg(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const h=t.bucket,f=t.fullPath,p="/b/"+o(h)+"/o/"+o(f),y=Bg(p,n,r),b=SI({alt:"media",token:d});return y+b})[0]}function yM(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class DI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t){if(!t)throw Og()}function vM(t,e){function n(r,s){const i=RI(t,s,e);return VI(i!==null),i}return n}function xM(t,e){function n(r,s){const i=RI(t,s,e);return VI(i!==null),gM(i,s,t.host,t._protocol)}return n}function LI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=jL():s=PL():n.getStatus()===402?s=CL(t.bucket):n.getStatus()===403?s=RL(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function wM(t){const e=LI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=kL(t.path)),i.serverResponse=s.serverResponse,i}return n}function _M(t,e,n){const r=e.fullServerUrl(),s=Bg(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new DI(s,i,xM(t,n),o);return l.errorHandler=wM(e),l}function bM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function TM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bM(null,e)),r}function EM(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let P=0;P<2;P++)x=x+Math.random().toString().slice(2);return x}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=TM(e,r,s),h=yM(d,n),f="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",y=kr.getBlob(f,r,p);if(y===null)throw FL();const b={name:d.fullPath},_=Bg(i,t.host,t._protocol),A="POST",T=t.maxUploadRetryTime,w=new DI(_,A,vM(t,n),T);return w.urlParams=b,w.headers=o,w.body=y.uploadData(),w.errorHandler=LI(e),w}class IM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ns.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ns.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ns.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw $o("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $o("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $o("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $o("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $o("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SM extends IM{initXhr(){this.xhr_.responseType="text"}}function MI(){return new SM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this._service=e,n instanceof Wt?this._location=n:this._location=Wt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zs(e,n)}get root(){const e=new Wt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PI(this._location.path)}get storage(){return this._service}get parent(){const e=uM(this._location.path);if(e===null)return null;const n=new Wt(this._location.bucket,e);return new zs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zL(e)}}function NM(t,e,n){t._throwIfRoot("uploadBytes");const r=EM(t.storage,t._location,jI(),new kr(e,!0),n);return t.storage.makeRequestWithTokens(r,MI).then(s=>({metadata:s,ref:t}))}function AM(t){t._throwIfRoot("getDownloadURL");const e=_M(t.storage,t._location,jI());return t.storage.makeRequestWithTokens(e,MI).then(n=>{if(n===null)throw UL();return n})}function kM(t,e){const n=dM(t._location.path,e),r=new Wt(t._location.bucket,n);return new zs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){return/^[A-Za-z]+:\/\//.test(t)}function PM(t,e){return new zs(t,e)}function OI(t,e){if(t instanceof zg){const n=t;if(n._bucket==null)throw OL();const r=new zs(n,n._bucket);return e!=null?OI(r,e):r}else return e!==void 0?kM(t,e):t}function jM(t,e){if(e&&CM(e)){if(t instanceof zg)return PM(t,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return OI(t,e)}function uw(t,e){const n=e==null?void 0:e[EI];return n==null?null:Wt.makeFromBucketSpec(n,t)}function RM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:cT(s,t.app.options.projectId))}class zg{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=TI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NL,this._maxUploadRetryTime=AL,this._requests=new Set,s!=null?this._bucket=Wt.makeFromBucketSpec(s,this._host):this._bucket=uw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wt.makeFromBucketSpec(this._url,e):this._bucket=uw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zs(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new $L(II());{const o=eM(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const dw="@firebase/storage",hw="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="storage";function UI(t,e,n){return t=Le(t),NM(t,e,n)}function BI(t){return t=Le(t),AM(t)}function zI(t,e){return t=Le(t),jM(t,e)}function DM(t=Kp(),e){t=Le(t);const r=rd(t,FI).getImmediate({identifier:e}),s=oT("storage");return s&&VM(r,...s),r}function VM(t,e,n,r={}){RM(t,e,n,r)}function LM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new zg(n,r,s,e,qs)}function MM(){Ls(new Gr(FI,LM,"PUBLIC").setMultipleInstances(!0)),An(dw,hw,""),An(dw,hw,"esm2017")}MM();const OM={apiKey:"AIzaSyDxHpDLydjUJz47oTbia028hM3nTOjImF8",authDomain:"jazbaa-4-0.firebaseapp.com",projectId:"jazbaa-4-0",storageBucket:"jazbaa-4-0.firebasestorage.app",messagingSenderId:"904553931845",appId:"1:904553931845:web:8a0532c0359ac2e5b8af2c"},$g=hT(OM),Dt=TD($g),Z=cL($g),Wg=DM($g),FM=Object.freeze(Object.defineProperty({__proto__:null,auth:Dt,db:Z,storage:Wg},Symbol.toStringTag,{value:"Module"})),$I=C.createContext(void 0),Yt=()=>{const t=C.useContext($I);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},UM=({children:t})=>{const[e,n]=C.useState(null),[r,s]=C.useState(!0);C.useEffect(()=>hR(Dt,async h=>{if(h)try{const f=await Mn(We(Z,"users",h.uid));f.exists()?n({uid:h.uid,email:h.email,...f.data()}):(console.error("User data not found in Firestore"),n(null))}catch(f){console.error("Error fetching user data:",f),n(null)}else n(null);s(!1)}),[]);const c={currentUser:e,loading:r,login:async(d,h)=>{await tg(Dt,d,h)},register:async(d,h,f,p,y)=>{const{user:b}=await Ha(Dt,d,h),_={uid:b.uid,email:b.email,role:f,...p&&{collegeId:p},...y&&{investorId:y}};await Kt(We(Z,"users",b.uid),_)},logout:async()=>{await _u(Dt)}};return a.jsx($I.Provider,{value:c,children:t})},Hg=C.createContext({});function qg(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const Kg=typeof window<"u",WI=Kg?C.useLayoutEffect:C.useEffect,Sd=C.createContext(null);function Gg(t,e){t.indexOf(e)===-1&&t.push(e)}function Qg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dr=(t,e,n)=>n>e?e:n<t?t:n;let ju=()=>{};const hr={},HI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qI(t){return typeof t=="object"&&t!==null}const KI=t=>/^0[^.\s]+$/u.test(t);function Yg(t){let e;return()=>(e===void 0&&(e=t()),e)}const on=t=>t,BM=(t,e)=>n=>e(t(n)),bl=(...t)=>t.reduce(BM),Xa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Xg{constructor(){this.subscriptions=[]}add(e){return Gg(this.subscriptions,e),()=>Qg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rn=t=>t*1e3,Dn=t=>t/1e3;function GI(t,e){return e?t*(1e3/e):0}const QI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zM=1e-7,$M=12;function WM(t,e,n,r,s){let i,o,l=0;do o=e+(n-e)/2,i=QI(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>zM&&++l<$M);return o}function Tl(t,e,n,r){if(t===e&&n===r)return on;const s=i=>WM(i,0,1,t,n);return i=>i===0||i===1?i:QI(s(i),e,r)}const YI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XI=t=>e=>1-t(1-e),JI=Tl(.33,1.53,.69,.99),Jg=XI(JI),ZI=YI(Jg),eS=t=>(t*=2)<1?.5*Jg(t):.5*(2-Math.pow(2,-10*(t-1))),Zg=t=>1-Math.sin(Math.acos(t)),tS=XI(Zg),nS=YI(Zg),HM=Tl(.42,0,1,1),qM=Tl(0,0,.58,1),rS=Tl(.42,0,.58,1),KM=t=>Array.isArray(t)&&typeof t[0]!="number",sS=t=>Array.isArray(t)&&typeof t[0]=="number",fw={linear:on,easeIn:HM,easeInOut:rS,easeOut:qM,circIn:Zg,circInOut:nS,circOut:tS,backIn:Jg,backInOut:ZI,backOut:JI,anticipate:eS},GM=t=>typeof t=="string",mw=t=>{if(sS(t)){ju(t.length===4);const[e,n,r,s]=t;return Tl(e,n,r,s)}else if(GM(t))return ju(fw[t]!==void 0),fw[t];return t},mc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],pw={value:null,addProjectionMetrics:null};function QM(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function d(f){o.has(f)&&(h.schedule(f),t()),c++,f(l)}const h={schedule:(f,p=!1,y=!1)=>{const _=y&&s?n:r;return p&&o.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),e&&pw.value&&pw.value.frameloop[e].push(c),c=0,n.clear(),s=!1,i&&(i=!1,h.process(f))}};return h}const YM=40;function iS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=mc.reduce((x,P)=>(x[P]=QM(i,e?P:void 0),x),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:f,preRender:p,render:y,postRender:b}=o,_=()=>{const x=hr.useManualTiming?s.timestamp:performance.now();n=!1,hr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,YM),1)),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),h.process(s),f.process(s),p.process(s),y.process(s),b.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(_))},A=()=>{n=!0,r=!0,s.isProcessing||t(_)};return{schedule:mc.reduce((x,P)=>{const V=o[P];return x[P]=(L,S=!1,v=!1)=>(n||A(),V.schedule(L,S,v)),x},{}),cancel:x=>{for(let P=0;P<mc.length;P++)o[mc[P]].cancel(x)},state:s,steps:o}}const{schedule:Se,cancel:Jr,state:st,steps:Uh}=iS(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let Uc;function XM(){Uc=void 0}const Lt={now:()=>(Uc===void 0&&Lt.set(st.isProcessing||hr.useManualTiming?st.timestamp:performance.now()),Uc),set:t=>{Uc=t,queueMicrotask(XM)}},oS=t=>e=>typeof e=="string"&&e.startsWith(t),ey=oS("--"),JM=oS("var(--"),ty=t=>JM(t)?ZM.test(t.split("/*")[0].trim()):!1,ZM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ja={...yo,transform:t=>dr(0,1,t)},pc={...yo,default:1},va=t=>Math.round(t*1e5)/1e5,ny=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eO(t){return t==null}const tO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ry=(t,e)=>n=>!!(typeof n=="string"&&tO.test(n)&&n.startsWith(t)||e&&!eO(n)&&Object.prototype.hasOwnProperty.call(n,e)),aS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(ny);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},nO=t=>dr(0,255,t),Bh={...yo,transform:t=>Math.round(nO(t))},bs={test:ry("rgb","red"),parse:aS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bh.transform(t)+", "+Bh.transform(e)+", "+Bh.transform(n)+", "+va(Ja.transform(r))+")"};function rO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Em={test:ry("#"),parse:rO,transform:bs.transform},El=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wr=El("deg"),Vn=El("%"),ee=El("px"),sO=El("vh"),iO=El("vw"),gw={...Vn,parse:t=>Vn.parse(t)/100,transform:t=>Vn.transform(t*100)},bi={test:ry("hsl","hue"),parse:aS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Vn.transform(va(e))+", "+Vn.transform(va(n))+", "+va(Ja.transform(r))+")"},qe={test:t=>bs.test(t)||Em.test(t)||bi.test(t),parse:t=>bs.test(t)?bs.parse(t):bi.test(t)?bi.parse(t):Em.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?bs.transform(t):bi.transform(t),getAnimatableNone:t=>{const e=qe.parse(t);return e.alpha=0,qe.transform(e)}},oO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ny))==null?void 0:e.length)||0)+(((n=t.match(oO))==null?void 0:n.length)||0)>0}const lS="number",cS="color",lO="var",cO="var(",yw="${}",uO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(uO,c=>(qe.test(c)?(r.color.push(i),s.push(cS),n.push(qe.parse(c))):c.startsWith(cO)?(r.var.push(i),s.push(lO),n.push(c)):(r.number.push(i),s.push(lS),n.push(parseFloat(c))),++i,yw)).split(yw);return{values:n,split:l,indexes:r,types:s}}function uS(t){return Za(t).values}function dS(t){const{split:e,types:n}=Za(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===lS?i+=va(s[o]):l===cS?i+=qe.transform(s[o]):i+=s[o]}return i}}const dO=t=>typeof t=="number"?0:qe.test(t)?qe.getAnimatableNone(t):t;function hO(t){const e=uS(t);return dS(t)(e.map(dO))}const Zr={test:aO,parse:uS,createTransformer:dS,getAnimatableNone:hO};function zh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=zh(c,l,t+1/3),i=zh(c,l,t),o=zh(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ru(t,e){return n=>n>0?e:t}const Ae=(t,e,n)=>t+(e-t)*n,$h=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},mO=[Em,bs,bi],pO=t=>mO.find(e=>e.test(t));function vw(t){const e=pO(t);if(!e)return!1;let n=e.parse(t);return e===bi&&(n=fO(n)),n}const xw=(t,e)=>{const n=vw(t),r=vw(e);if(!n||!r)return Ru(t,e);const s={...n};return i=>(s.red=$h(n.red,r.red,i),s.green=$h(n.green,r.green,i),s.blue=$h(n.blue,r.blue,i),s.alpha=Ae(n.alpha,r.alpha,i),bs.transform(s))},Im=new Set(["none","hidden"]);function gO(t,e){return Im.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function yO(t,e){return n=>Ae(t,e,n)}function sy(t){return typeof t=="number"?yO:typeof t=="string"?ty(t)?Ru:qe.test(t)?xw:wO:Array.isArray(t)?hS:typeof t=="object"?qe.test(t)?xw:vO:Ru}function hS(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>sy(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function vO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=sy(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function xO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],l=t.values[o]??0;n[s]=l,r[i]++}return n}const wO=(t,e)=>{const n=Zr.createTransformer(e),r=Za(t),s=Za(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Im.has(t)&&!s.values.length||Im.has(e)&&!r.values.length?gO(t,e):bl(hS(xO(r,s),s.values),n):Ru(t,e)};function fS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ae(t,e,n):sy(t)(t,e)}const _O=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Se.update(e,n),stop:()=>Jr(e),now:()=>st.isProcessing?st.timestamp:Lt.now()}},mS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Du=2e4;function iy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Du;)e+=n,r=t.next(e);return e>=Du?1/0:e}function bO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(iy(r),Du);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Dn(s)}}const TO=5;function pS(t,e,n){const r=Math.max(e-TO,0);return GI(n-t(r),e-r)}const Re={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wh=.001;function EO({duration:t=Re.duration,bounce:e=Re.bounce,velocity:n=Re.velocity,mass:r=Re.mass}){let s,i,o=1-e;o=dr(Re.minDamping,Re.maxDamping,o),t=dr(Re.minDuration,Re.maxDuration,Dn(t)),o<1?(s=d=>{const h=d*o,f=h*t,p=h-n,y=Sm(d,o),b=Math.exp(-f);return Wh-p/y*b},i=d=>{const f=d*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-f),_=Sm(Math.pow(d,2),o);return(-s(d)+Wh>0?-1:1)*((p-y)*b)/_}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-Wh+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const l=5/t,c=SO(s,i,l);if(t=Rn(t),isNaN(c))return{stiffness:Re.stiffness,damping:Re.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const IO=12;function SO(t,e,n){let r=n;for(let s=1;s<IO;s++)r=r-t(r)/e(r);return r}function Sm(t,e){return t*Math.sqrt(1-e*e)}const NO=["duration","bounce"],AO=["stiffness","damping","mass"];function ww(t,e){return e.some(n=>t[n]!==void 0)}function kO(t){let e={velocity:Re.velocity,stiffness:Re.stiffness,damping:Re.damping,mass:Re.mass,isResolvedFromDuration:!1,...t};if(!ww(t,AO)&&ww(t,NO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*dr(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Re.mass,stiffness:s,damping:i}}else{const n=EO(t);e={...e,...n,mass:Re.mass},e.isResolvedFromDuration=!0}return e}function Vu(t=Re.visualDuration,e=Re.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=kO({...n,velocity:-Dn(n.velocity||0)}),b=p||0,_=d/(2*Math.sqrt(c*h)),A=o-i,T=Dn(Math.sqrt(c/h)),w=Math.abs(A)<5;r||(r=w?Re.restSpeed.granular:Re.restSpeed.default),s||(s=w?Re.restDelta.granular:Re.restDelta.default);let x;if(_<1){const V=Sm(T,_);x=L=>{const S=Math.exp(-_*T*L);return o-S*((b+_*T*A)/V*Math.sin(V*L)+A*Math.cos(V*L))}}else if(_===1)x=V=>o-Math.exp(-T*V)*(A+(b+T*A)*V);else{const V=T*Math.sqrt(_*_-1);x=L=>{const S=Math.exp(-_*T*L),v=Math.min(V*L,300);return o-S*((b+_*T*A)*Math.sinh(v)+V*A*Math.cosh(v))/V}}const P={calculatedDuration:y&&f||null,next:V=>{const L=x(V);if(y)l.done=V>=f;else{let S=V===0?b:0;_<1&&(S=V===0?Rn(b):pS(x,V,L));const v=Math.abs(S)<=r,E=Math.abs(o-L)<=s;l.done=v&&E}return l.value=l.done?o:L,l},toString:()=>{const V=Math.min(iy(P),Du),L=mS(S=>P.next(V*S).value,V,30);return V+"ms "+L},toTransition:()=>{}};return P}Vu.applyToOptions=t=>{const e=bO(t,100,Vu);return t.ease=e.ease,t.duration=Rn(e.duration),t.type="keyframes",t};function Nm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=v=>l!==void 0&&v<l||c!==void 0&&v>c,b=v=>l===void 0?c:c===void 0||Math.abs(l-v)<Math.abs(c-v)?l:c;let _=n*e;const A=f+_,T=o===void 0?A:o(A);T!==A&&(_=T-f);const w=v=>-_*Math.exp(-v/r),x=v=>T+w(v),P=v=>{const E=w(v),N=x(v);p.done=Math.abs(E)<=d,p.value=p.done?T:N};let V,L;const S=v=>{y(p.value)&&(V=v,L=Vu({keyframes:[p.value,b(p.value)],velocity:pS(x,v,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return S(0),{calculatedDuration:null,next:v=>{let E=!1;return!L&&V===void 0&&(E=!0,P(v),S(v)),V!==void 0&&v>=V?L.next(v-V):(!E&&P(v),p)}}}function CO(t,e,n){const r=[],s=n||hr.mix||fS,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||on:e;l=bl(c,l)}r.push(l)}return r}function PO(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(ju(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=CO(e,r,s),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=Xa(t[f],t[f+1],h);return l[f](p)};return n?h=>d(dr(t[0],t[i-1],h)):d}function jO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Xa(0,e,r);t.push(Ae(n,1,s))}}function RO(t){const e=[0];return jO(e,t.length-1),e}function DO(t,e){return t.map(n=>n*e)}function VO(t,e){return t.map(()=>e||rS).splice(0,t.length-1)}function xa({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=KM(r)?r.map(mw):mw(r),i={done:!1,value:e[0]},o=DO(n&&n.length===e.length?n:RO(e),t),l=PO(o,e,{ease:Array.isArray(s)?s:VO(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const LO=t=>t!==null;function oy(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(LO),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const MO={decay:Nm,inertia:Nm,tween:xa,keyframes:xa,spring:Vu};function gS(t){typeof t.type=="string"&&(t.type=MO[t.type])}class ay{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const OO=t=>t/100;class ly extends ay{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Lt.now()&&this.tick(Lt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;gS(e);const{type:n=xa,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||xa;c!==xa&&typeof l[0]!="number"&&(this.mixKeyframes=bl(OO,fS(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=iy(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:b,onUpdate:_,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?T<0:T>s;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,P=r;if(f){const v=Math.min(this.currentTime,s)/l;let E=Math.floor(v),N=v%1;!N&&v>=1&&(N=1),N===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(p==="reverse"?(N=1-N,y&&(N-=y/l)):p==="mirror"&&(P=o)),x=dr(0,1,N)*l}const V=w?{done:!1,value:h[0]}:P.next(x);i&&(V.value=i(V.value));let{done:L}=V;!w&&c!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return S&&b!==Nm&&(V.value=oy(h,this.options,A,this.speed)),_&&_(V.value),S&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return Dn(this.calculatedDuration)}get time(){return Dn(this.currentTime)}set time(e){var n;e=Rn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Dn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=_O,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function FO(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ts=t=>t*180/Math.PI,Am=t=>{const e=Ts(Math.atan2(t[1],t[0]));return km(e)},UO={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Am,rotateZ:Am,skewX:t=>Ts(Math.atan(t[1])),skewY:t=>Ts(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},km=t=>(t=t%360,t<0&&(t+=360),t),_w=Am,bw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Tw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bw,scaleY:Tw,scale:t=>(bw(t)+Tw(t))/2,rotateX:t=>km(Ts(Math.atan2(t[6],t[5]))),rotateY:t=>km(Ts(Math.atan2(-t[2],t[0]))),rotateZ:_w,rotate:_w,skewX:t=>Ts(Math.atan(t[4])),skewY:t=>Ts(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Cm(t){return t.includes("scale")?1:0}function Pm(t,e){if(!t||t==="none")return Cm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=BO,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=UO,s=l}if(!s)return Cm(e);const i=r[e],o=s[1].split(",").map($O);return typeof i=="function"?i(o):o[i]}const zO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Pm(n,e)};function $O(t){return parseFloat(t.trim())}const vo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xo=new Set(vo),Ew=t=>t===yo||t===ee,WO=new Set(["x","y","z"]),HO=vo.filter(t=>!WO.has(t));function qO(t){const e=[];return HO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const As={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Pm(e,"x"),y:(t,{transform:e})=>Pm(e,"y")};As.translateX=As.x;As.translateY=As.y;const ks=new Set;let jm=!1,Rm=!1,Dm=!1;function yS(){if(Rm){const t=Array.from(ks).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=qO(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rm=!1,jm=!1,ks.forEach(t=>t.complete(Dm)),ks.clear()}function vS(){ks.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rm=!0)})}function KO(){Dm=!0,vS(),yS(),Dm=!1}class cy{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ks.add(this),jm||(jm=!0,Se.read(vS),Se.resolveKeyframes(yS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}FO(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ks.delete(this)}cancel(){this.state==="scheduled"&&(ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const GO=t=>t.startsWith("--");function QO(t,e,n){GO(e)?t.style.setProperty(e,n):t.style[e]=n}const YO=Yg(()=>window.ScrollTimeline!==void 0),XO={};function JO(t,e){const n=Yg(t);return()=>XO[e]??n()}const xS=JO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ta=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ta([0,.65,.55,1]),circOut:ta([.55,0,1,.45]),backIn:ta([.31,.01,.66,-.59]),backOut:ta([.33,1.53,.69,.99])};function wS(t,e){if(t)return typeof t=="function"?xS()?mS(t,e):"ease-out":sS(t)?ta(t):Array.isArray(t)?t.map(n=>wS(n,e)||Iw.easeOut):Iw[t]}function ZO(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:n};c&&(h.offset=c);const f=wS(l,s);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(h,p)}function _S(t){return typeof t=="function"&&"applyToOptions"in t}function e6({type:t,...e}){return _S(t)&&xS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t6 extends ay{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,ju(typeof e.type!="string");const d=e6(e);this.animation=ZO(n,r,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=oy(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):QO(n,r,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Dn(Number(e))}get time(){return Dn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Rn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&YO()?(this.animation.timeline=e,on):n(this)}}const bS={anticipate:eS,backInOut:ZI,circInOut:nS};function n6(t){return t in bS}function r6(t){typeof t.ease=="string"&&n6(t.ease)&&(t.ease=bS[t.ease])}const Sw=10;class s6 extends t6{constructor(e){r6(e),gS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new ly({...o,autoplay:!1}),c=Rn(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-Sw).value,l.sample(c).value,Sw),l.stop()}}const Nw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zr.test(t)||t==="0")&&!t.startsWith("url("));function i6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o6(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=Nw(s,e),l=Nw(i,e);return!o||!l?!1:i6(t)||(n==="spring"||_S(n))&&r}function Vm(t){t.duration=0,t.type}const a6=new Set(["opacity","clipPath","filter","transform"]),l6=Yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c6(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return l6()&&n&&a6.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const u6=40;class d6 extends ay{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...f}){var b;super(),this.stop=()=>{var _,A;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Lt.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||cy;this.keyframeResolver=new y(l,(_,A,T)=>this.onKeyframesResolved(_,A,p,!T),c,d,h),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=r;this.resolvedAt=Lt.now(),o6(e,i,o,l)||((hr.instantAnimations||!c)&&(h==null||h(oy(e,r,n))),e[0]=e[e.length-1],Vm(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>u6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&c6(p)?new s6({...p,element:p.motionValue.owner.current}):new ly(p);y.finished.then(()=>this.notifyFinished()).catch(on),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),KO()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const h6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f6(t){const e=h6.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function TS(t,e,n=1){const[r,s]=f6(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return HI(o)?parseFloat(o):o}return ty(s)?TS(s,e,n+1):s}function uy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const ES=new Set(["width","height","top","left","right","bottom",...vo]),m6={test:t=>t==="auto",parse:t=>t},IS=t=>e=>e.test(t),SS=[yo,ee,Vn,wr,iO,sO,m6],Aw=t=>SS.find(IS(t));function p6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KI(t):!0}const g6=new Set(["brightness","contrast","saturate","opacity"]);function y6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ny)||[];if(!r)return t;const s=n.replace(r,"");let i=g6.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const v6=/\b([a-z-]*)\(.*?\)/gu,Lm={...Zr,getAnimatableNone:t=>{const e=t.match(v6);return e?e.map(y6).join(" "):t}},kw={...yo,transform:Math.round},x6={rotate:wr,rotateX:wr,rotateY:wr,rotateZ:wr,scale:pc,scaleX:pc,scaleY:pc,scaleZ:pc,skew:wr,skewX:wr,skewY:wr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Ja,originX:gw,originY:gw,originZ:ee},dy={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee,...x6,zIndex:kw,fillOpacity:Ja,strokeOpacity:Ja,numOctaves:kw},w6={...dy,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:Lm,WebkitFilter:Lm},NS=t=>w6[t];function AS(t,e){let n=NS(t);return n!==Lm&&(n=Zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _6=new Set(["auto","none","0"]);function b6(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!_6.has(i)&&Za(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=AS(n,s)}class T6 extends cy{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),ty(d))){const h=TS(d,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!ES.has(r)||e.length!==2)return;const[s,i]=e,o=Aw(s),l=Aw(i);if(o!==l)if(Ew(o)&&Ew(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else As[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||p6(e[s]))&&r.push(s);r.length&&b6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=As[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=As[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function E6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const kS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function CS(t){return qI(t)&&"offsetHeight"in t}const Cw=30,I6=t=>!isNaN(parseFloat(t));class S6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Lt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=I6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Xg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cw);return GI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function to(t,e){return new S6(t,e)}const{schedule:hy,cancel:U5}=iS(queueMicrotask,!1),dn={x:!1,y:!1};function PS(){return dn.x||dn.y}function N6(t){return t==="x"||t==="y"?dn[t]?null:(dn[t]=!0,()=>{dn[t]=!1}):dn.x||dn.y?null:(dn.x=dn.y=!0,()=>{dn.x=dn.y=!1})}function jS(t,e){const n=E6(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Pw(t){return!(t.pointerType==="touch"||PS())}function A6(t,e,n={}){const[r,s,i]=jS(t,n),o=l=>{if(!Pw(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=f=>{Pw(f)&&(d(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const RS=(t,e)=>e?t===e?!0:RS(t,e.parentElement):!1,fy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,k6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C6(t){return k6.has(t.tagName)||t.tabIndex!==-1}const Bc=new WeakSet;function jw(t){return e=>{e.key==="Enter"&&t(e)}}function Hh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const P6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jw(()=>{if(Bc.has(n))return;Hh(n,"down");const s=jw(()=>{Hh(n,"up")}),i=()=>Hh(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Rw(t){return fy(t)&&!PS()}function j6(t,e,n={}){const[r,s,i]=jS(t,n),o=l=>{const c=l.currentTarget;if(!Rw(l))return;Bc.add(c);const d=e(c,l),h=(y,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Bc.has(c)&&Bc.delete(c),Rw(y)&&typeof d=="function"&&d(y,{success:b})},f=y=>{h(y,c===window||c===document||n.useGlobalTarget||RS(c,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),CS(l)&&(l.addEventListener("focus",d=>P6(d,s)),!C6(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function DS(t){return qI(t)&&"ownerSVGElement"in t}function R6(t){return DS(t)&&t.tagName==="svg"}const wt=t=>!!(t&&t.getVelocity),D6=[...SS,qe,Zr],V6=t=>D6.find(IS(t)),my=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class L6 extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=CS(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function M6({children:t,isPresent:e,anchorX:n,root:r}){const s=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=C.useContext(my);return C.useInsertionEffect(()=>{const{width:c,height:d,top:h,left:f,right:p}=o.current;if(e||!i.current||!c||!d)return;const y=n==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=s;const b=document.createElement("style");l&&(b.nonce=l);const _=r??document.head;return _.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{_.contains(b)&&_.removeChild(b)}},[e]),a.jsx(L6,{isPresent:e,childRef:i,sizeRef:o,children:C.cloneElement(t,{ref:i})})}const O6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=qg(F6),h=C.useId();let f=!0,p=C.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:y=>{d.set(y,!0);for(const b of d.values())if(!b)return;r&&r()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,r]);return i&&f&&(p={...p}),C.useMemo(()=>{d.forEach((y,b)=>d.set(b,!1))},[n]),C.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=a.jsx(M6,{isPresent:n,anchorX:l,root:c,children:t})),a.jsx(Sd.Provider,{value:p,children:t})};function F6(){return new Map}function VS(t=!0){const e=C.useContext(Sd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=C.useId();C.useEffect(()=>{if(t)return s(i)},[t]);const o=C.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const gc=t=>t.key||"";function Dw(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const LS=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=VS(o),f=C.useMemo(()=>Dw(t),[t]),p=o&&!d?[]:f.map(gc),y=C.useRef(!0),b=C.useRef(f),_=qg(()=>new Map),[A,T]=C.useState(f),[w,x]=C.useState(f);WI(()=>{y.current=!1,b.current=f;for(let L=0;L<w.length;L++){const S=gc(w[L]);p.includes(S)?_.delete(S):_.get(S)!==!0&&_.set(S,!1)}},[w,p.length,p.join("-")]);const P=[];if(f!==A){let L=[...f];for(let S=0;S<w.length;S++){const v=w[S],E=gc(v);p.includes(E)||(L.splice(S,0,v),P.push(v))}return i==="wait"&&P.length&&(L=P),x(Dw(L)),T(f),null}const{forceRender:V}=C.useContext(Hg);return a.jsx(a.Fragment,{children:w.map(L=>{const S=gc(L),v=o&&!d?!1:f===w||p.includes(S),E=()=>{if(_.has(S))_.set(S,!0);else return;let N=!0;_.forEach(j=>{j||(N=!1)}),N&&(V==null||V(),x(b.current),o&&(h==null||h()),r&&r())};return a.jsx(O6,{isPresent:v,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:v?void 0:E,anchorX:l,children:L},S)})})},MS=C.createContext({strict:!1}),Vw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},no={};for(const t in Vw)no[t]={isEnabled:e=>Vw[t].some(n=>!!e[n])};function U6(t){for(const e in t)no[e]={...no[e],...t[e]}}const B6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||B6.has(t)}let OS=t=>!Lu(t);function z6(t){typeof t=="function"&&(OS=e=>e.startsWith("on")?!Lu(e):t(e))}try{z6(require("@emotion/is-prop-valid").default)}catch{}function $6(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(OS(s)||n===!0&&Lu(s)||!e&&!Lu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Nd=C.createContext({});function Ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function el(t){return typeof t=="string"||Array.isArray(t)}const py=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gy=["initial",...py];function kd(t){return Ad(t.animate)||gy.some(e=>el(t[e]))}function FS(t){return!!(kd(t)||t.variants)}function W6(t,e){if(kd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||el(n)?n:void 0,animate:el(r)?r:void 0}}return t.inherit!==!1?e:{}}function H6(t){const{initial:e,animate:n}=W6(t,C.useContext(Nd));return C.useMemo(()=>({initial:e,animate:n}),[Lw(e),Lw(n)])}function Lw(t){return Array.isArray(t)?t.join(" "):t}const tl={};function q6(t){for(const e in t)tl[e]=t[e],ey(e)&&(tl[e].isCSSVariable=!0)}function US(t,{layout:e,layoutId:n}){return xo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tl[t]||t==="opacity")}const K6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G6=vo.length;function Q6(t,e,n){let r="",s=!0;for(let i=0;i<G6;i++){const o=vo[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=kS(l,dy[o]);if(!c){s=!1;const h=K6[o]||o;r+=`${h}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function yy(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(xo.has(c)){o=!0;continue}else if(ey(c)){s[c]=d;continue}else{const h=kS(d,dy[c]);c.startsWith("origin")?(l=!0,i[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=Q6(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${d} ${h}`}}const vy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BS(t,e,n){for(const r in e)!wt(e[r])&&!US(r,n)&&(t[r]=e[r])}function Y6({transformTemplate:t},e){return C.useMemo(()=>{const n=vy();return yy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function X6(t,e){const n=t.style||{},r={};return BS(r,n,t),Object.assign(r,Y6(t,e)),r}function J6(t,e){const n={},r=X6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Z6={offset:"stroke-dashoffset",array:"stroke-dasharray"},e3={offset:"strokeDashoffset",array:"strokeDasharray"};function t3(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?Z6:e3;t[i.offset]=ee.transform(-r);const o=ee.transform(e),l=ee.transform(n);t[i.array]=`${o} ${l}`}function zS(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(yy(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&t3(f,s,i,o,!1)}const $S=()=>({...vy(),attrs:{}}),WS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function n3(t,e,n,r){const s=C.useMemo(()=>{const i=$S();return zS(i,e,WS(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};BS(i,t.style,t),s.style={...i,...s.style}}return s}const r3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xy(t){return typeof t!="string"||t.includes("-")?!1:!!(r3.indexOf(t)>-1||/[A-Z]/u.test(t))}function s3(t,e,n,{latestValues:r},s,i=!1){const l=(xy(t)?n3:J6)(e,r,s,t),c=$6(e,typeof t=="string",i),d=t!==C.Fragment?{...c,...l,ref:n}:{},{children:h}=e,f=C.useMemo(()=>wt(h)?h.get():h,[h]);return C.createElement(t,{...d,children:f})}function Mw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wy(t,e,n,r){if(typeof e=="function"){const[s,i]=Mw(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Mw(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function zc(t){return wt(t)?t.get():t}function i3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:o3(n,r,s,t),renderState:e()}}function o3(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=zc(i[p]);let{initial:o,animate:l}=t;const c=kd(t),d=FS(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?l:o;if(f&&typeof f!="boolean"&&!Ad(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const b=wy(t,p[y]);if(b){const{transitionEnd:_,transition:A,...T}=b;for(const w in T){let x=T[w];if(Array.isArray(x)){const P=h?x.length-1:0;x=x[P]}x!==null&&(s[w]=x)}for(const w in _)s[w]=_[w]}}}return s}const HS=t=>(e,n)=>{const r=C.useContext(Nd),s=C.useContext(Sd),i=()=>i3(t,e,r,s);return n?i():qg(i)};function _y(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(wt(r[o])||e.style&&wt(e.style[o])||US(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const a3=HS({scrapeMotionValuesFromProps:_y,createRenderState:vy});function qS(t,e,n){const r=_y(t,e,n);for(const s in t)if(wt(t[s])||wt(e[s])){const i=vo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const l3=HS({scrapeMotionValuesFromProps:qS,createRenderState:$S}),c3=Symbol.for("motionComponentSymbol");function Ti(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function u3(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ti(n)&&(n.current=r))},[e])}const by=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),d3="framerAppearId",KS="data-"+by(d3),GS=C.createContext({});function h3(t,e,n,r,s){var _,A;const{visualElement:i}=C.useContext(Nd),o=C.useContext(MS),l=C.useContext(Sd),c=C.useContext(my).reducedMotion,d=C.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,f=C.useContext(GS);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&f3(d.current,n,s,f);const p=C.useRef(!1);C.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const y=n[KS],b=C.useRef(!!y&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,y))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,y)));return WI(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),b.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,y)}),b.current=!1),h.enteringChildren=void 0)}),h}function f3(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QS(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Ti(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:c,layoutRoot:d})}function QS(t){if(t)return t.options.allowProjection!==!1?t.projection:QS(t.parent)}function qh(t,{forwardMotionProps:e=!1}={},n,r){n&&U6(n);const s=xy(t)?l3:a3;function i(l,c){let d;const h={...C.useContext(my),...l,layoutId:m3(l)},{isStatic:f}=h,p=H6(l),y=s(l,f);if(!f&&Kg){p3();const b=g3(h);d=b.MeasureLayout,p.visualElement=h3(t,y,h,r,b.ProjectionNode)}return a.jsxs(Nd.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...h}):null,s3(t,l,u3(y,p.visualElement,c),y,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=C.forwardRef(i);return o[c3]=t,o}function m3({layoutId:t}){const e=C.useContext(Hg).id;return e&&t!==void 0?e+"-"+t:t}function p3(t,e){C.useContext(MS).strict}function g3(t){const{drag:e,layout:n}=no;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function y3(t,e){if(typeof Proxy>"u")return qh;const n=new Map,r=(i,o)=>qh(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,qh(o,void 0,t,e)),n.get(o))})}function YS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function v3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kh(t){return t===void 0||t===1}function Mm({scale:t,scaleX:e,scaleY:n}){return!Kh(t)||!Kh(e)||!Kh(n)}function ys(t){return Mm(t)||XS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XS(t){return Ow(t.x)||Ow(t.y)}function Ow(t){return t&&t!=="0%"}function Mu(t,e,n){const r=t-n,s=e*r;return n+s}function Fw(t,e,n,r,s){return s!==void 0&&(t=Mu(t,s,r)),Mu(t,n,r)+e}function Om(t,e=0,n=1,r,s){t.min=Fw(t.min,e,n,r,s),t.max=Fw(t.max,e,n,r,s)}function JS(t,{x:e,y:n}){Om(t.x,e.translate,e.scale,e.originPoint),Om(t.y,n.translate,n.scale,n.originPoint)}const Uw=.999999999999,Bw=1.0000000000001;function w3(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ii(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,JS(t,o)),r&&ys(i.latestValues)&&Ii(t,i.latestValues))}e.x<Bw&&e.x>Uw&&(e.x=1),e.y<Bw&&e.y>Uw&&(e.y=1)}function Ei(t,e){t.min=t.min+e,t.max=t.max+e}function zw(t,e,n,r,s=.5){const i=Ae(t.min,t.max,s);Om(t,e,n,i,r)}function Ii(t,e){zw(t.x,e.x,e.scaleX,e.scale,e.originX),zw(t.y,e.y,e.scaleY,e.scale,e.originY)}function ZS(t,e){return YS(x3(t.getBoundingClientRect(),e))}function _3(t,e,n){const r=ZS(t,n),{scroll:s}=e;return s&&(Ei(r.x,s.offset.x),Ei(r.y,s.offset.y)),r}const $w=()=>({translate:0,scale:1,origin:0,originPoint:0}),Si=()=>({x:$w(),y:$w()}),Ww=()=>({min:0,max:0}),Ue=()=>({x:Ww(),y:Ww()}),Fm={current:null},eN={current:!1};function b3(){if(eN.current=!0,!!Kg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fm.current=t.matches;t.addEventListener("change",e),e()}else Fm.current=!1}const T3=new WeakMap;function E3(t,e,n){for(const r in e){const s=e[r],i=n[r];if(wt(s))t.addValue(r,s);else if(wt(i))t.addValue(r,to(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,to(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Hw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class I3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Lt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Se.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=kd(n),this.isVariantNode=FS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];c[p]!==void 0&&wt(y)&&y.set(c[p])}}mount(e){var n;this.current=e,T3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),eN.current||b3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Jr(this.notifyUpdate),Jr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xo.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in no){const n=no[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hw.length;r++){const s=Hw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=E3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=to(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(HI(r)||KI(r))?r=parseFloat(r):!V6(r)&&Zr.test(n)&&(r=AS(e,n)),this.setBaseTarget(e,wt(r)?r.get():r)),wt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=wy(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!wt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Xg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){hy.render(this.render)}}class tN extends I3{constructor(){super(...arguments),this.KeyframeResolver=T6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nN(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function S3(t){return window.getComputedStyle(t)}class N3 extends tN{constructor(){super(...arguments),this.type="html",this.renderInstance=nN}readValueFromInstance(e,n){var r;if(xo.has(n))return(r=this.projection)!=null&&r.isProjecting?Cm(n):zO(e,n);{const s=S3(e),i=(ey(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ZS(e,n)}build(e,n,r){yy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return _y(e,n,r)}}const rN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function A3(t,e,n,r){nN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(rN.has(s)?s:by(s),e.attrs[s])}class k3 extends tN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xo.has(n)){const r=NS(n);return r&&r.default||0}return n=rN.has(n)?n:by(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return qS(e,n,r)}build(e,n,r){zS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){A3(e,n,r,s)}mount(e){this.isSVGTag=WS(e.tagName),super.mount(e)}}const C3=(t,e)=>xy(t)?new k3(e):new N3(e,{allowProjection:t!==C.Fragment});function Mi(t,e,n){const r=t.getProps();return wy(r,e,n!==void 0?n:r.custom,t)}const Um=t=>Array.isArray(t);function P3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,to(n))}function j3(t){return Um(t)?t[t.length-1]||0:t}function R3(t,e){const n=Mi(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=j3(i[o]);P3(t,o,l)}}function D3(t){return!!(wt(t)&&t.add)}function Bm(t,e){const n=t.getValue("willChange");if(D3(n))return n.add(e);if(!n&&hr.WillChange){const r=new hr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function sN(t){return t.props[KS]}const V3=t=>t!==null;function L3(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(V3),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const M3={type:"spring",stiffness:500,damping:25,restSpeed:10},O3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F3={type:"keyframes",duration:.8},U3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},B3=(t,{keyframes:e})=>e.length>2?F3:xo.has(t)?t.startsWith("scale")?O3(e[1]):M3:U3;function z3({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const Ty=(t,e,n,r={},s,i)=>o=>{const l=uy(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Rn(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};z3(l)||Object.assign(h,B3(t,h)),h.duration&&(h.duration=Rn(h.duration)),h.repeatDelay&&(h.repeatDelay=Rn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Vm(h),h.delay===0&&(f=!0)),(hr.instantAnimations||hr.skipAnimations)&&(f=!0,Vm(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const p=L3(h.keyframes,l);if(p!==void 0){Se.update(()=>{h.onUpdate(p),h.onComplete()});return}}return l.isSync?new ly(h):new d6(h)};function $3({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function iN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const f=t.getValue(h,t.latestValues[h]??null),p=l[h];if(p===void 0||d&&$3(d,h))continue;const y={delay:n,...uy(i||{},h)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===b&&!y.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const T=sN(t);if(T){const w=window.MotionHandoffAnimation(T,h,Se);w!==null&&(y.startTime=w,_=!0)}}Bm(t,h),f.start(Ty(h,f,p,t.shouldReduceMotion&&ES.has(h)?{type:!1}:y,t,_));const A=f.animation;A&&c.push(A)}return o&&Promise.all(c).then(()=>{Se.update(()=>{o&&R3(t,o)})}),c}function oN(t,e,n,r=0,s=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:l-i*r}function zm(t,e,n={}){var c;const r=Mi(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(iN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=s;return W3(t,e,d,h,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function W3(t,e,n=0,r=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(zm(c,e,{...o,delay:n+(typeof r=="function"?0:r)+oN(t.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function H3(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>zm(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=zm(t,e,n);else{const s=typeof e=="function"?Mi(t,e,n.custom):e;r=Promise.all(iN(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function aN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const q3=gy.length;function lN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<q3;n++){const r=gy[n],s=t.props[r];(el(s)||s===!1)&&(e[r]=s)}return e}const K3=[...py].reverse(),G3=py.length;function Q3(t){return e=>Promise.all(e.map(({animation:n,options:r})=>H3(t,n,r)))}function Y3(t){let e=Q3(t),n=qw(),r=!0;const s=c=>(d,h)=>{var p;const f=Mi(t,h,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:b,..._}=f;d={...d,..._,...b}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=lN(t.parent)||{},f=[],p=new Set;let y={},b=1/0;for(let A=0;A<G3;A++){const T=K3[A],w=n[T],x=d[T]!==void 0?d[T]:h[T],P=el(x),V=T===c?w.isActive:null;V===!1&&(b=A);let L=x===h[T]&&x!==d[T]&&P;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),w.protectedKeys={...y},!w.isActive&&V===null||!x&&!w.prevProp||Ad(x)||typeof x=="boolean")continue;const S=X3(w.prevProp,x);let v=S||T===c&&w.isActive&&!L&&P||A>b&&P,E=!1;const N=Array.isArray(x)?x:[x];let j=N.reduce(s(T),{});V===!1&&(j={});const{prevResolvedValues:R={}}=w,k={...R,...j},oe=Q=>{v=!0,p.has(Q)&&(E=!0,p.delete(Q)),w.needsAnimating[Q]=!0;const U=t.getValue(Q);U&&(U.liveStyle=!1)};for(const Q in k){const U=j[Q],K=R[Q];if(y.hasOwnProperty(Q))continue;let Y=!1;Um(U)&&Um(K)?Y=!aN(U,K):Y=U!==K,Y?U!=null?oe(Q):p.add(Q):U!==void 0&&p.has(Q)?oe(Q):w.protectedKeys[Q]=!0}w.prevProp=x,w.prevResolvedValues=j,w.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&(v=!1);const O=L&&S;v&&(!O||E)&&f.push(...N.map(Q=>{const U={type:T};if(typeof Q=="string"&&r&&!O&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,Y=Mi(K,Q);if(K.enteringChildren&&Y){const{delayChildren:le}=Y.transition||{};U.delay=oN(K.enteringChildren,t,le)}}return{animation:Q,options:U}}))}if(p.size){const A={};if(typeof d.initial!="boolean"){const T=Mi(t,Array.isArray(d.initial)?d.initial[0]:d.initial);T&&T.transition&&(A.transition=T.transition)}p.forEach(T=>{const w=t.getBaseTarget(T),x=t.getValue(T);x&&(x.liveStyle=!0),A[T]=w??null}),f.push({animation:A})}let _=!!f.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(f):Promise.resolve()}function l(c,d){var f;if(n[c].isActive===d)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(c,d)}),n[c].isActive=d;const h=o(c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=qw(),r=!0}}}function X3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aN(e,t):!1}function fs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qw(){return{animate:fs(!0),whileInView:fs(),whileHover:fs(),whileTap:fs(),whileDrag:fs(),whileFocus:fs(),exit:fs()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class J3 extends as{constructor(e){super(e),e.animationState||(e.animationState=Y3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ad(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Z3=0;class e8 extends as{constructor(){super(...arguments),this.id=Z3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const t8={animation:{Feature:J3},exit:{Feature:e8}};function nl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Il(t){return{point:{x:t.pageX,y:t.pageY}}}const n8=t=>e=>fy(e)&&t(e,Il(e));function wa(t,e,n,r){return nl(t,e,n8(n),r)}const cN=1e-4,r8=1-cN,s8=1+cN,uN=.01,i8=0-uN,o8=0+uN;function Nt(t){return t.max-t.min}function a8(t,e,n){return Math.abs(t-e)<=n}function Kw(t,e,n,r=.5){t.origin=r,t.originPoint=Ae(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Ae(n.min,n.max,t.origin)-t.originPoint,(t.scale>=r8&&t.scale<=s8||isNaN(t.scale))&&(t.scale=1),(t.translate>=i8&&t.translate<=o8||isNaN(t.translate))&&(t.translate=0)}function _a(t,e,n,r){Kw(t.x,e.x,n.x,r?r.originX:void 0),Kw(t.y,e.y,n.y,r?r.originY:void 0)}function Gw(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function l8(t,e,n){Gw(t.x,e.x,n.x),Gw(t.y,e.y,n.y)}function Qw(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function ba(t,e,n){Qw(t.x,e.x,n.x),Qw(t.y,e.y,n.y)}function Zt(t){return[t("x"),t("y")]}const dN=({current:t})=>t?t.ownerDocument.defaultView:null,Yw=(t,e)=>Math.abs(t-e);function c8(t,e){const n=Yw(t.x,e.x),r=Yw(t.y,e.y);return Math.sqrt(n**2+r**2)}class hN{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Qh(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=c8(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:_}=p,{timestamp:A}=st;this.history.push({..._,timestamp:A});const{onStart:T,onMove:w}=this.handlers;y||(T&&T(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Gh(y,this.transformPagePoint),Se.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Qh(p.type==="pointercancel"?this.lastMoveEventInfo:Gh(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,T),_&&_(p,T)},!fy(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Il(e),c=Gh(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=st;this.history=[{...d,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,Qh(c,this.history)),this.removeListeners=bl(wa(this.contextWindow,"pointermove",this.handlePointerMove),wa(this.contextWindow,"pointerup",this.handlePointerUp),wa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Jr(this.updatePoint)}}function Gh(t,e){return e?{point:e(t.point)}:t}function Xw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qh({point:t},e){return{point:t,delta:Xw(t,fN(e)),offset:Xw(t,u8(e)),velocity:d8(e,.1)}}function u8(t){return t[0]}function fN(t){return t[t.length-1]}function d8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=fN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Rn(e)));)n--;if(!r)return{x:0,y:0};const i=Dn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function h8(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ae(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ae(n,t,r.max):Math.min(t,n)),t}function Jw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function f8(t,{top:e,left:n,bottom:r,right:s}){return{x:Jw(t.x,n,s),y:Jw(t.y,e,r)}}function Zw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function m8(t,e){return{x:Zw(t.x,e.x),y:Zw(t.y,e.y)}}function p8(t,e){let n=.5;const r=Nt(t),s=Nt(e);return s>r?n=Xa(e.min,e.max-r,t.min):r>s&&(n=Xa(t.min,t.max-s,e.min)),dr(0,1,n)}function g8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $m=.35;function y8(t=$m){return t===!1?t=0:t===!0&&(t=$m),{x:e_(t,"left","right"),y:e_(t,"top","bottom")}}function e_(t,e,n){return{min:t_(t,e),max:t_(t,n)}}function t_(t,e){return typeof t=="number"?t:t[e]||0}const v8=new WeakMap;class x8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Il(f).point)},o=(f,p)=>{const{drag:y,dragPropagation:b,onDragStart:_}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=N6(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(T=>{let w=this.getAxisMotionValue(T).get()||0;if(Vn.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const P=x.layout.layoutBox[T];P&&(w=Nt(P)*(parseFloat(w)/100))}}this.originPoint[T]=w}),_&&Se.postRender(()=>_(f,p)),Bm(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:_,onDrag:A}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=p;if(b&&this.currentDirection===null){this.currentDirection=w8(T),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",p.point,T),this.updateAxis("y",p.point,T),this.visualElement.render(),A&&A(f,p)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Zt(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new hN(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:dN(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Se.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!yc(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=h8(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Ti(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=f8(r.layoutBox,e):this.constraints=!1,this.elastic=y8(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=g8(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ti(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_3(r,s.root,this.visualElement.getTransformPagePoint());let o=m8(s.layout.layoutBox,i);if(n){const l=n(v3(o));this.hasMutatedConstraints=!!l,l&&(o=YS(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Zt(h=>{if(!yc(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bm(this.visualElement,e),r.start(Ty(e,r,0,n,this.visualElement,!1))}stopAnimation(){Zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zt(n=>{const{drag:r}=this.getProps();if(!yc(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Ae(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ti(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Zt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=p8({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zt(o=>{if(!yc(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ae(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;v8.set(this.visualElement,this);const e=this.visualElement.current,n=wa(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ti(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Se.read(r);const o=nl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Zt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=$m,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function yc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function w8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _8 extends as{constructor(e){super(e),this.removeGroupControls=on,this.removeListeners=on,this.controls=new x8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const n_=t=>(e,n)=>{t&&Se.postRender(()=>t(e,n))};class b8 extends as{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(e){this.session=new hN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:n_(e),onStart:n_(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Se.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=wa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=r_(t,e.target.x),r=r_(t,e.target.y);return`${n}% ${r}%`}},T8={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Zr.parse(t);if(s.length>5)return r;const i=Zr.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=Ae(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let Yh=!1;class E8 extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;q6(I8),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Yh&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$c.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Yh=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Se.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Yh=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function mN(t){const[e,n]=VS(),r=C.useContext(Hg);return a.jsx(E8,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(GS),isPresent:e,safeToRemove:n})}const I8={borderRadius:{...Wo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wo,borderTopRightRadius:Wo,borderBottomLeftRadius:Wo,borderBottomRightRadius:Wo,boxShadow:T8};function S8(t,e,n){const r=wt(t)?t:to(t);return r.start(Ty("",r,e,n)),r.animation}const N8=(t,e)=>t.depth-e.depth;class A8{constructor(){this.children=[],this.isDirty=!1}add(e){Gg(this.children,e),this.isDirty=!0}remove(e){Qg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(N8),this.isDirty=!1,this.children.forEach(e)}}function k8(t,e){const n=Lt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Jr(r),t(i-e))};return Se.setup(r,!0),()=>Jr(r)}const pN=["TopLeft","TopRight","BottomLeft","BottomRight"],C8=pN.length,s_=t=>typeof t=="string"?parseFloat(t):t,i_=t=>typeof t=="number"||ee.test(t);function P8(t,e,n,r,s,i){s?(t.opacity=Ae(0,n.opacity??1,j8(r)),t.opacityExit=Ae(e.opacity??1,0,R8(r))):i&&(t.opacity=Ae(e.opacity??1,n.opacity??1,r));for(let o=0;o<C8;o++){const l=`border${pN[o]}Radius`;let c=o_(e,l),d=o_(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||i_(c)===i_(d)?(t[l]=Math.max(Ae(s_(c),s_(d),r),0),(Vn.test(d)||Vn.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Ae(e.rotate||0,n.rotate||0,r))}function o_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const j8=gN(0,.5,tS),R8=gN(.5,.95,on);function gN(t,e,n){return r=>r<t?0:r>e?1:n(Xa(t,e,r))}function a_(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){a_(t.x,e.x),a_(t.y,e.y)}function l_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c_(t,e,n,r,s){return t-=e,t=Mu(t,1/n,r),s!==void 0&&(t=Mu(t,1/s,r)),t}function D8(t,e=0,n=1,r=.5,s,i=t,o=t){if(Vn.test(e)&&(e=parseFloat(e),e=Ae(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ae(i.min,i.max,r);t===i&&(l-=e),t.min=c_(t.min,e,n,l,s),t.max=c_(t.max,e,n,l,s)}function u_(t,e,[n,r,s],i,o){D8(t,e[n],e[r],e[s],e.scale,i,o)}const V8=["x","scaleX","originX"],L8=["y","scaleY","originY"];function d_(t,e,n,r){u_(t.x,e,V8,n?n.x:void 0,r?r.x:void 0),u_(t.y,e,L8,n?n.y:void 0,r?r.y:void 0)}function h_(t){return t.translate===0&&t.scale===1}function yN(t){return h_(t.x)&&h_(t.y)}function f_(t,e){return t.min===e.min&&t.max===e.max}function M8(t,e){return f_(t.x,e.x)&&f_(t.y,e.y)}function m_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vN(t,e){return m_(t.x,e.x)&&m_(t.y,e.y)}function p_(t){return Nt(t.x)/Nt(t.y)}function g_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class O8{constructor(){this.members=[]}add(e){Gg(this.members,e),e.scheduleRender()}remove(e){if(Qg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function F8(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:b}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Xh=["","X","Y","Z"],U8=1e3;let B8=0;function Jh(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function xN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Se,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&xN(r)}function wN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=B8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(W8),this.nodes.forEach(G8),this.nodes.forEach(Q8),this.nodes.forEach(H8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new A8)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Xg),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=DS(o)&&!R6(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,f=0;const p=()=>this.root.updateBlockedByResize=!1;Se.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,h&&h(),h=k8(p,250),$c.hasAnimatedSinceResize&&($c.hasAnimatedSinceResize=!1,this.nodes.forEach(x_)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||eF,{onLayoutAnimationStart:_,onLayoutAnimationComplete:A}=d.getProps(),T=!this.targetLayout||!vN(this.targetLayout,y),w=!f&&p;if(this.options.layoutRoot||this.resumeFrom||w||f&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...uy(b,"layout"),onPlay:_,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(h,w)}else f||x_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Y8),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(v_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(K8),this.nodes.forEach(z8),this.nodes.forEach($8)):this.nodes.forEach(v_),this.clearAllSnapshots();const l=Lt.now();st.delta=dr(0,1e3/60,l-st.timestamp),st.timestamp=l,st.isProcessing=!0,Uh.update.process(st),Uh.preRender.process(st),Uh.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q8),this.sharedNodes.forEach(X8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!yN(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||ys(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),tF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ue();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(nF))){const{scroll:h}=this.root;h&&(Ei(l.x,h.offset.x),Ei(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Ue();if(Xt(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Xt(l,o),Ei(l.x,f.offset.x),Ei(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Ue();Xt(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ii(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ys(h.latestValues)&&Ii(c,h.latestValues)}return ys(this.latestValues)&&Ii(c,this.latestValues),c}removeTransform(o){const l=Ue();Xt(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!ys(d.latestValues))continue;Mm(d.latestValues)&&d.updateSnapshot();const h=Ue(),f=d.measurePageBox();Xt(h,f),d_(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ys(this.latestValues)&&d_(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=st.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ba(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),JS(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),ba(this.relativeTargetOrigin,this.target,y.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||XS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===st.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Xt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;w3(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ue());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l_(this.prevProjectionDelta.x,this.projectionDelta.x),l_(this.prevProjectionDelta.y,this.projectionDelta.y)),_a(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!g_(this.projectionDelta.x,this.prevProjectionDelta.x)||!g_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Si(),this.projectionDelta=Si(),this.projectionDeltaWithTransform=Si()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},f=Si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Ue(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,_=y!==b,A=this.getStack(),T=!A||A.members.length<=1,w=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(Z8));this.animationProgress=0;let x;this.mixTargetDelta=P=>{const V=P/1e3;w_(f.x,o.x,V),w_(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ba(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J8(this.relativeTarget,this.relativeTargetOrigin,p,V),x&&M8(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ue()),Xt(x,this.relativeTarget)),_&&(this.animationValues=h,P8(h,d,this.latestValues,V,w,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Jr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Se.update(()=>{$c.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=to(0)),this.currentAnimation=S8(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&_N(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ue();const f=Nt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const p=Nt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Xt(l,c),Ii(l,h),_a(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O8),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Jh("z",o,d,this.animationValues);for(let h=0;h<Xh.length;h++)Jh(`rotate${Xh[h]}`,o,d,this.animationValues),Jh(`skew${Xh[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=zc(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=zc(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ys(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let f=F8(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),o.transform=f;const{x:p,y}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in tl){if(h[b]===void 0)continue;const{correct:_,applyTo:A,isCSSVariable:T}=tl[b],w=f==="none"?h[b]:_(h[b],d);if(A){const x=A.length;for(let P=0;P<x;P++)o[A[P]]=w}else T?this.options.visualElement.renderState.vars[b]=w:o[b]=w}this.options.layoutId&&(o.pointerEvents=d===this?zc(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(y_),this.root.sharedNodes.clear()}}}function z8(t){t.updateLayout()}function $8(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Zt(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=Nt(p);p.min=r[f].min,p.max=p.min+y}):_N(i,e.layoutBox,r)&&Zt(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=Nt(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const l=Si();_a(l,r,e.layoutBox);const c=Si();o?_a(c,t.applyTransform(s,!0),e.measuredBox):_a(c,r,e.layoutBox);const d=!yN(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const b=Ue();ba(b,e.layoutBox,p.layoutBox);const _=Ue();ba(_,r,y.layoutBox),vN(b,_)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function W8(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function H8(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q8(t){t.clearSnapshot()}function y_(t){t.clearMeasurements()}function v_(t){t.isLayoutDirty=!1}function K8(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function x_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G8(t){t.resolveTargetDelta()}function Q8(t){t.calcProjection()}function Y8(t){t.resetSkewAndRotation()}function X8(t){t.removeLeadSnapshot()}function w_(t,e,n){t.translate=Ae(e.translate,0,n),t.scale=Ae(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function __(t,e,n,r){t.min=Ae(e.min,n.min,r),t.max=Ae(e.max,n.max,r)}function J8(t,e,n,r){__(t.x,e.x,n.x,r),__(t.y,e.y,n.y,r)}function Z8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eF={duration:.45,ease:[.4,0,.1,1]},b_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),T_=b_("applewebkit/")&&!b_("chrome/")?Math.round:on;function E_(t){t.min=T_(t.min),t.max=T_(t.max)}function tF(t){E_(t.x),E_(t.y)}function _N(t,e,n){return t==="position"||t==="preserve-aspect"&&!a8(p_(e),p_(n),.2)}function nF(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rF=wN({attachResizeListener:(t,e)=>nl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zh={current:void 0},bN=wN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zh.current){const t=new rF({});t.mount(window),t.setOptions({layoutScroll:!0}),Zh.current=t}return Zh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sF={pan:{Feature:b8},drag:{Feature:_8,ProjectionNode:bN,MeasureLayout:mN}};function I_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Se.postRender(()=>i(e,Il(e)))}class iF extends as{mount(){const{current:e}=this.node;e&&(this.unmount=A6(e,(n,r)=>(I_(this.node,r,"Start"),s=>I_(this.node,s,"End"))))}unmount(){}}class oF extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bl(nl(this.node.current,"focus",()=>this.onFocus()),nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Se.postRender(()=>i(e,Il(e)))}class aF extends as{mount(){const{current:e}=this.node;e&&(this.unmount=j6(e,(n,r)=>(S_(this.node,r,"Start"),(s,{success:i})=>S_(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wm=new WeakMap,ef=new WeakMap,lF=t=>{const e=Wm.get(t.target);e&&e(t)},cF=t=>{t.forEach(lF)};function uF({root:t,...e}){const n=t||document;ef.has(n)||ef.set(n,{});const r=ef.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(cF,{root:t,...e})),r[s]}function dF(t,e,n){const r=uF(e);return Wm.set(t,n),r.observe(t),()=>{Wm.delete(t),r.unobserve(t)}}const hF={some:0,all:1};class fF extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:hF[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=d?h:f;p&&p(c)};return dF(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mF(e,n))&&this.startObserver()}unmount(){}}function mF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pF={inView:{Feature:fF},tap:{Feature:aF},focus:{Feature:oF},hover:{Feature:iF}},gF={layout:{ProjectionNode:bN,MeasureLayout:mN}},yF={...t8,...pF,...sF,...gF},X=y3(yF,C3),vF=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState(!1),{login:c,currentUser:d}=Yt(),h=uo();C.useEffect(()=>{d&&f(d.role)},[d]);const f=y=>{switch(y){case"investor":h("/investor-dashboard");break;case"college":h("/college-dashboard");break;case"admin":h("/admin-dashboard");break;default:h("/")}},p=async y=>{y.preventDefault();try{i(""),l(!0),await c(t,n)}catch(b){i(b.message||"Failed to log in"),console.error(b)}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-black",children:a.jsxs(X.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 w-full max-w-md border border-white/20",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Login"}),s&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg mb-6",children:s}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-white text-sm font-medium mb-2",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:t,onChange:y=>e(y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter your email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-white text-sm font-medium mb-2",children:"Password"}),a.jsx("input",{id:"password",type:"password",value:n,onChange:y=>r(y.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter your password",required:!0})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Logging in...":"Login"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-white/70 text-sm",children:"Don't have an account? Contact admin to get registered."})})]})})},xF=()=>{const[t,e]=C.useState(""),[n,r]=C.useState(""),[s,i]=C.useState(""),[o,l]=C.useState("investor"),[c,d]=C.useState(""),[h,f]=C.useState(""),[p,y]=C.useState(""),[b,_]=C.useState(!1),{register:A}=Yt(),T=async w=>{if(w.preventDefault(),n!==s)return y("Passwords do not match");if(n.length<6)return y("Password must be at least 6 characters");try{y(""),_(!0),await A(t,n,o,o==="college"?c:void 0,o==="investor"?h:void 0)}catch(x){y("Failed to create account"),console.error(x)}finally{_(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 to-black",children:a.jsxs(X.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 w-full max-w-md border border-white/20",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-8",children:"Register"}),p&&a.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg mb-6",children:p}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-white text-sm font-medium mb-2",children:"Email"}),a.jsx("input",{id:"email",type:"email",value:t,onChange:w=>e(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter your email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"role",className:"block text-white text-sm font-medium mb-2",children:"Role"}),a.jsxs("select",{id:"role",value:o,onChange:w=>l(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-[#e86888] transition-colors",children:[a.jsx("option",{value:"investor",children:"Investor"}),a.jsx("option",{value:"college",children:"College"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),o==="college"&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"collegeId",className:"block text-white text-sm font-medium mb-2",children:"College ID"}),a.jsx("input",{id:"collegeId",type:"text",value:c,onChange:w=>d(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter your college ID",required:!0})]}),o==="investor"&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"investorId",className:"block text-white text-sm font-medium mb-2",children:"Investor ID"}),a.jsx("input",{id:"investorId",type:"text",value:h,onChange:w=>f(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter your investor ID",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-white text-sm font-medium mb-2",children:"Password"}),a.jsx("input",{id:"password",type:"password",value:n,onChange:w=>r(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter your password",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-white text-sm font-medium mb-2",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",type:"password",value:s,onChange:w=>i(w.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Confirm your password",required:!0})]}),a.jsx("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Creating account...":"Register"})]})]})})},qn={email:"admin@jazbaa.com",password:"admin123456"},wF=[{email:"investor@test.com",password:"password123",role:"investor",investorId:"INV001",displayName:"Test Investor"},{email:"college@test.com",password:"password123",role:"college",collegeId:"COL001",displayName:"Test College"}],_F=[{name:"Feed",pitch:"AI-powered food delivery and restaurant management platform",sector:"FoodTech",badges:["Open to Invest"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"Hirex",pitch:"AI-driven recruitment and talent acquisition platform",sector:"HRTech",badges:["Open to Invest","Open to Hire"],special:"Built by All-Women Team",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"Hash 13",pitch:"Blockchain-based secure data management and verification system",sector:"Blockchain",badges:["Open to Invest"],special:"Innovation Award",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"India AI Mission",pitch:"AI solutions for Indian government and public sector digitization",sector:"AI for Bharat",badges:["Open to Invest","Government Initiative"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"MediCare AI",pitch:"AI-powered diagnosis for rural healthcare",sector:"HealthTech",badges:["Open to Invest"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"HealthBridge",pitch:"Connecting patients with specialists virtually",sector:"HealthTech",badges:["Open to Hire"],special:"Built by All-Women Team",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"PillTracker",pitch:"Smart medication management system",sector:"HealthTech",badges:["Open to Invest","Open to Hire"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"FarmSmart",pitch:"IoT sensors for precision farming",sector:"AgriTech",badges:["Open to Invest"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"CropGuard",pitch:"AI-based crop disease detection",sector:"AgriTech",badges:["Open to Hire"],special:"Built by All-Women Team",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"PayEasy",pitch:"Digital payments for rural merchants",sector:"FinTech",badges:["Open to Invest"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"MicroLend",pitch:"Peer-to-peer lending platform",sector:"FinTech",badges:["Open to Hire"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"LearnSmart",pitch:"AI-powered personalized learning platform",sector:"EdTech",badges:["Open to Invest"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"SkillBridge",pitch:"Virtual reality skill training",sector:"EdTech",badges:["Open to Hire"],special:"Built by All-Women Team",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"EcoTrack",pitch:"Carbon footprint tracking for businesses",sector:"Sustainability",badges:["Open to Invest"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"GreenTech",pitch:"Renewable energy optimization",sector:"Sustainability",badges:["Open to Hire"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"SheLeads",pitch:"Leadership platform for women entrepreneurs",sector:"WomenTech",badges:["Open to Invest"],special:"Built by All-Women Team",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"TechMentor",pitch:"Women in tech mentorship network",sector:"WomenTech",badges:["Open to Hire"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"LocalGuide",pitch:"AI-powered local travel recommendations",sector:"TravelTech",badges:["Open to Invest"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"SmartStay",pitch:"Smart hotel booking platform",sector:"TravelTech",badges:["Open to Hire"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"CommunityConnect",pitch:"Platform for social impact initiatives",sector:"Social Impact",badges:["Open to Invest"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"HelpBridge",pitch:"Connecting volunteers with NGOs",sector:"Social Impact",badges:["Open to Hire"],special:"Built by All-Women Team",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"BharatAI",pitch:"AI solutions for Indian languages",sector:"AI for Bharat",badges:["Open to Invest"],special:"Flagship Startup",collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"LocalAI",pitch:"AI-powered local business solutions",sector:"AI for Bharat",badges:["Open to Hire"],special:void 0,collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"AgriTech Solutions",pitch:"Smart farming solutions for Indian agriculture",sector:"AgriTech",badges:["Open to Invest","Rural Development"],collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]},{name:"AI for Bharat",pitch:"AI solutions tailored for Indian languages and culture",sector:"AI for Bharat",badges:["Open to Invest","AI Innovation"],collegeId:"COL001",createdBy:"college-1",createdAt:new Date,interestedInvestors:[],hiringInvestors:[]}],N_=async()=>{const t={success:!1,adminUser:null,testUsers:[],startupsAdded:0,commentsAdded:0,errors:[],steps:[]};try{t.steps.push("🚀 Starting Firebase setup...");try{t.steps.push("📡 Testing Firebase connection..."),await _u(Dt),t.steps.push("✅ Firebase connection successful")}catch(s){throw t.errors.push(`Connection Error: ${s.message}`),new Error("Firebase connection failed")}try{t.steps.push("👤 Creating admin user...");const s=await Ha(Dt,qn.email,qn.password);await Kt(We(Z,"users",s.user.uid),{uid:s.user.uid,email:qn.email,role:"admin",displayName:"Admin User",createdAt:new Date}),t.adminUser={uid:s.user.uid,email:qn.email},t.steps.push("✅ Admin user created successfully")}catch(s){if(s.code==="auth/email-already-in-use"){t.steps.push("⚠️ Admin user already exists");try{const i=await tg(Dt,qn.email,qn.password);t.adminUser={uid:i.user.uid,email:qn.email},t.steps.push("✅ Admin user verified")}catch(i){t.errors.push(`Admin sign in failed: ${i.message}`)}}else throw t.errors.push(`Admin creation failed: ${s.message}`),s}t.steps.push("👥 Creating test users...");for(const s of wF)try{const i=await Ha(Dt,s.email,s.password);await Kt(We(Z,"users",i.user.uid),{uid:i.user.uid,email:s.email,role:s.role,displayName:s.displayName,...s.collegeId&&{collegeId:s.collegeId},...s.investorId&&{investorId:s.investorId},createdAt:new Date}),t.testUsers.push({uid:i.user.uid,role:s.role,email:s.email}),t.steps.push(`✅ Created ${s.role} user: ${s.email}`)}catch(i){i.code==="auth/email-already-in-use"?t.steps.push(`⚠️ User ${s.email} already exists`):t.errors.push(`Error creating ${s.role} user: ${i.message}`)}t.steps.push("🚀 Adding sample startups...");const e=pe(Z,"startups");for(const s of _F)try{await ur(e,s),t.startupsAdded++,t.steps.push(`✅ Added startup: ${s.name}`)}catch(i){t.errors.push(`Error adding startup ${s.name}: ${i.message}`)}t.steps.push("💬 Adding sample comments...");const n=pe(Z,"comments"),r=[{investorId:"investor-1",investorName:"John Investor",startupId:"startup-1",comment:"This looks like a promising investment opportunity. I'm particularly interested in the AI-powered healthcare solutions.",timestamp:new Date,type:"investment"},{investorId:"investor-2",investorName:"Sarah Tech",startupId:"startup-2",comment:"Great team and innovative approach. Would love to discuss potential collaboration opportunities.",timestamp:new Date,type:"hiring"},{investorId:"investor-1",investorName:"John Investor",startupId:"startup-3",comment:"The sustainability focus is exactly what we're looking for. Let's schedule a meeting.",timestamp:new Date,type:"general"}];for(const s of r)try{await ur(n,s),t.commentsAdded++,t.steps.push(`✅ Added comment from ${s.investorName}`)}catch(i){t.errors.push(`Error adding comment: ${i.message}`)}t.steps.push("🔍 Verifying data creation...");try{const s=await Ve(pe(Z,"users")),i=await Ve(pe(Z,"startups")),o=await Ve(pe(Z,"comments"));t.steps.push(`✅ Verified ${s.size} users in database`),t.steps.push(`✅ Verified ${i.size} startups in database`),t.steps.push(`✅ Verified ${o.size} comments in database`)}catch(s){t.errors.push(`Verification failed: ${s.message}`)}return await _u(Dt),t.steps.push("✅ Setup completed successfully"),t.success=!0,t}catch(e){return t.errors.push(`Setup failed: ${e.message}`),console.error("❌ Firebase setup failed:",e),t}},bF=async()=>{try{return await tg(Dt,qn.email,qn.password),await _u(Dt),{needsSetup:!1,message:"Firebase is already set up"}}catch(t){return t.code==="auth/user-not-found"?{needsSetup:!0,message:"Firebase setup required"}:{needsSetup:!1,message:"Unknown error checking setup"}}},TF=async()=>{const t={authEnabled:!1,firestoreEnabled:!1,authTest:!1,firestoreTest:!1,errors:[]};try{console.log("🔍 Running Firebase diagnostics...");try{console.log("Testing Firebase Auth...");const e=`test-${Date.now()}@diagnostic.com`,r=await Ha(Dt,e,"test123456");console.log("✅ Firebase Auth is working"),t.authEnabled=!0,t.authTest=!0}catch(e){console.error("❌ Firebase Auth test failed:",e),t.errors.push(`Auth Error: ${e.message}`),e.code==="auth/operation-not-allowed"?t.errors.push("Email/Password authentication is not enabled in Firebase Console"):e.code==="auth/invalid-api-key"?t.errors.push("Invalid API key - check Firebase configuration"):e.code==="auth/network-request-failed"&&t.errors.push("Network error - check internet connection")}try{console.log("Testing Firestore...");const e=We(Z,"diagnostics","test");await Kt(e,{timestamp:new Date,test:!0}),(await Mn(e)).exists()&&(console.log("✅ Firestore is working"),t.firestoreEnabled=!0,t.firestoreTest=!0)}catch(e){console.error("❌ Firestore test failed:",e),t.errors.push(`Firestore Error: ${e.message}`),e.code==="permission-denied"?t.errors.push("Firestore security rules are blocking access"):e.code==="unavailable"&&t.errors.push("Firestore is not enabled in Firebase Console")}try{console.log("Testing project configuration...");const e=Z.app.options.projectId;console.log("✅ Project ID:",e),e!=="jazbaa-4-0"&&t.errors.push(`Project ID mismatch: expected 'jazbaa-4-0', got '${e}'`)}catch(e){console.error("❌ Project configuration test failed:",e),t.errors.push(`Configuration Error: ${e.message}`)}return t}catch(e){return console.error("❌ Diagnostic failed:",e),t.errors.push(`General Error: ${e.message}`),t}},EF=()=>{Yt();const[t,e]=C.useState("checking"),[n,r]=C.useState(null),[s,i]=C.useState(null),[o,l]=C.useState(null);C.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await bF();e(y.needsSetup?"needed":"completed")}catch{e("error")}},d=async()=>{e("checking");try{const y=await N_();r(y),e(y.success?"completed":"error")}catch(y){e("error"),r({error:y.message})}},h=async()=>{try{const y=await TF();i(y)}catch(y){i({error:y.message})}},f=async()=>{try{console.log("Testing Firebase operations...");const y=await Ve(pe(Z,"startups"));console.log("Startups found:",y.size);const b=await Ve(pe(Z,"comments"));if(console.log("Comments found:",b.size),y.size>0){const A=y.docs[0];console.log("Testing update on startup:",A.id),await _i(We(Z,"startups",A.id),{interestedInvestors:bm("test-investor")}),console.log("Successfully updated startup")}const _={investorId:"test-investor",investorName:"Test Investor",startupId:y.size>0?y.docs[0].id:"test-startup",comment:"This is a test comment",timestamp:new Date,type:"general"};await ur(pe(Z,"comments"),_),console.log("Successfully added test comment"),l({success:!0,startups:y.size,comments:b.size,message:"All Firebase operations working correctly!"})}catch(y){console.error("Test failed:",y),l({success:!1,error:y.message,message:"Firebase operations failed"})}},p=async()=>{try{console.log("Resetting Firebase data...");const y=await Ve(pe(Z,"startups")),b=await Ve(pe(Z,"comments"));console.log(`Found ${y.size} startups and ${b.size} comments to delete`);const _=await N_();r(_),e(_.success?"completed":"error"),alert("Data has been reset and recreated!")}catch(y){console.error("Reset failed:",y),alert(`Reset failed: ${y.message}`)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Firebase Setup & Diagnostics"}),a.jsx("p",{className:"text-xl text-white/80",children:"Configure and test your Firebase backend"})]}),a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Setup Status"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${t==="completed"?"bg-green-500":t==="error"?"bg-red-500":t==="needed"?"bg-yellow-500":"bg-blue-500 animate-pulse"}`}),a.jsxs("span",{className:"text-white",children:[t==="checking"&&"Checking setup...",t==="needed"&&"Setup required",t==="completed"&&"Setup completed",t==="error"&&"Setup error"]})]}),t==="needed"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:d,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Initialize Firebase"}),a.jsx("button",{onClick:p,className:"bg-red-500 text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Reset & Recreate Data"})]})]})]}),a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Test Firebase Operations"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:f,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Test Firebase Operations"}),o&&a.jsxs("div",{className:`p-4 rounded-lg ${o.success?"bg-green-500/20 border border-green-500/50":"bg-red-500/20 border border-red-500/50"}`,children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:o.message}),o.success?a.jsxs("div",{className:"text-white/80 text-sm",children:[a.jsxs("p",{children:["Startups: ",o.startups]}),a.jsxs("p",{children:["Comments: ",o.comments]})]}):a.jsx("p",{className:"text-red-300 text-sm",children:o.error})]})]})]}),a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Run Diagnostics"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:h,className:"bg-gradient-to-r from-[#7d7eed] to-[#e86888] text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Run Diagnostics"}),s&&a.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Diagnostic Results"}),a.jsx("pre",{className:"text-white/80 text-sm overflow-auto",children:JSON.stringify(s,null,2)})]})]})]}),n&&a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Setup Results"}),a.jsxs("div",{className:"space-y-4",children:[n.steps&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-white font-semibold",children:"Steps:"}),n.steps.map((y,b)=>a.jsx("p",{className:"text-white/80 text-sm",children:y},b))]}),n.errors&&n.errors.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-red-400 font-semibold",children:"Errors:"}),n.errors.map((y,b)=>a.jsx("p",{className:"text-red-300 text-sm",children:y},b))]}),n.success&&a.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4",children:[a.jsx("h3",{className:"text-green-400 font-semibold",children:"Setup Successful!"}),a.jsxs("p",{className:"text-green-300 text-sm",children:["Startups added: ",n.startupsAdded,a.jsx("br",{}),"Comments added: ",n.commentsAdded]})]})]})]})]})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>C.createElement("svg",{ref:h,...IF,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${SF(t)}`,l].join(" "),...d},[...e.map(([f,p])=>C.createElement(f,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ie("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ie("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ie("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ie("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ie("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ie("Cuboid",[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ie("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ie("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ie("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ie("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ie("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ie("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ie("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ie("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ie("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=ie("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ie("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ky=async t=>{var e;try{const n=t.slug||t.id||((e=t.name)==null?void 0:e.toLowerCase().replace(/\s+/g,"-"))||`startup-${Date.now()}`;console.log("🔍 Ensuring startup profile exists:",{startupName:t.name,slug:n,hasExistingProfile:!!t.slug});const r=We(Z,"startups",n);if((await Mn(r)).exists())return console.log("✅ Startup profile already exists:",n),n;const i={id:t.id||n,name:t.name||"Unknown Startup",tagline:t.tagline||t.pitch||"No tagline available",story:t.story||"No story available",sector:t.sector||"Technology",badges:t.badges||[],team:t.team||[],website:t.website,appStore:t.appStore,playStore:t.playStore,demoUrl:t.demoUrl,qrCode:t.qrCode,contactEmail:t.contactEmail,contactPhone:t.contactPhone,productVideo:t.productVideo,pitchDeck:t.pitchDeck,problem:t.problem||"Problem description not available",solution:t.solution||"Solution description not available",collaborationMessage:t.collaborationMessage||"We are open to collaboration, funding, and partnerships.",individualPitches:t.individualPitches||[],slug:n,createdAt:t.createdAt||new Date,isPermanent:!0,profileCreatedAt:new Date,lastUpdated:new Date,isTemplateCompatible:!0,templateVersion:"1.0"};await Kt(r,i),console.log("✅ Created startup profile:",n);try{const o=We(Z,"permanent_profiles",n);await Kt(o,{...i,backupCreatedAt:new Date,originalCollection:"startups"}),console.log("✅ Created backup profile:",n)}catch(o){console.warn("⚠️ Backup creation failed (optional):",o)}return n}catch(n){throw console.error("❌ Error ensuring startup profile:",n),n}},GF=async()=>{try{console.log("🔄 Ensuring all startup profiles exist...");const t=pe(Z,"startups"),e=await Ve(t),n=[];for(const r of e.docs){const s=r.data();try{const i=await ky({...s,id:r.id});n.push(i)}catch(i){console.error(`❌ Failed to ensure profile for ${r.id}:`,i)}}return console.log(`✅ Ensured ${n.length} startup profiles exist`),n}catch(t){throw console.error("❌ Error ensuring all startup profiles:",t),t}},QF=t=>{var n;return`/startup/${t.slug||t.id||((n=t.name)==null?void 0:n.toLowerCase().replace(/\s+/g,"-"))||`startup-${t.id}`}`},CN=({isInvestorView:t=!1,startups:e=[],onInterestClick:n,onCommentSubmit:r,currentUser:s,comments:i=[]})=>{const o=uo(),[l,c]=C.useState([]),[d,h]=C.useState("all"),[f,p]=C.useState(null),[y,b]=C.useState({}),[_,A]=C.useState({}),T=["all","Technology","Healthcare","Education","Finance","E-commerce","Entertainment","Transportation","Food & Beverage","Real Estate","Manufacturing","Energy","Environment","Sports","Fashion","Other"];C.useEffect(()=>{(async()=>{try{console.log("🔍 Fetching startups from Firebase...");const P=pe(Z,"startups"),L=(await Ve(P)).docs.map(E=>{const N=E.data();return console.log("📊 Startup data from Firebase:",{id:E.id,name:N.name,sector:N.sector}),{id:E.id,...N}});console.log("✅ Fetched startups count:",L.length),console.log("✅ All fetched startups:",L);for(const E of L)try{await ky(E)}catch(N){console.warn("⚠️ Profile creation failed for startup:",E.name,N)}const v=[...L,...e].filter((E,N,j)=>N===j.findIndex(R=>R.id===E.id));console.log("✅ Final unique startups count:",v.length),console.log("✅ Final startups list:",v.map(E=>({id:E.id,name:E.name,sector:E.sector}))),c(v)}catch(P){console.error("❌ Error fetching startups:",P),console.error("❌ Error details:",{message:P instanceof Error?P.message:"Unknown error",stack:P instanceof Error?P.stack:void 0}),c(e)}})()},[e]);const w=d==="all"?l:l.filter(x=>x.sector===d);return a.jsx("section",{className:"py-20 bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:t?"Discover Startups":"Featured Startups"}),a.jsx("p",{className:"text-xl text-white/70 max-w-3xl mx-auto",children:t?"Explore innovative startups and connect with founders":"Meet the innovative startups participating in JAZBAA 4.0"})]}),a.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:T.map(x=>a.jsx("button",{onClick:()=>h(x),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${d===x?"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:x==="all"?"All Sectors":x},x))}),a.jsx(LS,{mode:"wait",children:a.jsx(X.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:w.map((x,P)=>{var V;return console.log("Rendering startup:",x),a.jsxs(X.div,{className:"group bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 hover:border-[#e86888]/50 transition-all duration-300 hover:scale-105",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:P*.1},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[x.logo?a.jsx("img",{src:x.logo,alt:`${x.name} logo`,className:"w-16 h-16 object-contain"}):a.jsx(IN,{className:"w-8 h-8 text-white"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg text-white",children:x.name}),a.jsx("p",{className:"text-sm text-white/70",children:x.sector})]})]}),x.special&&a.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:x.special})]}),a.jsx("p",{className:"text-white/70 mb-4",children:x.pitch}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(V=x.badges)==null?void 0:V.map(L=>a.jsx("span",{className:"bg-[#7d7eed]/20 text-white px-3 py-1 rounded-full text-sm",children:L},L))}),t&&n&&s?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>{console.log("Interest button clicked for startup:",x),n(x.id,"investment")},className:`w-full py-2 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 ${(x.interestedInvestors||[]).includes(s.uid)?"bg-green-600 text-white hover:bg-green-700":"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white hover:scale-105"}`,children:[a.jsx(rl,{size:16}),(x.interestedInvestors||[]).includes(s.uid)?"Interested ✓":"Show Interest"]}),a.jsxs("button",{onClick:()=>{console.log("Hiring button clicked for startup:",x),n(x.id,"hiring")},className:`w-full py-2 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 ${(x.hiringInvestors||[]).includes(s.uid)?"bg-blue-600 text-white hover:bg-blue-700":"bg-gradient-to-r from-[#7d7eed] to-[#e86888] text-white hover:scale-105"}`,children:[a.jsx(kN,{size:16}),(x.hiringInvestors||[]).includes(s.uid)?"Want to Hire ✓":"Want to Hire"]}),a.jsxs("button",{onClick:()=>p(f===x.id?null:x.id),className:"w-full py-2 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 bg-white/10 text-white hover:bg-white/20 hover:scale-105",children:[a.jsx(ai,{size:16}),"Add Comment"]}),f===x.id&&a.jsx(X.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white/5 rounded-lg p-4 border border-white/10",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("select",{value:_[x.id]||"general",onChange:L=>A({..._,[x.id]:L.target.value}),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:border-[#e86888]",children:[a.jsx("option",{value:"general",children:"General Comment"}),a.jsx("option",{value:"investment",children:"Investment Related"}),a.jsx("option",{value:"hiring",children:"Hiring Related"})]}),a.jsx("textarea",{value:y[x.id]||"",onChange:L=>b({...y,[x.id]:L.target.value}),placeholder:"Write your comment here...",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:border-[#e86888] resize-none",rows:3}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{var v;const L=(v=y[x.id])==null?void 0:v.trim(),S=_[x.id]||"general";L&&r?(console.log("Submitting comment:",{startupId:x.id,comment:L,type:S}),r(x.id,L,S),b({...y,[x.id]:""}),p(null)):console.warn("Comment submission failed:",{hasComment:!!L,hasOnCommentSubmit:!!r,commentType:S})},className:"flex-1 py-2 bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white rounded-lg font-medium transition-all duration-300 hover:scale-105 flex items-center justify-center gap-2",children:[a.jsx($F,{size:14}),"Submit"]}),a.jsx("button",{onClick:()=>{b({...y,[x.id]:""}),p(null)},className:"px-4 py-2 bg-white/10 text-white rounded-lg font-medium transition-all duration-300 hover:bg-white/20",children:"Cancel"})]})]})}),i.filter(L=>L.startupId===x.id).length>0&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("h4",{className:"text-white/80 text-sm font-medium",children:"Comments:"}),i.filter(L=>L.startupId===x.id).map((L,S)=>(console.log("Displaying comment:",L),a.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-white/90 text-sm font-medium",children:L.investorName}),a.jsx("span",{className:"text-white/60 text-xs",children:new Date(L.timestamp).toLocaleDateString()})]}),a.jsx("p",{className:"text-white/70 text-sm",children:L.comment}),a.jsx("span",{className:`inline-block mt-2 px-2 py-1 rounded-full text-xs font-medium ${L.type==="investment"?"bg-green-500/20 text-green-400":L.type==="hiring"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:L.type})]},L.id)))]})]}):a.jsxs("button",{onClick:()=>{const L=QF(x);console.log("🔗 Navigating to startup profile:",{startupName:x.name,profileUrl:L,hasSlug:!!x.slug,hasId:!!x.id}),o(L)},className:"w-full bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-3 rounded-lg font-medium transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 hover:shadow-lg hover:shadow-[#e86888]/25 active:scale-95 transform",children:["View Details ",a.jsx(ro,{size:16})]})]},x.id||x.name)})},d)}),w.length===0&&a.jsx("div",{className:"text-center text-white/60 text-xl",children:"No startups found for the selected sector."})]})})},YF=()=>{const{currentUser:t}=Yt(),[e,n]=C.useState([]),[r,s]=C.useState([]),[i,o]=C.useState(!0);C.useEffect(()=>{l()},[]);const l=async()=>{try{o(!0),console.log("Fetching data for investor dashboard...");const h=await Ve(pe(Z,"startups"));console.log("Startups collection size:",h.docs.length);const f=await Ve(pe(Z,"comments"));console.log("Comments collection size:",f.docs.length);const p=await Promise.all(h.docs.map(async b=>{var w;const _=b.data();console.log("Raw startup data:",_);const A=_.slug||b.id||((w=_.name)==null?void 0:w.toLowerCase().replace(/\s+/g,"-"))||`startup-${b.id}`;try{await ky({..._,id:b.id,slug:A}),console.log("✅ Ensured profile exists for:",_.name||b.id)}catch(x){console.warn("⚠️ Failed to ensure profile for:",_.name||b.id,x)}const T={id:b.id,name:_.name||"Unknown Startup",pitch:_.tagline||_.story||"No description available",sector:_.sector||"Technology",badges:_.badges||[],special:_.special||null,interestedInvestors:_.interestedInvestors||[],hiringInvestors:_.hiringInvestors||[],collegeId:_.collegeId||_.createdBy||"unknown",createdBy:_.createdBy||"unknown",createdAt:_.createdAt||new Date,tagline:_.tagline,story:_.story,team:_.team||[],website:_.website,appStore:_.appStore,playStore:_.playStore,demoUrl:_.demoUrl,contactEmail:_.contactEmail,contactPhone:_.contactPhone,slug:A,status:_.status||"active",problem:_.problem,solution:_.solution,productVideo:_.productVideo,pitchDeck:_.pitchDeck,qrCode:_.qrCode,collaborationMessage:_.collaborationMessage,individualPitches:_.individualPitches||[]};return console.log("Transformed startup data:",T),T})),y=f.docs.map(b=>{const _={id:b.id,...b.data()};return console.log("Comment data:",_),_});console.log("Total startups found:",p.length),console.log("Total comments found:",y.length),console.log("Startups with IDs:",p.map(b=>({id:b.id,name:b.name,sector:b.sector}))),n(p),s(y)}catch(h){console.error("Error fetching data:",h),alert(`Error fetching data: ${h.message}`)}finally{o(!1)}},c=async(h,f)=>{if(!t){console.error("No current user found");return}if(!h){console.error("No startup ID provided"),alert("Error: No startup ID provided");return}try{console.log(`Handling ${f} interest for startup ${h} by user ${t.uid}`);const p=We(Z,"startups",h),y=e.find(w=>w.id===h);if(!y){console.error(`Startup with id ${h} not found in local data`),console.log("Available startups:",e.map(w=>({id:w.id,name:w.name}))),alert("Error: Startup not found. Please refresh the page.");return}const b=y.interestedInvestors||[],_=y.hiringInvestors||[],A=b.includes(t.uid),T=_.includes(t.uid);console.log(`Current state - Interested: ${A}, Hiring: ${T}`),console.log("Startup data:",y),f==="investment"?A?(console.log("Removing investment interest"),await _i(p,{interestedInvestors:aw(t.uid)})):(console.log("Adding investment interest"),await _i(p,{interestedInvestors:bm(t.uid)})):T?(console.log("Removing hiring interest"),await _i(p,{hiringInvestors:aw(t.uid)})):(console.log("Adding hiring interest"),await _i(p,{hiringInvestors:bm(t.uid)})),console.log("Interest updated successfully, refreshing data..."),await l()}catch(p){console.error("Error updating interest:",p),alert(`Error updating interest: ${p.message}`)}},d=async(h,f,p)=>{if(!t){console.error("No current user found");return}if(!h){console.error("No startup ID provided"),alert("Error: No startup ID provided");return}if(!f||f.trim()===""){console.error("No comment text provided"),alert("Error: Please enter a comment");return}const y=p||"general";try{console.log(`Submitting comment for startup ${h}:`,{comment:f.trim(),type:y,investorId:t.uid,investorName:t.displayName||t.email});const b={investorId:t.uid,investorName:t.displayName||t.email,startupId:h,comment:f.trim(),timestamp:new Date,type:y};console.log("Adding comment to Firestore:",b),await ur(pe(Z,"comments"),b),console.log("Comment added successfully, refreshing data..."),await l(),alert("Comment submitted successfully!")}catch(b){console.error("Error submitting comment:",b),alert(`Error submitting comment: ${b.message}`)}};return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading investor dashboard..."})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black",children:[a.jsx("div",{className:"py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Investor Dashboard"}),a.jsxs("p",{className:"text-xl text-white/80",children:["Welcome, ",t==null?void 0:t.email,". Discover and invest in promising startups."]})]}),a.jsxs(X.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx($s,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.length}),a.jsx("p",{className:"text-white/70",children:"Total Startups"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx(rl,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.reduce((h,f)=>h+f.interestedInvestors.length,0)}),a.jsx("p",{className:"text-white/70",children:"Investment Interests"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx(Iy,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.reduce((h,f)=>h+f.hiringInvestors.length,0)}),a.jsx("p",{className:"text-white/70",children:"Hiring Requests"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx(DF,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:Array.from(new Set(e.map(h=>h.sector))).length}),a.jsx("p",{className:"text-white/70",children:"Sectors"})]})]})]})}),a.jsx(CN,{isInvestorView:!0,startups:e,onInterestClick:c,onCommentSubmit:d,currentUser:t,comments:r})]})},XF=()=>{const{currentUser:t}=Yt(),[e,n]=C.useState([]),[r,s]=C.useState([]),[i,o]=C.useState(!0),[l,c]=C.useState("all");C.useEffect(()=>{d()},[t]),C.useEffect(()=>{s(l==="all"?e:e.filter(f=>f.sector===l))},[e,l]);const d=async()=>{if(!(t!=null&&t.collegeId)){console.error("No college ID found for user"),o(!1);return}try{o(!0),console.log("Fetching startups for college:",t.collegeId);const f=pe(Z,"startups"),p=Td(f,yI("collegeId","==",t.collegeId)),b=(await Ve(p)).docs.map(_=>({id:_.id,..._.data()}));console.log("Found startups:",b.length),n(b)}catch(f){console.error("Error fetching college startups:",f)}finally{o(!1)}},h=["all",...Array.from(new Set(e.map(f=>f.sector)))];return i?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading college dashboard..."})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"College Dashboard"}),a.jsxs("p",{className:"text-xl text-white/80",children:["Welcome, ",t==null?void 0:t.email,". Monitor your college's startup ecosystem."]})]}),a.jsxs(X.div,{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx($s,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.length}),a.jsx("p",{className:"text-white/70",children:"Total Startups"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx(rl,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.reduce((f,p)=>f+p.interestedInvestors.length,0)}),a.jsx("p",{className:"text-white/70",children:"Investment Interests"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx(Cs,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.reduce((f,p)=>f+p.hiringInvestors.length,0)}),a.jsx("p",{className:"text-white/70",children:"Hiring Requests"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",children:[a.jsx(Iy,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:Array.from(new Set(e.map(f=>f.sector))).length}),a.jsx("p",{className:"text-white/70",children:"Sectors"})]})]}),a.jsx(X.div,{className:"mb-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"text-white font-medium",children:"Filter by Sector:"}),a.jsx("select",{value:l,onChange:f=>c(f.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-[#e86888] transition-colors",children:h.map(f=>a.jsx("option",{value:f,className:"bg-gray-800",children:f==="all"?"All Sectors":f},f))})]})}),a.jsx(X.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:r.map((f,p)=>a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-300",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:p*.1},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full flex items-center justify-center overflow-hidden",children:a.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:f.name.split(" ").map(y=>y[0]).join("")})})}),f.special&&a.jsx("span",{className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-3 py-1 rounded-full text-xs font-medium",children:f.special})]}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:f.name}),a.jsx("p",{className:"text-white/70 mb-4",children:f.pitch}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:"bg-[#e86888]/20 text-white px-3 py-1 rounded-full text-sm",children:f.sector}),f.badges.map(y=>a.jsx("span",{className:"bg-[#7d7eed]/20 text-white px-3 py-1 rounded-full text-sm",children:y},y))]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Investment Interests:"}),a.jsx("span",{className:"text-white font-medium",children:f.interestedInvestors.length})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-white/60",children:"Hiring Requests:"}),a.jsx("span",{className:"text-white font-medium",children:f.hiringInvestors.length})]})]})]},f.id))}),r.length===0&&a.jsx("div",{className:"text-center text-white/60 text-xl",children:e.length===0?"No startups found for your college.":"No startups found for the selected sector."})]})})},JF=()=>{const{currentUser:t}=Yt(),[e,n]=C.useState([]),[r,s]=C.useState([]),[i,o]=C.useState([]),[l,c]=C.useState(!0),[d,h]=C.useState("interests"),[f,p]=C.useState(!1),[y,b]=C.useState({email:"",password:"",role:"investor",collegeId:"",investorId:"",displayName:""});C.useEffect(()=>{_()},[]);const _=async()=>{try{c(!0),console.log("Fetching admin data...");const[v,E,N]=await Promise.all([Ve(pe(Z,"startups")),Ve(pe(Z,"users")),Ve(pe(Z,"comments"))]),j=v.docs.map(oe=>{const O=oe.data();return console.log("Startup data:",oe.id,O),{id:oe.id,name:O.name||"Unknown Startup",pitch:O.pitch||"",sector:O.sector||"Technology",badges:O.badges||[],special:O.special||null,collegeId:O.collegeId||"",createdBy:O.createdBy||"",createdAt:O.createdAt||new Date,interestedInvestors:O.interestedInvestors||[],hiringInvestors:O.hiringInvestors||[]}}),R=E.docs.map(oe=>({uid:oe.id,...oe.data()})),k=N.docs.map(oe=>{const O=oe.data();console.log("Raw comment data:",{id:oe.id,...O});let W;return O.timestamp?O.timestamp.toDate?W=O.timestamp.toDate():O.timestamp instanceof Date?W=O.timestamp:W=new Date(O.timestamp):W=new Date,{id:oe.id,investorId:O.investorId||"",investorName:O.investorName||"Unknown Investor",startupId:O.startupId||"",comment:O.comment||"",timestamp:W,type:O.type||"general"}});console.log("Found startups:",j.length),console.log("Found users:",R.length),console.log("Found comments:",k.length),console.log("Comments data:",k),console.log("Comments with details:",k.map(oe=>({id:oe.id,investorName:oe.investorName,startupName:T(oe.startupId),comment:oe.comment,type:oe.type,timestamp:oe.timestamp}))),console.log("Startups with investors:",j.filter(oe=>{var O,W;return((O=oe.interestedInvestors)==null?void 0:O.length)>0||((W=oe.hiringInvestors)==null?void 0:W.length)>0})),n(j),s(R),o(k)}catch(v){console.error("Error fetching admin data:",v),alert(`Error fetching data: ${v.message}`)}finally{c(!1)}},A=v=>{const E=r.find(N=>N.uid===v);return(E==null?void 0:E.email)||v},T=v=>{const E=e.find(N=>N.id===v);return(E==null?void 0:E.name)||v},w=e.flatMap(v=>{if(!v)return[];const E=v.interestedInvestors||[],N=v.hiringInvestors||[];return[...E.map(j=>({type:"investment",investorId:j,startupId:v.id,startupName:v.name,sector:v.sector})),...N.map(j=>({type:"hiring",investorId:j,startupId:v.id,startupName:v.name,sector:v.sector}))]}),x=async v=>{v.preventDefault();try{console.log("Creating new user:",y.email);const E=await Ha(Dt,y.email,y.password);console.log("Firebase Auth user created:",E.user.uid);const N={uid:E.user.uid,email:y.email,role:y.role,displayName:y.displayName,...y.collegeId&&{collegeId:y.collegeId},...y.investorId&&{investorId:y.investorId},createdAt:new Date};await Kt(We(Z,"users",E.user.uid),N),s([...r,N]),b({email:"",password:"",role:"investor",collegeId:"",investorId:"",displayName:""}),p(!1),console.log("User created successfully - they can now login!"),alert(`User created successfully!
Email: ${y.email}
Password: ${y.password}

Share these credentials with the user.`)}catch(E){console.error("Error creating user:",E),E.code==="auth/email-already-in-use"?alert("User with this email already exists!"):alert(`Error creating user: ${E.message}`)}},P=async v=>{if(confirm("Are you sure you want to delete this user?"))try{await TL(We(Z,"users",v)),await _(),alert("User deleted successfully!")}catch(E){console.error("Error deleting user:",E),alert(`Error deleting user: ${E.message}`)}},V=async()=>{try{const v={investorId:"test-investor-id",investorName:"Test Investor (ram@gmail.com)",startupId:"test-startup-id",comment:"This is a test comment from admin dashboard to verify comment storage and display",timestamp:new Date,type:"general"};console.log("Adding test comment:",v);const E=await ur(pe(Z,"comments"),v);console.log("Test comment added with ID:",E.id),await _(),alert("Test comment added successfully! Check the comments section.")}catch(v){console.error("Error adding test comment:",v),alert(`Error adding test comment: ${v.message}`)}},L=async()=>{try{const v=e[0],E=r.find(R=>R.role==="investor");if(!v||!E){alert("No startups or investors found for testing");return}const N={investorId:E.uid,investorName:E.email||"Test Investor",startupId:v.id,comment:`Real test comment for ${v.name} from ${E.email}`,timestamp:new Date,type:"investment"};console.log("Adding real test comment:",N);const j=await ur(pe(Z,"comments"),N);console.log("Real test comment added with ID:",j.id),await _(),alert("Real test comment added successfully! Check the comments section.")}catch(v){console.error("Error adding real test comment:",v),alert(`Error adding real test comment: ${v.message}`)}},S=async()=>{try{console.log("Checking comments in database...");const v=pe(Z,"comments"),E=await Ve(v);console.log("Total comments in database:",E.docs.length);const N=E.docs.map(j=>{const R=j.data();return console.log("Comment from database:",{id:j.id,...R}),{id:j.id,...R}});alert(`Found ${N.length} comments in database. Check console for details.`),console.log("All comments from database:",N)}catch(v){console.error("Error checking comments:",v),alert(`Error checking comments: ${v.message}`)}};return l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading admin dashboard..."})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black py-20",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Admin Dashboard"}),a.jsxs("p",{className:"text-xl text-white/80",children:["Welcome, ",t==null?void 0:t.email,". Manage users and monitor investor interests."]})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:[a.jsx("button",{onClick:()=>h("interests"),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${d==="interests"?"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:"Investment Interests"}),a.jsx("button",{onClick:()=>h("hiring"),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${d==="hiring"?"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:"Hiring Requests"}),a.jsx("button",{onClick:()=>h("comments"),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${d==="comments"?"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:"Investor Comments"}),a.jsx("button",{onClick:()=>h("users"),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${d==="users"?"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:"Manage Users"}),a.jsx("button",{onClick:()=>h("overview"),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${d==="overview"?"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:"Overview"})]}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsx("a",{href:"/admin/invite",className:"px-6 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-full font-medium transition-all duration-300 hover:scale-105",children:"🚀 Invite Startups"}),a.jsx("a",{href:"/admin/email-test",className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full font-medium transition-all duration-300 hover:scale-105",children:"📧 Test Emails"}),a.jsx("a",{href:"/admin/auth-test",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full font-medium transition-all duration-300 hover:scale-105",children:"🔐 Test Auth"}),a.jsx("a",{href:"/admin/profile-manager",className:"px-6 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-full font-medium transition-all duration-300 hover:scale-105",children:"📄 Profile Manager"}),a.jsx("a",{href:"/admin/comment-test",className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-full font-medium transition-all duration-300 hover:scale-105",children:"💬 Test Comments"}),a.jsx("a",{href:"/admin/comment-debug",className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-full font-medium transition-all duration-300 hover:scale-105",children:"🔍 Comment Debug"})]}),d==="interests"&&a.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"Investment Interests"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.filter(v=>v.type==="investment").map((v,E)=>a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full flex items-center justify-center",children:a.jsx(rl,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold",children:"Investment Interest"}),a.jsx("p",{className:"text-white/60 text-sm",children:v.sector})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"Investor:"}),a.jsx("p",{className:"text-white font-medium",children:A(v.investorId)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"Startup:"}),a.jsx("p",{className:"text-white font-medium",children:v.startupName})]})]})]},`${v.investorId}-${v.startupId}`))})]}),d==="hiring"&&a.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"Hiring Requests"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.filter(v=>v.type==="hiring").map((v,E)=>a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#7d7eed] to-[#e86888] rounded-full flex items-center justify-center",children:a.jsx(Cs,{className:"text-white",size:20})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-semibold",children:"Hiring Request"}),a.jsx("p",{className:"text-white/60 text-sm",children:v.sector})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"Investor:"}),a.jsx("p",{className:"text-white font-medium",children:A(v.investorId)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"Startup:"}),a.jsx("p",{className:"text-white font-medium",children:v.startupName})]})]})]},`${v.investorId}-${v.startupId}`))})]}),d==="comments"&&a.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Investor Comments (",i.length,")"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:_,className:"bg-gradient-to-r from-green-600 to-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",children:[a.jsx(ai,{size:16}),"Refresh Data"]}),a.jsxs("button",{onClick:V,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",children:[a.jsx(ai,{size:16}),"Test Comment"]}),a.jsxs("button",{onClick:L,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",children:[a.jsx(ai,{size:16}),"Add Real Comment"]}),a.jsxs("button",{onClick:S,className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",children:[a.jsx(ai,{size:16}),"Check DB Comments"]})]})]}),(i||[]).length>0?a.jsx("div",{className:"space-y-6",children:Object.entries(i.reduce((v,E)=>{const N=E.investorId||E.investorName;return v[N]||(v[N]=[]),v[N].push(E),v},{})).map(([v,E])=>{var N;return a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-white/10",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full flex items-center justify-center",children:a.jsx(Ou,{className:"text-white",size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold text-lg",children:((N=E[0])==null?void 0:N.investorName)||"Unknown Investor"}),a.jsxs("p",{className:"text-white/60 text-sm",children:["Investor ID: ",v]}),a.jsxs("p",{className:"text-white/60 text-sm",children:["Total Comments: ",E.length]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map((j,R)=>a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:R*.1},children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:a.jsx(ai,{className:"text-white",size:16})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium text-sm",children:T(j.startupId)}),a.jsx("p",{className:"text-white/60 text-xs",children:new Date(j.timestamp).toLocaleString()})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-xs",children:"Comment:"}),a.jsx("p",{className:"text-white/90 text-sm mt-1",children:j.comment})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${j.type==="investment"?"bg-green-500/20 text-green-400":j.type==="hiring"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:j.type}),a.jsx("span",{className:"text-white/60 text-xs",children:new Date(j.timestamp).toLocaleDateString()})]})]})]},j.id))})]},v)})}):a.jsx("div",{className:"text-center text-white/60 text-xl",children:"No comments from investors yet."}),a.jsxs("div",{className:"mt-8 bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:"Debug Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Total Comments:"})," ",i.length]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Comments Data:"}),a.jsx("pre",{className:"text-white/80 text-xs mt-2 bg-black/20 p-3 rounded-md overflow-auto max-h-40",children:JSON.stringify(i,null,2)})]})]})]})]}),d==="users"&&a.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Manage Users"}),a.jsxs("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 flex items-center gap-2",children:[a.jsx(KF,{size:16}),"Add User"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(r||[]).map((v,E)=>a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full flex items-center justify-center",children:a.jsx(Cs,{className:"text-white",size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-semibold capitalize",children:v.role}),a.jsx("p",{className:"text-white/60 text-sm",children:v.email})]}),a.jsx("button",{onClick:()=>P(v.uid),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete user",children:a.jsx(HF,{size:16})})]}),a.jsxs("div",{className:"space-y-2",children:[v.displayName&&a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"Name:"}),a.jsx("p",{className:"text-white font-medium",children:v.displayName})]}),v.collegeId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"College ID:"}),a.jsx("p",{className:"text-white font-medium",children:v.collegeId})]}),v.investorId&&a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60 text-sm",children:"Investor ID:"}),a.jsx("p",{className:"text-white font-medium",children:v.investorId})]})]})]},v.uid))}),f&&a.jsx(X.div,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(X.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 w-full max-w-md border border-white/20",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Add New User"}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Email"}),a.jsx("input",{type:"email",value:y.email,onChange:v=>b({...y,email:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Password"}),a.jsx("input",{type:"password",value:y.password,onChange:v=>b({...y,password:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter password (min 6 characters)",minLength:6,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Display Name"}),a.jsx("input",{type:"text",value:y.displayName,onChange:v=>b({...y,displayName:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter display name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Role"}),a.jsxs("select",{value:y.role,onChange:v=>b({...y,role:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-[#e86888] transition-colors",children:[a.jsx("option",{value:"investor",children:"Investor"}),a.jsx("option",{value:"college",children:"College"}),a.jsx("option",{value:"admin",children:"Admin"})]})]}),y.role==="college"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"College ID"}),a.jsx("input",{type:"text",value:y.collegeId,onChange:v=>b({...y,collegeId:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter college ID",required:!0})]}),y.role==="investor"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-white text-sm font-medium mb-2",children:"Investor ID"}),a.jsx("input",{type:"text",value:y.investorId,onChange:v=>b({...y,investorId:v.target.value}),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] transition-colors",placeholder:"Enter investor ID",required:!0})]}),a.jsxs("div",{className:"bg-blue-500/20 border border-blue-500/50 rounded-lg p-4 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(MF,{className:"text-blue-400",size:16}),a.jsx("span",{className:"text-blue-400 font-medium",children:"Login Credentials"})]}),a.jsx("p",{className:"text-blue-200 text-sm",children:"The user will be able to login immediately with the email and password you provide."})]}),a.jsxs("div",{className:"flex gap-4 mt-6",children:[a.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-3 rounded-lg font-semibold transition-all duration-300 hover:scale-105",children:"Create User"}),a.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 bg-white/10 text-white py-3 rounded-lg font-semibold transition-all duration-300 hover:bg-white/20",children:"Cancel"})]})]})]})})]}),d==="overview"&&a.jsxs(X.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-8 text-center",children:"System Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[a.jsx($s,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:e.length}),a.jsx("p",{className:"text-white/70",children:"Total Startups"})]}),a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[a.jsx(Cs,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:r.filter(v=>v.role==="investor").length}),a.jsx("p",{className:"text-white/70",children:"Total Investors"})]}),a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[a.jsx($s,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:r.filter(v=>v.role==="college").length}),a.jsx("p",{className:"text-white/70",children:"Total Colleges"})]}),a.jsxs(X.div,{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 text-center",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[a.jsx(rl,{className:"text-white mx-auto mb-4",size:32}),a.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:w.length}),a.jsx("p",{className:"text-white/70",children:"Total Interests"})]})]})]}),d==="interests"&&w.filter(v=>v.type==="investment").length===0&&a.jsx("div",{className:"text-center text-white/60 text-xl",children:"No investment interests found."}),d==="hiring"&&w.filter(v=>v.type==="hiring").length===0&&a.jsx("div",{className:"text-center text-white/60 text-xl",children:"No hiring requests found."})]})})},ZF=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(!1),{currentUser:s,logout:i}=Yt(),o=uo(),l=co();C.useEffect(()=>{const _=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const c=[{name:"Home",href:"#hero"},{name:"About",href:"#about"},{name:"Startups",href:"#startups"},{name:"Creators",href:"#creators"},{name:"Journey",href:"#journey"},{name:"Mentors",href:"#mentors"},{name:"Vision",href:"#vision"},{name:"Gallery",href:"#gallery"},{name:"Join",href:"#join"}],d=_=>{const A=document.querySelector(_);A==null||A.scrollIntoView({behavior:"smooth"}),e(!1)},h=async()=>{try{await i(),o("/")}catch(_){console.error("Failed to log out:",_)}},p=(()=>{if(!s)return null;switch(s.role){case"investor":return{name:"Investor Dashboard",href:"/investor-dashboard"};case"college":return{name:"College Dashboard",href:"/college-dashboard"};case"admin":return{name:"Admin Dashboard",href:"/admin-dashboard"};default:return null}})(),y=l.pathname==="/login"||l.pathname==="/register",b=l.pathname.includes("-dashboard");return a.jsxs(X.nav,{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${n?"bg-black/20 backdrop-blur-md border-b border-white/10":"bg-transparent"}`,initial:{y:-100},animate:{y:0},transition:{duration:.6},children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx(X.div,{className:"flex-shrink-0",whileHover:{scale:1.05},children:a.jsx(Bo,{to:"/",children:a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent",children:"JAZBAA 4.0"})})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[!y&&!b&&c.map(_=>a.jsx("button",{onClick:()=>d(_.href),className:"text-white hover:text-[#e86888] px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:_.name},_.name)),s?a.jsxs("div",{className:"flex items-center space-x-4 ml-4",children:[p&&a.jsx(Bo,{to:p.href,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 hover:scale-105",children:p.name}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ou,{className:"text-white",size:16}),a.jsx("span",{className:"text-white text-sm",children:s.email})]}),a.jsxs("button",{onClick:h,className:"text-white hover:text-[#e86888] px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center gap-2",children:[a.jsx(k_,{size:16}),"Logout"]})]}):a.jsx("div",{className:"flex items-center space-x-4 ml-4",children:a.jsx(Bo,{to:"/login",className:"text-white hover:text-[#e86888] px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"Login"})})]})}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>e(!t),className:"text-white hover:text-[#e86888] transition-colors duration-200",children:t?a.jsx(AN,{size:24}):a.jsx(UF,{size:24})})})]})}),a.jsx(LS,{children:t&&a.jsx(X.div,{className:"md:hidden bg-black/90 backdrop-blur-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[!y&&!b&&c.map(_=>a.jsx("button",{onClick:()=>d(_.href),className:"text-white hover:text-[#e86888] block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors duration-200",children:_.name},_.name)),s?a.jsxs("div",{className:"border-t border-white/20 pt-4 mt-4",children:[p&&a.jsx(Bo,{to:p.href,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white block px-3 py-2 rounded-md text-base font-medium w-full text-center transition-all duration-300 hover:scale-105",children:p.name}),a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2",children:[a.jsx(Ou,{className:"text-white",size:16}),a.jsx("span",{className:"text-white text-sm",children:s.email})]}),a.jsxs("button",{onClick:h,className:"text-white hover:text-[#e86888] block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors duration-200 flex items-center gap-2",children:[a.jsx(k_,{size:16}),"Logout"]})]}):a.jsx("div",{className:"border-t border-white/20 pt-4 mt-4 space-y-2",children:a.jsx(Bo,{to:"/login",className:"text-white hover:text-[#e86888] block px-3 py-2 rounded-md text-base font-medium w-full text-left transition-colors duration-200",children:"Login"})})]})})})]})},e5=()=>{const[t,e]=C.useState(!1),n="xdVdOeRmEKg",r=()=>{e(!0)};return a.jsxs("section",{id:"hero",className:"relative min-h-screen bg-black overflow-hidden mt-24",children:[a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/5 bg-white  z-10"}),a.jsxs("div",{className:"relative z-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col justify-center",style:{height:"calc(100vh - 80px)"},children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-12",children:[a.jsxs("div",{className:"text-left",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-pink-400 via-purple-500 to-purple-600 bg-clip-text text-transparent",children:"Students. Startups."}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-500 to-cyan-400 bg-clip-text text-transparent",children:"Disruption Begins."})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("span",{className:"text-white text-base",children:"Established"}),a.jsx("div",{className:"text-white text-2xl font-bold",children:"2019"})]})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"border-l-2 border-white/30 pl-6 mb-8",children:a.jsxs("p",{className:"text-white text-lg leading-relaxed",children:[a.jsx("span",{className:"font-semibold",children:"Powered by LWJAZBAA"})," — India's biggest student-led startup revolution, where engineering minds become real-world creators."]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-pink-400 text-4xl md:text-5xl font-bold mb-1",children:"134+"}),a.jsx("div",{className:"text-white text-sm",children:"Startups"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-purple-400 text-4xl md:text-5xl font-bold mb-1",children:"500+"}),a.jsx("div",{className:"text-white text-sm",children:"Dreamers"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-cyan-400 text-4xl md:text-5xl font-bold mb-1",children:"45"}),a.jsx("div",{className:"text-white text-sm",children:"Days"})]})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"relative w-full max-w-5xl z-30",children:[t?a.jsx("div",{className:"w-full h-80 md:h-96 rounded-3xl overflow-hidden shadow-xl",children:a.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${n}?autoplay=1&rel=0&modestbranding=1`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"rounded-3xl"})}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"w-full h-80 md:h-96 rounded-3xl overflow-hidden relative cursor-pointer group shadow-xl",onClick:r,children:[a.jsx("img",{src:`https://img.youtube.com/vi/${n}/maxresdefault.jpg`,alt:"YouTube Video Thumbnail",className:"w-full h-full object-cover",onError:s=>{s.target.src=`https://img.youtube.com/vi/${n}/hqdefault.jpg`}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/40 via-pink-500/30 to-purple-800/40"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300",children:a.jsx("div",{className:"w-0 h-0 border-l-[20px] border-l-white border-t-[12px] border-t-transparent border-b-[12px] border-b-transparent ml-1"})})})]})}),a.jsx("p",{className:"text-gray-700 text-xl md:text-2xl font-semibold text-center pt-4",children:"Our Engineers Can be The Creators - Mr Vimal Daga"})]})})]})]})};var qm=new Map,vc=new WeakMap,P_=0,t5=void 0;function n5(t){return t?(vc.has(t)||(P_+=1,vc.set(t,P_.toString())),vc.get(t)):"0"}function r5(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?n5(t.root):t[e]}`).toString()}function s5(t){const e=r5(t);let n=qm.get(e);if(!n){const r=new Map;let s;const i=new IntersectionObserver(o=>{o.forEach(l=>{var c;const d=l.isIntersecting&&s.some(h=>l.intersectionRatio>=h);t.trackVisibility&&typeof l.isVisible>"u"&&(l.isVisible=d),(c=r.get(l.target))==null||c.forEach(h=>{h(d,l)})})},t);s=i.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:i,elements:r},qm.set(e,n)}return n}function i5(t,e,n={},r=t5){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const c=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:s,observer:i,elements:o}=s5(n),l=o.get(t)||[];return o.has(t)||o.set(t,l),l.push(e),i.observe(t),function(){l.splice(l.indexOf(e),1),l.length===0&&(o.delete(t),i.unobserve(t)),o.size===0&&(i.disconnect(),qm.delete(s))}}function ls({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:o,initialInView:l,fallbackInView:c,onChange:d}={}){var h;const[f,p]=C.useState(null),y=C.useRef(d),[b,_]=C.useState({inView:!!l,entry:void 0});y.current=d,C.useEffect(()=>{if(o||!f)return;let x;return x=i5(f,(P,V)=>{_({inView:P,entry:V}),y.current&&y.current(P,V),V.isIntersecting&&i&&x&&(x(),x=void 0)},{root:s,rootMargin:r,threshold:t,trackVisibility:n,delay:e},c),()=>{x&&x()}},[Array.isArray(t)?t.toString():t,f,s,r,i,o,n,c,e]);const A=(h=b.entry)==null?void 0:h.target,T=C.useRef(void 0);!f&&A&&!i&&!o&&T.current!==A&&(T.current=A,_({inView:!!l,entry:void 0}));const w=[p,b.inView,b.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}const o5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.2}),n=[{number:"134",label:"Startups",icon:a.jsx($s,{className:"text-white",size:24})},{number:"500+",label:"Creators",icon:a.jsx(Cs,{className:"text-white",size:24})},{number:"100+",label:"Colleges",icon:a.jsx(Iy,{className:"text-white",size:24})},{number:"20+",label:"States",icon:a.jsx(Ay,{className:"text-white",size:24})},{number:"9",label:"Sectors",icon:a.jsx(NN,{className:"text-white",size:24})}];return a.jsxs("section",{id:"about",className:"py-20 bg-gradient-to-br from-gray-900 to-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#543ef7]/10 to-[#9cecd5]/10"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"The Creator Movement of India"}),a.jsxs("p",{className:"text-lg md:text-xl text-white/80 mb-4",children:["Powered by Young Innovators and Mentored by"," ",a.jsx("span",{className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent font-semibold",children:"Vimal Daga Sir"})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("p",{className:"text-white/70 text-lg leading-relaxed",children:"JAZBAA isn't just about building startups—it's about building the future of India. We believe every engineering student has the potential to solve real problems and create meaningful impact. Through intensive mentorship, collaborative learning, and relentless execution, we transform ideas into reality in just 72 hours."})})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8",children:n.map((r,s)=>a.jsx(X.div,{className:"text-center group",initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{},transition:{duration:.6,delay:s*.1},children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 group-hover:border-[#e86888]/50 transition-all duration-300 group-hover:scale-105",children:[a.jsx("div",{className:"flex justify-center mb-4",children:r.icon}),a.jsx(X.div,{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent mb-2",initial:{opacity:0},animate:e?{opacity:1}:{},transition:{duration:1,delay:s*.2+.5},children:r.number}),a.jsx("p",{className:"text-white/80 font-medium",children:r.label})]})},r.label))})]})]})},a5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.1}),n=[{name:"Priya Sharma",role:"Co-Founder, MediCare AI",college:"IIT Delhi",city:"New Delhi",status:"Open to Hire",hasPitch:!0},{name:"Rahul Kumar",role:"Founder, FarmSmart",college:"NIT Trichy",city:"Chennai",status:"Continuing Startup Journey",hasPitch:!0},{name:"Ananya Patel",role:"CTO, HealthBridge",college:"BITS Pilani",city:"Mumbai",status:"Open to Hire",hasPitch:!1},{name:"Vikram Singh",role:"CEO, PayEasy",college:"DTU Delhi",city:"Bangalore",status:"Continuing Startup Journey",hasPitch:!0},{name:"Sneha Reddy",role:"Co-Founder, CropGuard",college:"VIT Vellore",city:"Hyderabad",status:"Open to Hire",hasPitch:!0},{name:"Arjun Mehta",role:"Founder, MicroLend",college:"Manipal University",city:"Pune",status:"Continuing Startup Journey",hasPitch:!1}];return a.jsxs("section",{id:"creators",className:"py-20 bg-gradient-to-br from-gray-900 to-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#543ef7]/10 to-[#9cecd5]/10"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Meet the Creators"}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"The brilliant minds behind JAZBAA's success stories. Students who transformed from learners to leaders in just 72 hours."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((r,s)=>a.jsxs(X.div,{className:"group bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 hover:border-[#e86888]/50 transition-all duration-300 hover:scale-105",initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:s*.1},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx("span",{className:"text-white text-2xl font-bold",children:r.name.split(" ").map(i=>i[0]).join("")})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:r.name}),a.jsx("p",{className:"text-[#e86888] font-medium mb-2",children:r.role}),a.jsxs("div",{className:"flex items-center justify-center gap-4 text-white/60 text-sm mb-4",children:[a.jsx("span",{children:r.college}),a.jsx("span",{children:"•"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ay,{size:12}),r.city]})]})]}),a.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[a.jsx("button",{className:"p-2 bg-blue-600/20 text-blue-400 rounded-lg hover:bg-blue-600/30 transition-colors duration-200",children:a.jsx(Ny,{size:18})}),a.jsx("button",{className:"p-2 bg-gray-600/20 text-gray-400 rounded-lg hover:bg-gray-600/30 transition-colors duration-200",children:a.jsx(Sy,{size:18})}),a.jsx("button",{className:"p-2 bg-purple-600/20 text-purple-400 rounded-lg hover:bg-purple-600/30 transition-colors duration-200",children:a.jsx(ro,{size:18})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${r.status==="Open to Hire"?"bg-green-500/20 text-green-400":"bg-blue-500/20 text-blue-400"}`,children:r.status}),r.hasPitch&&a.jsxs("button",{className:"w-full mt-3 bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-2 rounded-lg font-medium opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center gap-2",children:[a.jsx(Cd,{size:16}),"Watch My Pitch"]})]})]},r.name))}),a.jsx(X.div,{className:"text-center mt-12",initial:{opacity:0},animate:e?{opacity:1}:{},transition:{duration:.8,delay:.8},children:a.jsxs("button",{className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center gap-2 mx-auto",children:["View All Creators",a.jsx(Ey,{size:20})]})})]})]})},l5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.1}),n=[{day:"Day 1",title:"Team Formation & Ideation",description:"Students form diverse teams, brainstorm problems, and validate ideas through market research.",activities:["Team Building","Problem Identification","Market Research","Mentor Assignment"],color:"from-[#e86888] to-[#ff6b6b]"},{day:"Day 2",title:"UI/UX Design & Planning",description:"Teams create wireframes, design user interfaces on paper, and plan their technical architecture.",activities:["Wireframing","UI Design","User Journey Mapping","Tech Stack Planning"],color:"from-[#7d7eed] to-[#6c5ce7]"},{day:"Day 3",title:"Prototype & Pitch",description:"Final day to build working prototypes, prepare presentations, and pitch to investors.",activities:["Prototype Development","Pitch Preparation","Demo Recording","Final Presentations"],color:"from-[#9cecd5] to-[#00b894]"}];return a.jsxs("section",{id:"journey",className:"py-20 bg-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#e86888]/5 to-[#7d7eed]/5"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"The 72-Hour Journey"}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"From idea to prototype in just three days. Here's how ordinary students transformed into extraordinary entrepreneurs."})]}),a.jsx("div",{className:"space-y-12",children:n.map((r,s)=>a.jsxs(X.div,{className:"relative",initial:{opacity:0,x:s%2===0?-50:50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8,delay:s*.2},children:[a.jsxs("div",{className:`flex flex-col lg:flex-row items-center gap-8 ${s%2===1?"lg:flex-row-reverse":""}`,children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-r ${r.color} flex items-center justify-center`,children:a.jsx(EN,{className:"text-white",size:24})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:r.day}),a.jsx("h4",{className:"text-xl text-[#e86888] font-semibold",children:r.title})]})]}),a.jsx("p",{className:"text-white/70 text-lg leading-relaxed",children:r.description}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.activities.map(i=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full"}),a.jsx("span",{className:"text-white/80 text-sm",children:i})]},i))})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10",children:[a.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg flex items-center justify-center",children:a.jsx(Cd,{className:"text-white/60",size:48})}),a.jsxs("p",{className:"text-white/60 text-sm mt-4 text-center",children:["Watch ",r.day," highlights and learner stories"]})]})})]}),s<n.length-1&&a.jsx("div",{className:"flex justify-center my-8",children:a.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-[#e86888] to-[#7d7eed]"})})]},r.day))}),a.jsx(X.div,{className:"text-center mt-16 space-y-4",initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:1},children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center gap-2 justify-center",children:["Apply for Next JAZBAA",a.jsx(Ey,{size:20})]}),a.jsxs("button",{className:"bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-full font-semibold text-lg border border-white/20 transition-all duration-300 hover:bg-white/20 hover:scale-105 flex items-center gap-2 justify-center",children:["Bring JAZBAA to Campus",a.jsx($s,{size:20})]})]})})]})]})},c5=[{name:"Dr. A. P. J. Abdul Kalam",image:"https://randomuser.me/api/portraits/men/32.jpg",description:"Visionary mentor inspiring innovation and leadership among students."},{name:"Ms. Kiran Bedi",image:"https://randomuser.me/api/portraits/women/44.jpg",description:"Renowned leader guiding students towards impactful social change."},{name:"Mr. Sundar Pichai",image:"https://randomuser.me/api/portraits/men/45.jpg",description:"Tech mentor encouraging creative problem-solving and entrepreneurship."},{name:"Ms. Indra Nooyi",image:"https://randomuser.me/api/portraits/women/47.jpg",description:"Business mentor fostering strategic thinking and growth mindset."},{name:"Mr. Ratan Tata",image:"https://randomuser.me/api/portraits/men/50.jpg",description:"Industry mentor supporting innovation and ethical leadership."},{name:"Ms. Nirmala Sitharaman",image:"https://randomuser.me/api/portraits/women/51.jpg",description:"Policy mentor guiding students in economic and financial innovation."},{name:"Mr. Mukesh Ambani",image:"https://randomuser.me/api/portraits/men/52.jpg",description:"Business mentor inspiring digital transformation and innovation."},{name:"Ms. Arundhati Bhattacharya",image:"https://randomuser.me/api/portraits/women/53.jpg",description:"Leadership mentor fostering women empowerment in technology."},{name:"Mr. Azim Premji",image:"https://randomuser.me/api/portraits/men/54.jpg",description:"Philanthropy mentor encouraging social impact through technology."},{name:"Ms. Shobhana Bhartia",image:"https://randomuser.me/api/portraits/women/55.jpg",description:"Media mentor guiding students in communication and innovation."}],u5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.1}),[n,r]=C.useState(null);return a.jsxs("section",{id:"mentors",className:"py-20 bg-gradient-to-br from-gray-900 to-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#543ef7]/10 to-[#9cecd5]/10"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Investors & Mentors Wall"}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Backed by industry leaders, supported by visionary investors, and guided by experienced mentors who believe in the power of student innovation."})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8 mb-16",children:c5.map((s,i)=>a.jsx(X.div,{className:"group text-center cursor-pointer",initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:n===i?1.12:1}:{},transition:{duration:.5,delay:i*.1},onClick:()=>r(i===n?null:i),whileTap:{scale:1.08},children:a.jsxs("div",{className:`bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 transition-all duration-300 h-80 w-full flex flex-col justify-center ${n===i?"ring-4 ring-[#e86888]/40 scale-110 z-10":"group-hover:scale-110 group-hover:ring-4 group-hover:ring-[#e86888]/40"}`,children:[a.jsx("div",{className:"w-40 h-40 mx-auto mb-6 rounded-xl overflow-hidden border-4 border-gradient-to-r from-[#e86888] to-[#7d7eed] flex items-center justify-center bg-gradient-to-r from-[#e86888] to-[#7d7eed]",children:a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),a.jsx("h3",{className:"text-white font-semibold mb-2 text-lg",children:s.name}),a.jsx("p",{className:"text-white/70 text-sm",children:s.description})]})},s.name))})]})]})},d5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.1});return a.jsxs("section",{id:"vision",className:"py-20 bg-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#e86888]/10 to-[#7d7eed]/10"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Founder Vision"}),a.jsx("h3",{className:"text-2xl md:text-3xl bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent font-semibold mb-8",children:'"Every Student Deserves a Stage to Shine"'})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsx(X.div,{className:"space-y-6",initial:{opacity:0,x:-50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8,delay:.2},children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10",children:[a.jsx("p",{className:"text-white/80 text-lg leading-relaxed mb-6",children:`"When I see the fire in a student's eyes, the passion to solve real problems, and the courage to take on challenges bigger than themselves, I see the future of India. JAZBAA isn't just about building startups—it's about building character, resilience, and the unwavering belief that you can change the world."`}),a.jsx("p",{className:"text-white/80 text-lg leading-relaxed mb-6",children:`"Every student who walks into JAZBAA walks out transformed. They don't just learn to code or design—they learn to lead, to fail, to get back up, and to never give up on their dreams. This is what India needs: not just engineers, but nation-builders."`}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-[#e86888] to-[#7d7eed] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xl font-bold",children:"VD"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold text-lg",children:"Vimal Daga Sir"}),a.jsx("p",{className:"text-white/60",children:"Founder & Mentor, JAZBAA"})]})]})]})}),a.jsxs(X.div,{className:"space-y-6",initial:{opacity:0,x:50},animate:e?{opacity:1,x:0}:{},transition:{duration:.8,delay:.4},children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10",children:[a.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg flex items-center justify-center mb-4",children:a.jsx(Cd,{className:"text-white/60",size:64})}),a.jsx("p",{className:"text-white/60 text-center",children:"Watch Vimal Daga Sir's inspiring message about the future of student entrepreneurship"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 text-center",children:[a.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent mb-2",children:"10,000+"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Students Impacted"})]}),a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 text-center",children:[a.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent mb-2",children:"50+"}),a.jsx("p",{className:"text-white/60 text-sm",children:"Success Stories"})]})]})]})]})]})]})},h5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.1}),n=[{type:"news",title:"Featured in Times of India",source:"TOI"},{type:"testimonial",title:"Student Success Story",author:"Priya S."},{type:"social",title:"LinkedIn Post Viral",engagement:"10K+ likes"},{type:"video",title:"Demo Day Highlights",duration:"5:30"},{type:"news",title:"TechCrunch Coverage",source:"TC"},{type:"testimonial",title:"Mentor Feedback",author:"Industry Expert"}];return a.jsxs("section",{id:"gallery",className:"py-20 bg-gradient-to-br from-gray-900 to-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#543ef7]/10 to-[#9cecd5]/10"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Media & Impact Gallery"}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Celebrating our journey through news features, testimonials, and the incredible transformations of our JAZBAA community."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:n.map((r,s)=>a.jsxs(X.div,{className:"group bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-white/10 hover:border-[#e86888]/50 transition-all duration-300 hover:scale-105",initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:s*.1},children:[a.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg flex items-center justify-center mb-4",children:r.type==="video"?a.jsx(Cd,{className:"text-white/60",size:32}):a.jsx(ro,{className:"text-white/60",size:32})}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:r.title}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${r.type==="news"?"bg-blue-500/20 text-blue-400":r.type==="testimonial"?"bg-green-500/20 text-green-400":r.type==="social"?"bg-purple-500/20 text-purple-400":"bg-red-500/20 text-red-400"}`,children:r.type}),a.jsx("span",{className:"text-white/60",children:r.source||r.author||r.engagement||r.duration})]})]},s))}),a.jsx(X.div,{className:"text-center space-y-4",initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:.8},children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-8 py-4 rounded-full font-semibold text-lg transition-all duration-300 hover:scale-105 hover:shadow-xl flex items-center gap-2 justify-center",children:["Submit Your JAZBAA Story",a.jsx(SN,{size:20})]}),a.jsxs("button",{className:"bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-full font-semibold text-lg border border-white/20 transition-all duration-300 hover:bg-white/20 hover:scale-105 flex items-center gap-2 justify-center",children:["Download Media Kit",a.jsx(ro,{size:20})]})]})})]})]})},f5=()=>{const[t,e]=ls({triggerOnce:!0,threshold:.1}),n=[{title:"I'm a College",subtitle:"Bring JAZBAA to Campus",description:"Partner with us to transform your students into entrepreneurs",icon:a.jsx($s,{className:"text-white",size:32}),color:"from-[#e86888] to-[#ff6b6b]"},{title:"I'm a Company",subtitle:"Hire from JAZBAA",description:"Recruit passionate, skilled, and innovation-ready talent",icon:a.jsx(AF,{className:"text-white",size:32}),color:"from-[#7d7eed] to-[#6c5ce7]"},{title:"I'm an Investor",subtitle:"Fund a Startup",description:"Invest in the next generation of Indian innovators",icon:a.jsx(NN,{className:"text-white",size:32}),color:"from-[#9cecd5] to-[#00b894]"},{title:"I'm a Mentor",subtitle:"Share My Expertise",description:"Guide students and shape the future of entrepreneurship",icon:a.jsx(Cs,{className:"text-white",size:32}),color:"from-[#fd79a8] to-[#e84393]"},{title:"I'm a Student",subtitle:"Join the Next Cohort",description:"Transform your ideas into reality in just 72 hours",icon:a.jsx(SN,{className:"text-white",size:32}),color:"from-[#fdcb6e] to-[#e17055]"}];return a.jsxs("section",{id:"join",className:"py-20 bg-black relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#e86888]/10 to-[#7d7eed]/10"}),a.jsxs("div",{ref:t,className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(X.div,{className:"text-center mb-16",initial:{opacity:0,y:50},animate:e?{opacity:1,y:0}:{},transition:{duration:.8},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Join the Movement"}),a.jsx("p",{className:"text-xl text-white/80 max-w-3xl mx-auto",children:"Be part of India's largest student entrepreneurship movement. Choose your path and help us build the future, together."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:n.map((r,s)=>a.jsxs(X.div,{className:"group relative overflow-hidden bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 hover:border-[#e86888]/50 transition-all duration-300 hover:scale-105",initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.6,delay:s*.1},children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${r.color} flex items-center justify-center mb-6`,children:r.icon}),a.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:r.title}),a.jsx("h4",{className:"text-lg text-[#e86888] font-semibold mb-4",children:r.subtitle}),a.jsx("p",{className:"text-white/70 mb-6 leading-relaxed",children:r.description}),a.jsxs("button",{className:"w-full bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-3 rounded-lg font-medium opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center gap-2",children:["Get Started ",a.jsx(Ey,{size:16})]})]},r.title))}),a.jsx(X.div,{className:"text-center",initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{},transition:{duration:.8,delay:.8},children:a.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 max-w-2xl mx-auto",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Make Impact?"}),a.jsx("p",{className:"text-white/70 mb-6",children:"Join thousands of students, mentors, and industry leaders who are building the future of India, one startup at a time."}),a.jsx("button",{className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white px-12 py-4 rounded-full font-semibold text-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl",children:"Join JAZBAA Today"})]})})]})]})},m5=()=>a.jsxs("footer",{className:"bg-gradient-to-br from-gray-900 to-black py-16 relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#543ef7]/5 to-[#9cecd5]/5"}),a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-[#e86888] to-[#7d7eed] bg-clip-text text-transparent mb-4",children:"JAZBAA 4.0"}),a.jsx("p",{className:"text-white/70 mb-6 leading-relaxed",children:"Empowering the next generation of Indian entrepreneurs through intensive learning, collaborative innovation, and relentless execution."}),a.jsxs("div",{className:"space-y-2 text-white/60",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Ay,{size:16}),"New Delhi, India"]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Hm,{size:16}),"hello@jazbaa.com"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2 text-white/60",children:[a.jsx("li",{children:a.jsx("a",{href:"#about",className:"hover:text-[#e86888] transition-colors duration-200",children:"About JAZBAA"})}),a.jsx("li",{children:a.jsx("a",{href:"#startups",className:"hover:text-[#e86888] transition-colors duration-200",children:"Startups"})}),a.jsx("li",{children:a.jsx("a",{href:"#creators",className:"hover:text-[#e86888] transition-colors duration-200",children:"Creators"})}),a.jsx("li",{children:a.jsx("a",{href:"#journey",className:"hover:text-[#e86888] transition-colors duration-200",children:"Journey"})}),a.jsx("li",{children:a.jsx("a",{href:"#mentors",className:"hover:text-[#e86888] transition-colors duration-200",children:"Mentors"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Newsletter"}),a.jsx("p",{className:"text-white/60 mb-4 text-sm",children:"Get inspiring stories from JAZBAA, weekly"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"email",placeholder:"Your email",className:"w-full bg-white/10 backdrop-blur-md border border-white/20 rounded-lg px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]/50"}),a.jsx("button",{className:"w-full bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Subscribe"})]})]})]}),a.jsxs("div",{className:"border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("p",{className:"text-white/60 text-sm mb-4 md:mb-0",children:"© 2024 JAZBAA 4.0. All rights reserved."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:"#",className:"text-white/60 hover:text-[#e86888] transition-colors duration-200",children:a.jsx(Ny,{size:20})}),a.jsx("a",{href:"#",className:"text-white/60 hover:text-[#e86888] transition-colors duration-200",children:a.jsx(Sy,{size:20})}),a.jsx("a",{href:"#",className:"text-white/60 hover:text-[#e86888] transition-colors duration-200",children:a.jsx(Hm,{size:20})})]})]})]})]}),p5=()=>{const{currentUser:t}=Yt(),[e,n]=C.useState(""),[r,s]=C.useState(null),[i,o]=C.useState([]),[l,c]=C.useState(!1),d=async()=>{try{const _=pe(Z,"invites"),A=Td(_,vI("invitedAt","desc")),T=await Ve(A),w=[];T.forEach(x=>{const P=x.data();w.push({id:x.id,email:P.email,status:P.status,invitedBy:P.invitedBy,invitedAt:P.invitedAt.toDate(),token:P.token,startupSlug:P.startupSlug,inviteNumber:P.inviteNumber||1})}),o(w)}catch(_){console.error("Error fetching invites:",_)}};C.useEffect(()=>{d()},[]);const h=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),f=async _=>{if(_.preventDefault(),!e.trim()){s({type:"error",text:"Please enter an email address."});return}if(!t){s({type:"error",text:"You must be logged in to send invites."});return}c(!0),s(null);try{const A=i.filter(V=>V.email===e.trim()),T=h(),w={email:e.trim(),status:"pending",invitedBy:t.uid,invitedAt:new Date,token:T,inviteNumber:A.length+1},x=await ur(pe(Z,"invites"),w);console.log("Invite added to Firestore:",x.id);const P=`${window.location.origin}/register/${T}`;s({type:"success",text:`✅ Invite sent successfully to ${e.trim()}! 
        
📧 Invite link: ${P}
📋 Please send this link to the recipient manually.

💡 For automatic email sending, configure EmailJS in the email test page.`}),n(""),d()}catch(A){console.error("Error sending invite:",A),s({type:"error",text:"Failed to send invite. Please try again."})}finally{c(!1)}},p=_=>{const A=`${window.location.origin}/register/${_}`;navigator.clipboard.writeText(A),s({type:"success",text:"Invite link copied to clipboard!"})},y=_=>{const A=`${window.location.origin}/register/${_}`;window.open(A,"_blank")},b=i.reduce((_,A)=>(_[A.email]||(_[A.email]={count:0,statuses:[]}),_[A.email].count++,_[A.email].statuses.push(A.status),_),{});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"🚀 Invite Startups"}),a.jsx("p",{className:"text-xl text-gray-300",children:"Send invitations to startup teams to join JAZBAA 4.0"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"📧 Send Invitation"}),a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Startup Team Email"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:_=>n(_.target.value),placeholder:"startup@example.com",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsx("button",{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"📧 Sending...":"🚀 Send Invitation"})]}),r&&a.jsx("div",{className:`mt-4 p-4 rounded-lg ${r.type==="success"?"bg-green-900/30 border border-green-500/50 text-green-300":"bg-red-900/30 border border-red-500/50 text-red-300"}`,children:r.text})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"📋 Recent Invitations"}),i.length===0?a.jsx("p",{className:"text-gray-400",children:"No invitations sent yet."}):a.jsx("div",{className:"space-y-4",children:i.map(_=>a.jsx("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:_.email}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Sent ",_.invitedAt.toLocaleDateString()," at ",_.invitedAt.toLocaleTimeString()]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${_.status==="pending"?"bg-yellow-900/50 text-yellow-300":_.status==="registered"?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:_.status}),_.inviteNumber&&_.inviteNumber>1&&a.jsxs("span",{className:"px-2 py-1 bg-blue-900/50 text-blue-300 rounded-full text-xs",children:["Invite #",_.inviteNumber]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>p(_.token),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm transition-colors",children:"Copy Link"}),a.jsx("button",{onClick:()=>y(_.token),className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition-colors",children:"Open Link"})]})]})},_.id))})]}),Object.keys(b).length>0&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"📊 Invite Summary"}),a.jsx("div",{className:"space-y-3",children:Object.entries(b).map(([_,A])=>a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsx("p",{className:"font-medium",children:_}),a.jsxs("p",{className:"text-sm text-gray-400",children:["Total invites: ",A.count," | Statuses: ",A.statuses.join(", ")]})]},_))})]})]})})},g5=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!1),s=async()=>{r(!0),e(null);try{await new Promise(l=>setTimeout(l,1e3)),e("✅ Email connection test successful! Emails should be sent automatically.")}catch(l){e(`❌ Email test error: ${l}`)}finally{r(!1)}},i={service:"EmailJS",fromEmail:"intern.linuxworld@gmail.com",fromName:"JAZBAA Team",status:"Real Email Service - Automatic Sending",configRequired:"Please configure EmailJS credentials below"};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"📧 Email Service Test"}),a.jsx("p",{className:"text-xl text-gray-300",children:"Test and configure EmailJS for real email sending"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"📊 Current Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"Service"}),a.jsx("p",{children:i.service})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"From Email"}),a.jsx("p",{children:i.fromEmail})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"From Name"}),a.jsx("p",{children:i.fromName})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"Status"}),a.jsx("p",{children:i.status})]})]})]}),a.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-6 mb-8",children:[a.jsx("h3",{className:"text-yellow-400 font-semibold mb-4",children:"⚠️ Configuration Required"}),a.jsx("p",{className:"text-gray-300 mb-4",children:i.configRequired}),a.jsx("button",{onClick:s,disabled:n,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors disabled:opacity-50",children:n?"🧪 Testing...":"🧪 Test Email Connection"}),t&&a.jsx("div",{className:`mt-4 p-4 rounded-lg ${t.includes("✅")?"bg-green-900/30 border border-green-500/50 text-green-300":"bg-red-900/30 border border-red-500/50 text-red-300"}`,children:t})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"📋 EmailJS Setup Instructions"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("pre",{className:"bg-gray-800 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap",children:`
📧 **EmailJS Setup Instructions:**

1. **Sign up at EmailJS:**
   - Go to https://www.emailjs.com/
   - Create a free account

2. **Create Email Service:**
   - Go to Email Services
   - Add Gmail service
   - Connect your Gmail account (intern.linuxworld@gmail.com)

3. **Create Email Templates:**
   
   **Invite Template (Template ID: invite_template):**
   Subject: 🎉 You're Invited to Join JAZBAA 4.0!
   Body:
   Dear {{to_name}},
   
   You have been invited to join JAZBAA 4.0 - The Creator Movement of India!
   
   Click the link below to register your startup and create your profile:
   {{invite_link}}
   
   Best regards,
   {{from_name}}

   **Welcome Template (Template ID: welcome_template):**
   Subject: 🎉 Welcome to JAZBAA 4.0, {{startup_name}}!
   Body:
   Dear {{to_name}},
   
   Welcome to JAZBAA 4.0! Your startup "{{startup_name}}" has been successfully registered.
   
   View your profile at the link below:
   {{profile_link}}
   
   Best regards,
   {{from_name}}

4. **Get Your Credentials:**
   - Service ID: Copy from Email Services
   - Template IDs: Copy from Email Templates
   - Public Key: Copy from Account > API Keys

5. **Update Configuration:**
   Replace the placeholder values in realEmailService.ts with your actual credentials.
  `})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"🚀 Quick Setup Steps"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Sign up at EmailJS"}),a.jsxs("p",{className:"text-gray-300",children:["Go to ",a.jsx("a",{href:"https://www.emailjs.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"emailjs.com"})," and create a free account"]})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Create Email Service"}),a.jsx("p",{className:"text-gray-300",children:"Add Gmail service and connect your Gmail account (intern.linuxworld@gmail.com)"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Create Email Templates"}),a.jsx("p",{className:"text-gray-300",children:"Create two templates: one for invites and one for welcome emails"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:"4"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Get Credentials"}),a.jsx("p",{className:"text-gray-300",children:"Copy Service ID, Template IDs, and Public Key from EmailJS dashboard"})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:"5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Update Configuration"}),a.jsxs("p",{className:"text-gray-300",children:["Replace placeholder values in ",a.jsx("code",{className:"bg-gray-800 px-1 rounded",children:"src/services/realEmailService.ts"})]})]})]}),a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm font-bold",children:"6"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Test Connection"}),a.jsx("p",{className:"text-gray-300",children:'Click the "Test Email Connection" button above to verify setup'})]})]})]})]}),a.jsx("div",{className:"text-center mt-8",children:a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors",children:"← Back to Admin Dashboard"})})]})})},y5=async(t,e,n)=>{try{if(console.log("📤 Starting image upload:",{fileName:n,path:e,fileSize:t.size}),!t.type.startsWith("image/"))return{success:!1,error:"File must be an image"};if(t.size>5*1024*1024)return{success:!1,error:"File size must be less than 5MB"};const r=zI(Wg,`${e}/${n}`),s=await UI(r,t);console.log("✅ File uploaded successfully:",s.metadata.name);const i=await BI(s.ref);return console.log("🔗 Download URL generated:",i),{success:!0,url:i}}catch(r){return console.error("❌ Image upload failed:",r),{success:!1,error:r instanceof Error?r.message:"Upload failed"}}},v5=(t,e)=>{const n=Date.now(),r=Math.random().toString(36).substring(2,15),s=t.split(".").pop()||"jpg",i=t.split(".")[0].replace(/[^a-zA-Z0-9]/g,"_");return`${e?e+"_":""}${i}_${n}_${r}.${s}`},PN=async(t,e)=>{const n=v5(t.name,e.toLowerCase().replace(/\s+/g,"_"));return y5(t,"startup-logos",n)},x5=()=>{const{token:t}=J1(),e=uo(),[n,r]=C.useState(null),[s,i]=C.useState(!0),[o,l]=C.useState(!1),[c,d]=C.useState(null),[h,f]=C.useState({name:"",tagline:"",story:"",team:[{name:"",role:"",linkedin:"",github:"",portfolio:"",pitchVideo:"",hiring:!1}],website:"",appStore:"",playStore:"",demoUrl:"",qrCode:"",contactEmail:"",contactPhone:"",sector:"Technology",badges:[],special:"",problem:"",solution:"",productVideo:"",pitchDeck:"",collaborationMessage:"",logo:""}),[p,y]=C.useState(null),[b,_]=C.useState(null),[A,T]=C.useState(!1),[w,x]=C.useState(null);C.useEffect(()=>{(async()=>{if(!t){d({type:"error",text:"Invalid invite token."}),i(!1);return}try{const W=pe(Z,"invites"),Q=Td(W,yI("token","==",t)),U=await Ve(Q);if(U.empty){d({type:"error",text:"Invalid or expired invite token."}),i(!1);return}const K=U.docs[0],Y=K.data();if(Y.status==="registered"){d({type:"error",text:"This invite has already been used."}),i(!1);return}r({id:K.id,...Y}),f(le=>({...le,contactEmail:Y.email}))}catch(W){console.error("Error fetching invite:",W),d({type:"error",text:"Error loading invite. Please try again."})}finally{i(!1)}})()},[t]);const P=(O,W)=>{f(Q=>({...Q,[O]:W}))},V=(O,W,Q)=>{f(U=>({...U,team:U.team.map((K,Y)=>Y===O?{...K,[W]:Q}:K)}))},L=()=>{f(O=>({...O,team:[...O.team,{name:"",role:"",linkedin:"",github:"",portfolio:"",pitchVideo:"",hiring:!1}]}))},S=O=>{f(W=>({...W,team:W.team.filter((Q,U)=>U!==O)}))},v=O=>{f(W=>({...W,badges:W.badges.includes(O)?W.badges.filter(Q=>Q!==O):[...W.badges,O]}))},E=O=>O.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),N=O=>{var U;const W=(U=O.target.files)==null?void 0:U[0];if(!W)return;if(!W.type.startsWith("image/")){x("Please select an image file");return}if(W.size>5*1024*1024){x("File size must be less than 5MB");return}y(W),x(null);const Q=new FileReader;Q.onload=K=>{var Y;_((Y=K.target)==null?void 0:Y.result)},Q.readAsDataURL(W)},j=()=>{y(null),_(null),x(null),f(O=>({...O,logo:""}))},R=async()=>{if(!p||!h.name)return null;T(!0),x(null);try{console.log("📤 Starting logo upload...");const O=await PN(p,h.name);if(O.success&&O.url)return console.log("✅ Logo uploaded successfully to Firebase Storage:",O.url),O.url;{console.log("⚠️ Firebase Storage upload failed, using base64 fallback"),console.log("❌ Storage error:",O.error);const W=await k(p);return console.log("✅ Logo converted to base64 successfully"),W}}catch(O){console.error("❌ Logo upload error:",O);try{console.log("🔄 Attempting base64 fallback due to error...");const W=await k(p);return console.log("✅ Base64 fallback successful"),W}catch(W){return console.error("❌ Base64 conversion also failed:",W),x("Logo upload failed. Please try again or skip logo upload."),null}}finally{T(!1)}},k=O=>new Promise((W,Q)=>{const U=new FileReader;U.onload=()=>{W(U.result)},U.onerror=Q,U.readAsDataURL(O)}),oe=async O=>{if(O.preventDefault(),!n){d({type:"error",text:"Invalid invite."});return}console.log("📝 Form data being submitted:",h),console.log("📧 Invite data:",n),l(!0),d(null);try{const W=E(h.name);if(console.log("🚀 Creating PERMANENT startup profile with slug:",W),!h.name||!h.tagline||!h.story)throw new Error("Please fill in all required fields (Name, Tagline, and Story)");let Q=h.logo;if(p){if(console.log("📤 Uploading logo..."),Q=await R(),!Q)throw new Error("Logo upload failed. Please try again.");console.log("✅ Logo uploaded successfully:",Q)}const U={...h,slug:W,createdAt:new Date,status:"active",createdBy:n.email,name:h.name,tagline:h.tagline,story:h.story,sector:h.sector,badges:h.badges,team:h.team,website:h.website,appStore:h.appStore,playStore:h.playStore,demoUrl:h.demoUrl,contactEmail:h.contactEmail,contactPhone:h.contactPhone,productVideo:h.productVideo,pitchDeck:h.pitchDeck,qrCode:h.qrCode,problem:h.problem,solution:h.solution,collaborationMessage:h.collaborationMessage,individualPitches:h.individualPitches||[],logo:Q||void 0,isTemplateCompatible:!0,templateVersion:"1.0",profileCreatedAt:new Date,lastUpdated:new Date};console.log("💾 Saving PERMANENT startup profile data:",U);const K=We(Z,"startups",W);await Kt(K,U),console.log("✅ PERMANENT startup profile created successfully with ID:",W);try{const le=await Mn(K);if(le.exists()){const ge=le.data();console.log("✅ Data verification successful. Saved data:",ge)}else console.error("❌ Data verification failed - document not found after saving")}catch(le){console.error("❌ Data verification error:",le)}try{const le=We(Z,"permanent_profiles",W);await Kt(le,{...U,backupCreatedAt:new Date,originalCollection:"startups"}),console.log("✅ Backup profile created in permanent_profiles collection")}catch(le){console.warn("⚠️ Backup creation failed (optional):",le)}const Y=We(Z,"invites",n.id);await _i(Y,{status:"registered",startupSlug:W,registeredAt:new Date,profilePermanent:!0}),console.log("✅ Invite status updated with permanent profile reference"),console.log("📧 Simulating welcome email to:",h.contactEmail),console.log("🎯 PERMANENT Profile URL:",`${window.location.origin}/startup/${W}`),d({type:"success",text:`✅ Startup "${h.name}" registered successfully! 
        
🎯 Your PERMANENT profile is now live at: ${window.location.origin}/startup/${W}
📧 Welcome email sent to ${n.email}.
🔒 This profile page will remain accessible forever.`}),setTimeout(()=>{e(`/startup/${W}`)},3e3)}catch(W){console.error("❌ Error creating permanent startup profile:",W),d({type:"error",text:`Failed to create permanent startup profile: ${W instanceof Error?W.message:"Unknown error"}. Please try again.`})}finally{l(!1)}};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),a.jsx("p",{children:"Loading invite..."})]})}):(c==null?void 0:c.type)==="error"?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[a.jsx("div",{className:"text-red-400 text-6xl mb-4",children:"❌"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Invalid Invite"}),a.jsx("p",{className:"text-gray-300 mb-6",children:c.text}),a.jsx("button",{onClick:()=>e("/"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Go Home"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"🚀 Register Your Startup"}),a.jsx("p",{className:"text-xl text-gray-300",children:"Complete your startup profile for JAZBAA 4.0"})]}),a.jsxs("form",{onSubmit:oe,className:"space-y-8",children:[a.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:[a.jsx("h3",{className:"text-yellow-400 font-semibold mb-2",children:"🔧 Debug Info"}),a.jsxs("p",{className:"text-yellow-300 text-sm mb-2",children:["Form Data: ",JSON.stringify(h,null,2)]}),a.jsxs("p",{className:"text-yellow-300 text-sm",children:["Invite: ",n?"Valid":"Invalid"]}),a.jsx("button",{type:"button",onClick:()=>{console.log("🔍 Debug: Form data:",h),console.log("🔍 Debug: Invite:",n),alert("Check browser console for debug info")},className:"px-4 py-2 bg-yellow-600 text-white rounded text-sm",children:"Test Form Data"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"🚀 Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Startup Name *"}),a.jsx("input",{type:"text",value:h.name,onChange:O=>P("name",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Enter startup name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Tagline *"}),a.jsx("input",{type:"text",value:h.tagline,onChange:O=>P("tagline",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Short, memorable tagline",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Sector *"}),a.jsxs("select",{value:h.sector,onChange:O=>P("sector",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-[#e86888]",required:!0,children:[a.jsx("option",{value:"",children:"Select sector"}),a.jsx("option",{value:"HealthTech",children:"HealthTech"}),a.jsx("option",{value:"EdTech",children:"EdTech"}),a.jsx("option",{value:"FinTech",children:"FinTech"}),a.jsx("option",{value:"E-commerce",children:"E-commerce"}),a.jsx("option",{value:"AI/ML",children:"AI/ML"}),a.jsx("option",{value:"IoT",children:"IoT"}),a.jsx("option",{value:"Sustainability",children:"Sustainability"}),a.jsx("option",{value:"Entertainment",children:"Entertainment"}),a.jsx("option",{value:"Social Impact",children:"Social Impact"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Contact Email"}),a.jsx("input",{type:"email",value:h.contactEmail,onChange:O=>P("contactEmail",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"contact@startup.com"})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"🖼️ Startup Logo"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Upload Logo (Optional)"}),a.jsx("input",{type:"file",accept:"image/*",onChange:N,className:"hidden",id:"logo-upload"}),a.jsxs("label",{htmlFor:"logo-upload",className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white rounded-lg cursor-pointer hover:scale-105 transition-all",children:[a.jsx(qF,{size:16}),"Choose Logo"]}),p&&a.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all",children:[a.jsx(AN,{size:16}),"Remove"]})]}),w&&a.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[a.jsx(TN,{size:16}),w]}),A&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-400 text-sm",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-400"}),"Uploading logo..."]}),b&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"text-white/80 mb-2",children:"Logo Preview:"}),a.jsx("div",{className:"w-32 h-32 border-2 border-white/20 rounded-lg overflow-hidden bg-white/10",children:a.jsx("img",{src:b,alt:"Logo preview",className:"w-full h-full object-contain"})})]}),a.jsx("p",{className:"text-white/60 text-sm",children:"Upload your startup logo (PNG, JPG, GIF). Max size: 5MB. This will be displayed on your profile page and startup cards."})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"📖 Story & Problem"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Our Story *"}),a.jsx("textarea",{value:h.story,onChange:O=>P("story",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] resize-none",rows:4,placeholder:"Tell the story behind your startup - what inspired you, what problem you're solving...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"The Problem We're Solving"}),a.jsx("textarea",{value:h.problem,onChange:O=>P("problem",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] resize-none",rows:3,placeholder:"Describe the specific problem or gap in the market that your startup addresses..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Our Solution"}),a.jsx("textarea",{value:h.solution,onChange:O=>P("solution",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] resize-none",rows:3,placeholder:"Explain how your product/service solves the problem..."})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"🎬 Product & Media"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Product Video URL"}),a.jsx("input",{type:"url",value:h.productVideo,onChange:O=>P("productVideo",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"YouTube or video link"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Pitch Deck URL"}),a.jsx("input",{type:"url",value:h.pitchDeck,onChange:O=>P("pitchDeck",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Google Slides or PDF link"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Website URL"}),a.jsx("input",{type:"url",value:h.website,onChange:O=>P("website",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"https://yourstartup.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Demo URL"}),a.jsx("input",{type:"url",value:h.demoUrl,onChange:O=>P("demoUrl",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Live demo link"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"App Store Link"}),a.jsx("input",{type:"url",value:h.appStore,onChange:O=>P("appStore",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"iOS App Store link"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Play Store Link"}),a.jsx("input",{type:"url",value:h.playStore,onChange:O=>P("playStore",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Google Play Store link"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"QR Code URL"}),a.jsx("input",{type:"url",value:h.qrCode,onChange:O=>P("qrCode",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"QR code image URL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Contact Phone"}),a.jsx("input",{type:"tel",value:h.contactPhone,onChange:O=>P("contactPhone",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"+91 98765 43210"})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"👥 Team Members"}),a.jsxs("div",{className:"space-y-4",children:[h.team.map((O,W)=>a.jsxs("div",{className:"border border-white/20 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h4",{className:"text-white font-medium",children:["Team Member ",W+1]}),a.jsx("button",{type:"button",onClick:()=>S(W),className:"text-red-400 hover:text-red-300",children:"Remove"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:O.name,onChange:Q=>V(W,"name",Q.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Role *"}),a.jsx("input",{type:"text",value:O.role,onChange:Q=>V(W,"role",Q.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Frontend, Backend, UX, ML, etc.",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"LinkedIn URL"}),a.jsx("input",{type:"url",value:O.linkedin||"",onChange:Q=>V(W,"linkedin",Q.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"LinkedIn profile URL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"GitHub URL"}),a.jsx("input",{type:"url",value:O.github||"",onChange:Q=>V(W,"github",Q.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"GitHub profile URL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Portfolio URL"}),a.jsx("input",{type:"url",value:O.portfolio||"",onChange:Q=>V(W,"portfolio",Q.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Personal portfolio URL"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Pitch Video URL"}),a.jsx("input",{type:"url",value:O.pitchVideo||"",onChange:Q=>V(W,"pitchVideo",Q.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888]",placeholder:"Individual pitch video URL"})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("label",{className:"flex items-center text-white/80 mb-2",children:[a.jsx("input",{type:"checkbox",checked:O.hiring,onChange:Q=>V(W,"hiring",Q.target.checked),className:"mr-2"}),"Available for Hiring"]})})]})]},W)),a.jsx("button",{type:"button",onClick:L,className:"w-full py-3 bg-white/10 border border-white/20 text-white rounded-lg hover:bg-white/20 transition-colors",children:"+ Add Team Member"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"🏷️ Badges & Tags"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Select Badges"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:["Open to Invest","Open to Hire","Incubator Ready","MVP Ready","Revenue Generating","Patent Pending","CSR Eligible","Grant Eligible"].map(O=>a.jsxs("label",{className:"flex items-center text-white/80",children:[a.jsx("input",{type:"checkbox",checked:h.badges.includes(O),onChange:()=>v(O),className:"mr-2"}),O]},O))})]})})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4 text-white",children:"🤝 Collaboration"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-white/80 mb-2",children:"Collaboration Message"}),a.jsx("textarea",{value:h.collaborationMessage,onChange:O=>P("collaborationMessage",O.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/50 focus:outline-none focus:border-[#e86888] resize-none",rows:3,placeholder:"We're open to funding, incubation, mentorship, or partnership..."})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"submit",disabled:o,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-4 px-8 rounded-lg text-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"🚀 Creating Profile...":"🚀 Create Startup Profile"})}),c&&a.jsx("div",{className:`mt-6 p-4 rounded-lg ${c.type==="success"?"bg-green-900/30 border border-green-500/50 text-green-300":"bg-red-900/30 border border-red-500/50 text-red-300"}`,children:c.text})]})]})})},w5=()=>{const{slug:t}=J1(),[e,n]=C.useState(null),[r,s]=C.useState(!0),[i,o]=C.useState(null);return ls({triggerOnce:!0,threshold:.1}),C.useEffect(()=>{(async()=>{if(!t){o("Invalid startup slug."),s(!1);return}try{console.log("🔍 Fetching startup profile for slug:",t);const c=We(Z,"startups",t),d=await Mn(c);let h=null;if(d.exists())h=d.data(),console.log("✅ Startup data fetched from main collection:",h);else{console.log("🔄 Startup not found in main collection, checking backup...");try{const p=We(Z,"permanent_profiles",t),y=await Mn(p);if(y.exists())h=y.data(),console.log("✅ Startup data fetched from backup collection:",h);else{console.log("❌ Startup not found in either collection for slug:",t),o("Startup profile not found. This profile may have been moved or deleted."),s(!1);return}}catch(p){console.error("❌ Error checking backup collection:",p),o("Startup profile not found. This profile may have been moved or deleted."),s(!1);return}}const f={...h,name:h.name||"Unknown Startup",tagline:h.tagline||"No tagline available",story:h.story||"No story available",team:h.team||[],badges:h.badges||[],sector:h.sector||"Technology",slug:h.slug||t,problem:h.problem||"Problem description not available",solution:h.solution||"Solution description not available",collaborationMessage:h.collaborationMessage||"We are open to collaboration, funding, and partnerships.",individualPitches:h.individualPitches||[],contactEmail:h.contactEmail||"contact@startup.com",contactPhone:h.contactPhone||"Not provided",demoUrl:h.demoUrl||null,appStore:h.appStore||null,playStore:h.playStore||null,qrCode:h.qrCode||null,productVideo:h.productVideo||null,pitchDeck:h.pitchDeck||null,website:h.website||null,logo:h.logo||void 0};n(f),console.log("✅ Startup profile processed and set:",f)}catch(c){console.error("❌ Error fetching startup profile:",c),o("Error loading startup profile. Please try again later.")}finally{s(!1)}})()},[t]),r?a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading startup profile..."})]})}):i||!e?a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"❌"}),a.jsx("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Startup Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:i||"The requested startup profile could not be found."}),a.jsx("button",{onClick:()=>window.history.back(),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Go Back"})]})}):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("section",{className:"relative bg-black py-20 px-6 lg:px-16 overflow-hidden",children:a.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 items-center gap-12",children:[a.jsxs("div",{className:"bg-gradient-to-b from-neutral-900 to-black rounded-3xl shadow-2xl p-10 relative z-20",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-6 leading-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-pink-400 via-purple-500 to-blue-500 bg-clip-text text-transparent",children:e.name})}),a.jsx("p",{className:"text-xl md:text-2xl font-medium mb-10 text-gray-200",children:e.tagline}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.productVideo&&a.jsxs("button",{className:"px-6 py-3 rounded-lg font-semibold flex items-center gap-2 text-white bg-gradient-to-r from-pink-400 to-purple-500 hover:scale-105 transform transition-all duration-300",children:[a.jsx(C_,{className:"w-5 h-5"}),"Watch Product Video"]}),e.website&&a.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 rounded-lg font-semibold flex items-center gap-2 text-white bg-white/10 border border-white/20 hover:bg-white/20 hover:scale-105 transform transition-all duration-300",children:[a.jsx(ro,{className:"w-5 h-5"}),"Explore Website / App"]}),a.jsxs("button",{className:"px-6 py-3 rounded-lg font-semibold flex items-center gap-2 text-white bg-white/10 border border-white/20 hover:bg-white/20 hover:scale-105 transform transition-all duration-300",children:[a.jsx(Cs,{className:"w-5 h-5"}),"Meet the Team"]})]})]}),a.jsx("div",{className:"flex justify-center md:justify-end relative",children:a.jsx("div",{className:"bg-white rounded-full shadow-2xl w-72 h-72 flex items-center justify-center absolute md:right-[-50px] z-10",children:e.logo?a.jsx("img",{src:e.logo,alt:`${e.name} logo`,className:"w-44 h-44 object-contain"}):a.jsx("div",{className:"text-gray-500",children:"No Logo"})})})]})}),a.jsx("section",{className:"py-20 px-4",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Why We Built This"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 font-medium",children:"Born from a real problem. Built with purpose."}),a.jsxs("div",{className:"text-lg text-gray-700 space-y-6 leading-relaxed",children:[a.jsx("p",{children:e.story}),e.problem&&a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:[a.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"The Problem"}),a.jsx("p",{className:"text-red-700",children:e.problem})]}),e.solution&&a.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:[a.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Our Solution"}),a.jsx("p",{className:"text-green-700",children:e.solution})]})]})]}),a.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-purple-500 rounded-2xl h-96 flex items-center justify-center text-white shadow-2xl",children:a.jsxs("div",{className:"text-center",children:[a.jsx(OF,{className:"w-16 h-16 mx-auto mb-4"}),a.jsx("div",{className:"text-xl font-semibold",children:"Innovation Story"}),a.jsxs("div",{className:"text-sm opacity-80 mt-2",children:[e.sector," Sector"]})]})})]})})}),e.productVideo&&a.jsx("section",{className:"py-20 px-4 bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Our Product in Action"}),a.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-3xl mx-auto",children:"Solving a Real Problem, One Feature at a Time."}),a.jsx("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl h-96 flex items-center justify-center text-white shadow-2xl max-w-4xl mx-auto",children:a.jsxs("div",{className:"text-center",children:[a.jsx(C_,{className:"w-20 h-20 mx-auto mb-4"}),a.jsx("div",{className:"text-2xl font-semibold",children:"Product Demo Video"}),a.jsx("div",{className:"text-sm opacity-80 mt-2",children:"2-4 minute overview"})]})})]})}),e.pitchDeck&&a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"See Our Vision"}),a.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-3xl mx-auto",children:"View our Investor Pitch Deck to know our mission, model, and market."}),a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-4xl mx-auto",children:a.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-teal-400 rounded-xl h-96 flex items-center justify-center text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx(BF,{className:"w-20 h-20 mx-auto mb-4"}),a.jsx("div",{className:"text-2xl font-semibold",children:"Investor Pitch Deck"}),a.jsx("div",{className:"text-sm opacity-80 mt-2 mb-6",children:"Google Slides Embedded"}),a.jsxs("a",{href:e.pitchDeck,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-6 py-3 bg-white bg-opacity-20 backdrop-blur-md rounded-lg font-semibold hover:bg-opacity-30 transition-all mx-auto",children:[a.jsx(jF,{className:"w-5 h-5"}),"Download PDF"]})]})})})]})}),a.jsx("section",{className:"py-20 px-4 bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Brains Behind the Build"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Student Innovators Who Dared to Dream & Do"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.team.map((l,c)=>a.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-teal-400 rounded-full mx-auto mb-6 flex items-center justify-center text-white text-2xl font-bold",children:l.name.split(" ").map(d=>d[0]).join("")}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:l.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:l.role}),a.jsxs("div",{className:"flex gap-3 justify-center mb-4",children:[l.linkedin&&a.jsx("a",{href:l.linkedin,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 hover:bg-gradient-to-r hover:from-pink-500 hover:to-purple-600 hover:text-white transition-all",children:a.jsx(Ny,{className:"w-5 h-5"})}),l.github&&a.jsx("a",{href:l.github,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 hover:bg-gradient-to-r hover:from-pink-500 hover:to-purple-600 hover:text-white transition-all",children:a.jsx(Sy,{className:"w-5 h-5"})}),l.portfolio&&a.jsx("a",{href:l.portfolio,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center text-gray-600 hover:bg-gradient-to-r hover:from-pink-500 hover:to-purple-600 hover:text-white transition-all",children:a.jsx(Ou,{className:"w-5 h-5"})})]}),l.hiring&&a.jsx("span",{className:"inline-block bg-gradient-to-r from-purple-500 to-teal-400 text-white px-4 py-2 rounded-full text-sm font-medium",children:"Available for Hiring"})]},c))})]})}),e.team.some(l=>l.pitchVideo)&&a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Want to Hire Our Talent?"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Beyond Founders — Talented Developers Open to Opportunities"})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:e.team.filter(l=>l.pitchVideo).map((l,c)=>a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300",children:[a.jsx("div",{className:"bg-gradient-to-br from-pink-400 to-purple-500 rounded-xl h-64 flex items-center justify-center text-white mb-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(kF,{className:"w-16 h-16 mx-auto mb-4"}),a.jsxs("div",{className:"text-xl font-semibold",children:[l.name,"'s Pitch"]}),a.jsx("div",{className:"text-sm opacity-80 mt-2",children:"2-minute video"})]})}),a.jsx("h3",{className:"text-2xl font-semibold mb-3",children:l.role}),a.jsx("p",{className:"text-gray-600",children:"Passionate about creating innovative solutions and leading development teams."})]},c))})]})}),a.jsx("section",{className:"py-20 px-4 bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Try It Yourself"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Experience our platform firsthand"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.demoUrl&&a.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[a.jsx(VF,{className:"w-16 h-16 text-indigo-600 mx-auto mb-6"}),a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Live Website"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Explore our full-featured web application with all the latest features."}),a.jsxs("a",{href:e.demoUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-semibold hover:-translate-y-1 transition-all mx-auto",children:[a.jsx(ro,{className:"w-5 h-5"}),"Visit Website"]})]}),(e.appStore||e.playStore)&&a.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[a.jsx(WF,{className:"w-16 h-16 text-pink-500 mx-auto mb-6"}),a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Mobile App"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Download our mobile app for iOS and Android devices."}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[e.appStore&&a.jsxs("a",{href:e.appStore,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-all",children:[a.jsx(NF,{className:"w-4 h-4"}),"iOS"]}),e.playStore&&a.jsxs("a",{href:e.playStore,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition-all",children:[a.jsx(PF,{className:"w-4 h-4"}),"Android"]})]})]}),e.qrCode&&a.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-lg hover:shadow-2xl hover:-translate-y-2 transition-all duration-300",children:[a.jsx("div",{className:"w-32 h-32 bg-white border-2 border-gray-200 rounded-2xl mx-auto mb-6 flex items-center justify-center shadow-md",children:a.jsx(zF,{className:"w-20 h-20 text-purple-500"})}),a.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"QR Code Access"}),a.jsx("p",{className:"text-gray-600",children:"Scan for instant access to our platform"})]})]})]})}),a.jsx("section",{className:"py-20 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-pink-500 to-purple-600 bg-clip-text text-transparent mb-4",children:"Take Our Dream Further"}),a.jsx("p",{className:"text-xl text-gray-600 mb-12 max-w-3xl mx-auto",children:e.collaborationMessage}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.contactEmail&&a.jsxs("a",{href:`mailto:${e.contactEmail}`,className:"flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-xl font-semibold hover:-translate-y-1 transition-all shadow-lg",children:[a.jsx(Hm,{className:"w-5 h-5"}),"Contact Founders"]}),a.jsxs("button",{className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-700 rounded-xl font-semibold hover:border-gray-300 hover:-translate-y-1 transition-all shadow-sm",children:[a.jsx(EN,{className:"w-5 h-5"}),"Book a 1:1 Call"]}),a.jsxs("button",{className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 hover:-translate-y-1 transition-all",children:[a.jsx(RF,{className:"w-5 h-5"}),"Request Detailed Deck"]}),a.jsxs("button",{className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 hover:-translate-y-1 transition-all",children:[a.jsx(LF,{className:"w-5 h-5"}),"Support via CSR"]})]})]})}),a.jsx("footer",{className:"bg-gray-900 text-white py-16 px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[a.jsxs("div",{className:"flex gap-8 justify-center items-center mb-8 flex-wrap",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl flex items-center justify-center",children:a.jsx(IN,{className:"w-8 h-8"})}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-teal-400 rounded-xl flex items-center justify-center",children:a.jsx(kN,{className:"w-8 h-8"})}),a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-400 to-purple-500 rounded-xl flex items-center justify-center",children:a.jsx(CF,{className:"w-8 h-8"})})]}),a.jsx("p",{className:"text-gray-300 italic text-lg mb-4",children:'"Built with passion during The Creator Program 2025 under the mentorship of Mr. Vimal Daga."'}),a.jsx("p",{className:"text-gray-400 text-sm",children:"JAZBAA × LinuxWorld | Empowering Student Innovation"})]})})]})},_5="modulepreload",b5=function(t){return"/"+t},j_={},T5=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=b5(c),c in j_)return;j_[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":_5,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},E5=()=>{const{currentUser:t,loading:e}=Yt(),[n,r]=C.useState(null),s=async()=>{r("Testing Firebase connection...");try{const{db:i}=await T5(async()=>{const{db:o}=await Promise.resolve().then(()=>FM);return{db:o}},void 0);r("✅ Firebase connection successful!")}catch(i){r(`❌ Firebase connection failed: ${i}`)}};return e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),a.jsx("p",{children:"Loading authentication..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"🔐 Authentication Test"}),a.jsx("p",{className:"text-xl text-gray-300",children:"Test Firebase authentication and user management"})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"👤 Current User Status"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"Authentication Status"}),a.jsx("p",{className:t?"text-green-400":"text-red-400",children:t?"✅ Authenticated":"❌ Not Authenticated"})]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"User Email"}),a.jsx("p",{children:t.email})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"User Role"}),a.jsx("p",{className:"capitalize",children:t.role})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-blue-400",children:"User ID"}),a.jsx("p",{className:"text-sm font-mono",children:t.uid})]})]})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"🔥 Firebase Connection Test"}),a.jsx("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Test Firebase Connection"}),n&&a.jsx("div",{className:`mt-4 p-4 rounded-lg ${n.includes("✅")?"bg-green-900/30 border border-green-500/50 text-green-300":"bg-red-900/30 border border-red-500/50 text-red-300"}`,children:n})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"📋 Authentication Instructions"}),a.jsxs("div",{className:"space-y-4 text-gray-300",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:"For Testing:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[a.jsx("li",{children:"Go to the login page to test authentication"}),a.jsx("li",{children:"Create real users in Firebase Console"}),a.jsx("li",{children:"Test different user roles (admin, investor, college)"}),a.jsx("li",{children:"Verify automatic redirection to appropriate dashboards"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white mb-2",children:"Firebase Console Setup:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[a.jsx("li",{children:"Enable Authentication in Firebase Console"}),a.jsx("li",{children:"Create users with email/password"}),a.jsx("li",{children:"Add user documents to Firestore with role information"}),a.jsx("li",{children:"Set up Firestore security rules"})]})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg transition-colors mr-4",children:"← Go Back"}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Go to Login"})]})]})})};class I5 extends C.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center max-w-md mx-auto",children:[a.jsx("div",{className:"text-red-400 text-6xl mb-4",children:"⚠️"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors",children:"Refresh Page"}),this.state.error&&a.jsxs("details",{className:"mt-6 text-left",children:[a.jsx("summary",{className:"cursor-pointer text-sm text-gray-400",children:"Error Details"}),a.jsx("pre",{className:"mt-2 text-xs text-red-300 bg-red-900/20 p-3 rounded overflow-auto",children:this.state.error.toString()})]})]})}):this.props.children}}const S5=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(null),s=async()=>{e(!0),r(null);try{console.log("🔄 Starting profile management...");const i=await GF();r({success:!0,message:`Successfully ensured ${i.length} startup profiles exist!`,profilesCreated:i}),console.log("✅ Profile management completed:",i)}catch(i){console.error("❌ Profile management failed:",i),r({success:!1,message:`Failed to ensure startup profiles: ${i instanceof Error?i.message:"Unknown error"}`})}finally{e(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-4xl font-bold mb-6 text-center bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Startup Profile Manager"}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-8 border border-white/20",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Ensure All Startup Profiles"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"This tool ensures that all startups in the database have complete profile pages created. It will automatically create profile pages for any startups that don't have them yet."}),a.jsx("button",{onClick:s,disabled:t,className:"px-8 py-4 bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3",children:t?a.jsxs(a.Fragment,{children:[a.jsx(FF,{className:"animate-spin",size:20}),"Ensuring Profiles..."]}):a.jsxs(a.Fragment,{children:[a.jsx(A_,{size:20}),"Ensure All Startup Profiles"]})}),n&&a.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`mt-6 p-4 rounded-lg border ${n.success?"bg-green-500/10 border-green-500/30 text-green-300":"bg-red-500/10 border-red-500/30 text-red-300"}`,children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.success?a.jsx(A_,{size:20,className:"text-green-400"}):a.jsx(TN,{size:20,className:"text-red-400"}),a.jsx("span",{className:"font-semibold",children:n.success?"Success":"Error"})]}),a.jsx("p",{className:"text-sm",children:n.message}),n.success&&n.profilesCreated&&n.profilesCreated.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Profiles Created:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:n.profilesCreated.map((i,o)=>a.jsx("div",{className:"bg-white/5 rounded-lg p-2 text-xs",children:i},o))})]})]})]}),a.jsxs("div",{className:"mt-8 bg-white/5 rounded-2xl p-6 border border-white/10",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"How It Works"}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-300",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500/20 border border-blue-500/30 rounded-full flex items-center justify-center text-blue-300 text-xs font-bold mt-0.5",children:"1"}),a.jsx("p",{children:"Scans all startups in the database to check if they have complete profile pages."})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500/20 border border-blue-500/30 rounded-full flex items-center justify-center text-blue-300 text-xs font-bold mt-0.5",children:"2"}),a.jsx("p",{children:"For startups without profiles, creates basic profile data with all required fields."})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500/20 border border-blue-500/30 rounded-full flex items-center justify-center text-blue-300 text-xs font-bold mt-0.5",children:"3"}),a.jsx("p",{children:"Saves profiles to both main collection and backup collection for permanence."})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-blue-500/20 border border-blue-500/30 rounded-full flex items-center justify-center text-blue-300 text-xs font-bold mt-0.5",children:"4"}),a.jsx("p",{children:'Ensures all "View Details" buttons redirect to the correct profile pages.'})]})]})]})]})})})},N5=()=>{const[t,e]=C.useState(""),[n,r]=C.useState({}),s=async()=>{try{e("Testing Firestore...");const d={name:"Test Startup",tagline:"Test Tagline",createdAt:new Date,test:!0},h=We(Z,"test","firestore-test");await Kt(h,d),(await Mn(h)).exists()?(r(p=>({...p,firestore:"✅ Success"})),e("Firestore test completed")):(r(p=>({...p,firestore:"❌ Failed"})),e("Firestore test failed"))}catch(d){r(h=>({...h,firestore:`❌ Error: ${d}`})),e("Firestore test error")}},i=async()=>{try{e("Testing Firebase Storage...");const d=document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");h&&(h.fillStyle="red",h.fillRect(0,0,1,1)),d.toBlob(async f=>{if(f){const p=new File([f],"test.png",{type:"image/png"}),y=zI(Wg,"test/test-image.png");await UI(y,p);const b=await BI(y);r(_=>({..._,storage:"✅ Success"})),e("Storage test completed")}})}catch(d){r(h=>({...h,storage:`❌ Error: ${d}`})),e("Storage test error")}},o=async()=>{try{e("Testing startup registration...");const d={name:"Test Startup "+Date.now(),tagline:"Test Tagline",story:"Test Story",sector:"Technology",badges:["AI","ML"],team:[],slug:"test-startup-"+Date.now(),createdAt:new Date,status:"active",createdBy:"test@example.com",logo:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMDAwIi8+Cjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlRlc3Q8L3RleHQ+Cjwvc3ZnPgo=",isTemplateCompatible:!0,templateVersion:"1.0",profileCreatedAt:new Date,lastUpdated:new Date},h=We(Z,"startups",d.slug);await Kt(h,d),(await Mn(h)).exists()?(r(p=>({...p,registration:"✅ Success"})),e("Startup registration test completed")):(r(p=>({...p,registration:"❌ Failed"})),e("Startup registration test failed"))}catch(d){r(h=>({...h,registration:`❌ Error: ${d}`})),e("Startup registration test error")}},l=async()=>{try{e("Testing existing data...");const d=pe(Z,"startups"),h=await Ve(d);h.size>0?(r(f=>({...f,existingData:`✅ Found ${h.size} startups`})),e("Existing data test completed")):(r(f=>({...f,existingData:"⚠️ No existing data found"})),e("No existing data found"))}catch(d){r(h=>({...h,existingData:`❌ Error: ${d}`})),e("Existing data test error")}},c=async()=>{e("Running all tests..."),r({}),await s(),await i(),await o(),await l(),e("All tests completed")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Production Readiness Test"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Firestore"}),a.jsx("button",{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Storage"}),a.jsx("button",{onClick:o,className:"bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Registration"}),a.jsx("button",{onClick:l,className:"bg-orange-600 hover:bg-orange-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Existing Data"}),a.jsx("button",{onClick:c,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] hover:from-[#d15878] hover:to-[#6d6edd] text-white py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 col-span-full lg:col-span-1",children:"Run All Tests"})]}),t&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Status:"}),a.jsx("p",{className:"text-sm",children:t})]}),Object.keys(n).length>0&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Results:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(n).map(([d,h])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"capitalize",children:[d,":"]}),a.jsx("span",{className:h.includes("✅")?"text-green-400":h.includes("❌")?"text-red-400":"text-yellow-400",children:h})]},d))})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Production Checklist:"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Firebase Configuration"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Authentication System"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Role-Based Access Control"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Startup Registration Flow"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Profile Page Generation"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Logo Upload System"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Email Invitation System"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Dashboard Functionality"})]})]})]})]})})},A5=()=>{const[t,e]=C.useState(""),[n,r]=C.useState({}),s=async()=>{try{e("Testing Firestore write...");const d={name:"Test Startup "+Date.now(),tagline:"Test Tagline",story:"Test Story",sector:"Technology",badges:["AI","ML"],team:[{name:"Test Member",role:"Developer",linkedin:"",github:"",portfolio:"",pitchVideo:"",hiring:!1}],slug:"test-startup-"+Date.now(),createdAt:new Date,status:"active",createdBy:"test@example.com",logo:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMDAwIi8+Cjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlRlc3Q8L3RleHQ+Cjwvc3ZnPgo=",isTemplateCompatible:!0,templateVersion:"1.0",profileCreatedAt:new Date,lastUpdated:new Date},h=We(Z,"startups",d.slug);await Kt(h,d),(await Mn(h)).exists()?(r(p=>({...p,firestoreWrite:"✅ Success"})),e("Firestore write test completed")):(r(p=>({...p,firestoreWrite:"❌ Failed"})),e("Firestore write test failed"))}catch(d){r(h=>({...h,firestoreWrite:`❌ Error: ${d}`})),e("Firestore write test error")}},i=async()=>{try{e("Testing Firebase Storage upload...");const d=document.createElement("canvas");d.width=100,d.height=100;const h=d.getContext("2d");h&&(h.fillStyle="#e86888",h.fillRect(0,0,100,100),h.fillStyle="white",h.font="20px Arial",h.fillText("TEST",25,55)),d.toBlob(async f=>{if(f){const p=new File([f],"test-logo.png",{type:"image/png"}),y=await PN(p,"TestStartup");y.success&&y.url?(r(b=>({...b,storageUpload:"✅ Success"})),e("Storage upload test completed")):(r(b=>({...b,storageUpload:`❌ Failed: ${y.error}`})),e("Storage upload test failed"))}})}catch(d){r(h=>({...h,storageUpload:`❌ Error: ${d}`})),e("Storage upload test error")}},o=async()=>{try{e("Testing complete registration flow...");const d={name:"Complete Test Startup "+Date.now(),tagline:"Complete Test Tagline",story:"Complete Test Story",sector:"Technology",badges:["AI","ML","SaaS"],team:[{name:"Test Founder",role:"CEO",linkedin:"https://linkedin.com/test",github:"https://github.com/test",portfolio:"https://portfolio.com/test",pitchVideo:"https://youtube.com/test",hiring:!0}],website:"https://teststartup.com",appStore:"https://apps.apple.com/test",playStore:"https://play.google.com/test",demoUrl:"https://demo.teststartup.com",contactEmail:"test@teststartup.com",contactPhone:"+1234567890",productVideo:"https://youtube.com/product",pitchDeck:"https://slides.com/pitch",qrCode:"https://qr.teststartup.com",problem:"Test problem description",solution:"Test solution description",collaborationMessage:"Test collaboration message",slug:"complete-test-startup-"+Date.now(),createdAt:new Date,status:"active",createdBy:"test@example.com",logo:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMDAwIi8+Cjx0ZXh0IHg9IjUwIiB5PSI1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPlRlc3Q8L3RleHQ+Cjwvc3ZnPgo=",isTemplateCompatible:!0,templateVersion:"1.0",profileCreatedAt:new Date,lastUpdated:new Date},h=We(Z,"startups",d.slug);await Kt(h,d);const f=await Mn(h);if(f.exists()){const p=f.data();console.log("✅ Registration data saved:",p);const y=`/startup/${d.slug}`;console.log("✅ Profile URL generated:",y),r(b=>({...b,registrationFlow:"✅ Success - Data saved and profile URL generated",profileUrl:y})),e("Complete registration flow test completed")}else r(p=>({...p,registrationFlow:"❌ Failed - Data not saved"})),e("Registration flow test failed")}catch(d){r(h=>({...h,registrationFlow:`❌ Error: ${d}`})),e("Registration flow test error")}},l=async()=>{try{e("Testing existing data...");const d=pe(Z,"startups"),h=await Ve(d);if(h.size>0){const f=h.docs.map(p=>({id:p.id,...p.data()}));console.log("✅ Found existing startups:",f),r(p=>({...p,existingData:`✅ Found ${h.size} startups`,startupCount:h.size})),e("Existing data test completed")}else r(f=>({...f,existingData:"⚠️ No existing data found"})),e("No existing data found")}catch(d){r(h=>({...h,existingData:`❌ Error: ${d}`})),e("Existing data test error")}},c=async()=>{e("Running all tests..."),r({}),await s(),await i(),await o(),await l(),e("All tests completed")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Registration & Storage Test"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx("button",{onClick:s,className:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Firestore Write"}),a.jsx("button",{onClick:i,className:"bg-green-600 hover:bg-green-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Storage Upload"}),a.jsx("button",{onClick:o,className:"bg-purple-600 hover:bg-purple-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Registration Flow"}),a.jsx("button",{onClick:l,className:"bg-orange-600 hover:bg-orange-700 text-white py-3 px-6 rounded-lg transition-colors",children:"Test Existing Data"}),a.jsx("button",{onClick:c,className:"bg-gradient-to-r from-[#e86888] to-[#7d7eed] hover:from-[#d15878] hover:to-[#6d6edd] text-white py-3 px-6 rounded-lg transition-all duration-300 hover:scale-105 col-span-full lg:col-span-1",children:"Run All Tests"})]}),t&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Status:"}),a.jsx("p",{className:"text-sm",children:t})]}),Object.keys(n).length>0&&a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Results:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(n).map(([d,h])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"capitalize",children:[d,":"]}),a.jsx("span",{className:h.includes("✅")?"text-green-400":h.includes("❌")?"text-red-400":"text-yellow-400",children:h})]},d))})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Backend Status:"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Firebase Configuration"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Firestore Database"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Firebase Storage"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Image Upload System"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Registration Flow"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center text-xs",children:"✓"}),a.jsx("span",{children:"Profile Generation"})]})]})]})]})})},k5=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(null);return C.useEffect(()=>{(async()=>{try{r(!0),console.log("🔍 Debug: Fetching ALL startups from database...");const l=pe(Z,"startups"),d=(await Ve(l)).docs.map(h=>{const f=h.data();return{id:h.id,...f}});console.log("✅ Debug: Found startups in database:",d.length),console.log("✅ Debug: All startup data:",d),e(d),i(null)}catch(l){console.error("❌ Debug: Error fetching startups:",l),i(l instanceof Error?l.message:"Unknown error")}finally{r(!1)}})()},[]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Database Debug - Startup Check"}),n&&a.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:a.jsx("p",{className:"text-lg",children:"Loading startup data..."})}),s&&a.jsxs("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-lg p-6 mb-6 border border-red-500/50",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-red-400",children:"Error:"}),a.jsx("p",{className:"text-red-300",children:s})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Database Summary:"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-blue-400",children:"Total Startups"}),a.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-green-400",children:"Active Startups"}),a.jsx("p",{className:"text-2xl font-bold",children:t.filter(o=>o.status==="active").length})]}),a.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-purple-400",children:"Sectors"}),a.jsx("p",{className:"text-2xl font-bold",children:new Set(t.map(o=>o.sector).filter(Boolean)).size})]})]})]}),t.length>0?a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"All Startups in Database:"}),a.jsx("div",{className:"space-y-4",children:t.map((o,l)=>a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h4",{className:"font-semibold text-lg",children:o.name||"Unnamed Startup"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o.status==="active"?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:o.status||"unknown"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"ID:"})," ",o.id]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Sector:"})," ",o.sector||"Not specified"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Created:"})," ",o.createdAt?new Date(o.createdAt.toDate?o.createdAt.toDate():o.createdAt).toLocaleDateString():"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Created By:"})," ",o.createdBy||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Slug:"})," ",o.slug||"No slug"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Has Logo:"})," ",o.logo?"✅ Yes":"❌ No"]})]}),o.tagline&&a.jsxs("p",{className:"text-white/70 mt-2 italic",children:['"',o.tagline,'"']})]},o.id||l))})]}):a.jsxs("div",{className:"bg-yellow-500/20 backdrop-blur-sm rounded-lg p-6 border border-yellow-500/50",children:[a.jsx("h3",{className:"text-lg font-semibold mb-2 text-yellow-400",children:"No Startups Found"}),a.jsx("p",{className:"text-yellow-300",children:"No startups were found in the database. This could mean:"}),a.jsxs("ul",{className:"text-yellow-300 mt-2 list-disc list-inside space-y-1",children:[a.jsx("li",{children:"No startups have been registered yet"}),a.jsx("li",{children:"There's an issue with the database connection"}),a.jsx("li",{children:"The startups collection doesn't exist"}),a.jsx("li",{children:"There's a permissions issue"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Debug Information:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Database:"})," Firestore"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Collection:"})," startups"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Query:"})," getDocs(collection(db, 'startups'))"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Filters:"})," None (fetching all documents)"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Timestamp:"})," ",new Date().toLocaleString()]})]})]})]})})},C5=()=>{const{currentUser:t}=Yt(),[e,n]=C.useState(""),[r,s]=C.useState("general"),[i,o]=C.useState(""),l=async()=>{if(!t){o("Error: No user logged in");return}if(!e.trim()){o("Error: Please enter a comment");return}try{o("Submitting comment...");const c={investorId:t.uid,investorName:t.displayName||t.email,startupId:"test-startup-id",comment:e.trim(),timestamp:new Date,type:r};console.log("Submitting comment:",c);const d=await ur(pe(Z,"comments"),c);o(`Success! Comment added with ID: ${d.id}`),n("")}catch(c){console.error("Error submitting comment:",c),o(`Error: ${c.message}`)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Comment Submission Test"}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Test Comment Submission"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Comment Type:"}),a.jsxs("select",{value:r,onChange:c=>s(c.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:border-[#e86888]",children:[a.jsx("option",{value:"general",children:"General Comment"}),a.jsx("option",{value:"investment",children:"Investment Related"}),a.jsx("option",{value:"hiring",children:"Hiring Related"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Comment Text:"}),a.jsx("textarea",{value:e,onChange:c=>n(c.target.value),placeholder:"Enter your test comment...",className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white text-sm focus:outline-none focus:border-[#e86888] resize-none",rows:4})]}),a.jsx("button",{onClick:l,className:"w-full py-3 bg-gradient-to-r from-[#e86888] to-[#7d7eed] text-white rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Test Comment Submission"})]})]}),i&&a.jsxs("div",{className:`bg-white/10 backdrop-blur-sm rounded-lg p-6 ${i.includes("Error")?"border border-red-500/50":"border border-green-500/50"}`,children:[a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Status:"}),a.jsx("p",{className:i.includes("Error")?"text-red-300":"text-green-300",children:i})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Debug Information:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Current User:"})," ",(t==null?void 0:t.email)||"Not logged in"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"User ID:"})," ",(t==null?void 0:t.uid)||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Display Name:"})," ",(t==null?void 0:t.displayName)||"N/A"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Comment Type:"})," ",r]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white/60",children:"Comment Length:"})," ",e.length," characters"]})]})]})]})})},P5=()=>{const{currentUser:t}=Yt(),[e,n]=C.useState([]),[r,s]=C.useState(!1),i=async()=>{try{s(!0),console.log("Fetching comments from Firestore...");const l=pe(Z,"comments"),c=Td(l,vI("timestamp","desc")),h=(await Ve(c)).docs.map(f=>{var y,b;const p=f.data();return console.log("Comment doc:",{id:f.id,...p}),{id:f.id,...p,timestamp:((b=(y=p.timestamp)==null?void 0:y.toDate)==null?void 0:b.call(y))||p.timestamp||new Date}});console.log("Fetched comments:",h),n(h)}catch(l){console.error("Error fetching comments:",l)}finally{s(!1)}},o=async()=>{try{const l={investorId:(t==null?void 0:t.uid)||"test-user",investorName:(t==null?void 0:t.email)||"test@example.com",startupId:"test-startup-123",comment:`Test comment from ${new Date().toLocaleString()}`,timestamp:new Date,type:"general"};console.log("Adding test comment:",l);const c=await ur(pe(Z,"comments"),l);console.log("Comment added with ID:",c.id),await i(),alert("Test comment added successfully!")}catch(l){console.error("Error adding test comment:",l),alert(`Error: ${l}`)}};return C.useEffect(()=>{i()},[]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Comment Debug Tool"}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Actions"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:i,disabled:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 disabled:opacity-50",children:r?"Loading...":"Refresh Comments"}),a.jsx("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105",children:"Add Test Comment"})]})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Comments (",e.length,")"]}),e.length===0?a.jsx("p",{className:"text-white/60",children:"No comments found."}):a.jsx("div",{className:"space-y-4",children:e.map((l,c)=>a.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold",children:l.investorName}),a.jsxs("p",{className:"text-white/60 text-sm",children:["Startup: ",l.startupId]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.type==="investment"?"bg-green-500/20 text-green-400":l.type==="hiring"?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:l.type})]}),a.jsx("p",{className:"text-white/90 text-sm mb-2",children:l.comment}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-white/60",children:[a.jsxs("span",{children:["ID: ",l.id]}),a.jsx("span",{children:new Date(l.timestamp).toLocaleString()})]})]},l.id))})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 mt-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Raw Data"}),a.jsx("pre",{className:"text-white/80 text-xs bg-black/20 p-3 rounded-md overflow-auto max-h-60",children:JSON.stringify(e,null,2)})]})]})})},Jt=({children:t,allowedRoles:e})=>{const{currentUser:n,loading:r}=Yt();return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):n?e.includes(n.role)?a.jsx(a.Fragment,{children:t}):a.jsx(da,{to:"/"}):a.jsx(da,{to:"/login"})},j5=()=>{const{currentUser:t,loading:e}=Yt();if(e)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(t)switch(t.role){case"investor":return a.jsx(da,{to:"/investor-dashboard"});case"college":return a.jsx(da,{to:"/college-dashboard"});case"admin":return a.jsx(da,{to:"/admin-dashboard"})}return a.jsxs(a.Fragment,{children:[a.jsx(e5,{}),a.jsx(o5,{}),a.jsx(CN,{}),a.jsx(a5,{}),a.jsx(l5,{}),a.jsx(u5,{}),a.jsx(d5,{}),a.jsx(h5,{}),a.jsx(f5,{}),a.jsx(m5,{})]})},R5=()=>a.jsx(D2,{children:a.jsxs("div",{className:"App",children:[a.jsx(ZF,{}),a.jsxs(N2,{children:[a.jsx(Qe,{path:"/setup",element:a.jsx(EF,{})}),a.jsx(Qe,{path:"/login",element:a.jsx(vF,{})}),a.jsx(Qe,{path:"/register",element:a.jsx(xF,{})}),a.jsx(Qe,{path:"/register/:token",element:a.jsx(x5,{})}),a.jsx(Qe,{path:"/startup/:slug",element:a.jsx(w5,{})}),a.jsx(Qe,{path:"/investor-dashboard",element:a.jsx(Jt,{allowedRoles:["investor"],children:a.jsx(YF,{})})}),a.jsx(Qe,{path:"/college-dashboard",element:a.jsx(Jt,{allowedRoles:["college"],children:a.jsx(XF,{})})}),a.jsx(Qe,{path:"/admin-dashboard",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(JF,{})})}),a.jsx(Qe,{path:"/admin/invite",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(p5,{})})}),a.jsx(Qe,{path:"/admin/email-test",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(g5,{})})}),a.jsx(Qe,{path:"/admin/auth-test",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(E5,{})})}),a.jsx(Qe,{path:"/admin/profile-manager",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(S5,{})})}),a.jsx(Qe,{path:"/admin/production-test",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(N5,{})})}),a.jsx(Qe,{path:"/admin/registration-test",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(A5,{})})}),a.jsx(Qe,{path:"/admin/database-debug",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(k5,{})})}),a.jsx(Qe,{path:"/admin/comment-test",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(C5,{})})}),a.jsx(Qe,{path:"/admin/comment-debug",element:a.jsx(Jt,{allowedRoles:["admin"],children:a.jsx(P5,{})})}),a.jsx(Qe,{path:"/",element:a.jsx(j5,{})})]})]})}),D5=()=>a.jsx(I5,{children:a.jsx(UM,{children:a.jsx(R5,{})})});H1(document.getElementById("root")).render(a.jsx(C.StrictMode,{children:a.jsx(D5,{})}));
